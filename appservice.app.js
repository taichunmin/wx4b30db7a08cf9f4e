var __wxAppData=__wxAppData||{};var __wxRoute=__wxRoute||"";var __wxRouteBegin=__wxRouteBegin||"";var __wxAppCode__=__wxAppCode__||{};var global=global||{};var __WXML_GLOBAL__=__WXML_GLOBAL__||{entrys:{},defines:{},modules:{},ops:[],wxs_nf_init:undefined,total_ops:0};var __wxAppCurrentFile__=__wxAppCurrentFile__||"";var Component=Component||function(){};var definePlugin=definePlugin||function(){};var requirePlugin=requirePlugin||function(){};var Behavior=Behavior||function(){};var __vd_version_info__=__vd_version_info__||{};var __GWX_GLOBAL__=__GWX_GLOBAL__||{};
/*v0.5vv_20211229_syb_scopedata*/global.__wcc_version__='v0.5vv_20211229_syb_scopedata';global.__wcc_version_info__={"customComponents":true,"fixZeroRpx":true,"propValueDeepCopy":false};
var $gwxc
var $gaic={}
$gwx=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx || [];
function gz$gwx_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_1)return __WXML_GLOBAL__.ops_cached.$gwx_1
__WXML_GLOBAL__.ops_cached.$gwx_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'switchTap'])
Z([1,false])
Z([3,'tag'])
Z([[7],[3,'value']])
Z([[7],[3,'list']])
Z([3,'index'])
Z([[8],'dot',[[6],[[7],[3,'item']],[3,'dot']]])
Z([[6],[[7],[3,'item']],[3,'icon']])
Z([[6],[[7],[3,'item']],[3,'value']])
})(__WXML_GLOBAL__.ops_cached.$gwx_1);return __WXML_GLOBAL__.ops_cached.$gwx_1
}
function gz$gwx_2(){
if( __WXML_GLOBAL__.ops_cached.$gwx_2)return __WXML_GLOBAL__.ops_cached.$gwx_2
__WXML_GLOBAL__.ops_cached.$gwx_2=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'badge'])
Z([[2,'||'],[[7],[3,'color']],[1,'']])
Z([[2,'||'],[[7],[3,'content']],[1,'']])
Z([[2,'||'],[[7],[3,'count']],[1,0]])
Z([[2,'||'],[[7],[3,'dot']],[1,false]])
Z([[2,'||'],[[7],[3,'maxCount']],[1,99]])
Z([[2,'||'],[[7],[3,'offset']],[[4],[[5]]]])
Z([[2,'||'],[[7],[3,'shape']],[1,'circle']])
Z([[2,'||'],[[7],[3,'showZero']],[1,false]])
Z([[2,'||'],[[7],[3,'size']],[1,'medium']])
Z([a,[[7],[3,'class']],[3,' '],[[7],[3,'tClass']]])
Z([[7],[3,'tClassContent']])
Z([[7],[3,'tClassCount']])
})(__WXML_GLOBAL__.ops_cached.$gwx_2);return __WXML_GLOBAL__.ops_cached.$gwx_2
}
function gz$gwx_3(){
if( __WXML_GLOBAL__.ops_cached.$gwx_3)return __WXML_GLOBAL__.ops_cached.$gwx_3
__WXML_GLOBAL__.ops_cached.$gwx_3=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'button'])
Z([[2,'||'],[[7],[3,'appParameter']],[1,'']])
Z([[2,'||'],[[7],[3,'ariaLabel']],[1,'']])
Z([3,'onTplButtonTap'])
Z(z[3])
Z(z[3])
Z(z[3])
Z(z[3])
Z(z[3])
Z(z[3])
Z(z[3])
Z([[2,'||'],[[7],[3,'block']],[1,false]])
Z([[2,'||'],[[7],[3,'class']],[1,'']])
Z([[7],[3,'extra']])
Z([[7],[3,'type']])
Z([[2,'||'],[[7],[3,'disabled']],[1,false]])
Z([[2,'||'],[[7],[3,'ghost']],[1,false]])
Z([[2,'||'],[[7],[3,'hoverClass']],[1,'']])
Z([[2,'||'],[[7],[3,'hoverStartTime']],[1,20]])
Z([[2,'||'],[[7],[3,'hoverStayTime']],[1,70]])
Z([[2,'||'],[[7],[3,'hoverStopPropagation']],[1,false]])
Z([[2,'||'],[[7],[3,'icon']],[1,'']])
Z([[2,'||'],[[7],[3,'lang']],[1,'en']])
Z([[2,'||'],[[7],[3,'loading']],[1,false]])
Z([[2,'||'],[[7],[3,'openType']],[1,'']])
Z([[2,'||'],[[7],[3,'sendMessageImg']],[1,'']])
Z([[2,'||'],[[7],[3,'sendMessagePath']],[1,'']])
Z([[2,'||'],[[7],[3,'sendMessageTitle']],[1,'']])
Z([[2,'||'],[[7],[3,'sessionFrom']],[1,'']])
Z([[2,'||'],[[7],[3,'shape']],[1,'rectangle']])
Z([[2,'||'],[[7],[3,'showMessageCard']],[1,false]])
Z([[2,'||'],[[7],[3,'size']],[1,'medium']])
Z([[7],[3,'externalClass']])
Z([[7],[3,'tId']])
Z([[2,'||'],[[7],[3,'theme']],[1,'default']])
Z([[2,'||'],[[7],[3,'variant']],[1,'base']])
})(__WXML_GLOBAL__.ops_cached.$gwx_3);return __WXML_GLOBAL__.ops_cached.$gwx_3
}
function gz$gwx_4(){
if( __WXML_GLOBAL__.ops_cached.$gwx_4)return __WXML_GLOBAL__.ops_cached.$gwx_4
__WXML_GLOBAL__.ops_cached.$gwx_4=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'icon'])
Z([[2,'||'],[[7],[3,'ariaHidden']],[1,'']])
Z([[2,'||'],[[7],[3,'ariaLabel']],[1,'']])
Z([[2,'||'],[[7],[3,'ariaRole']],[1,'']])
Z([[2,'||'],[[7],[3,'bindclick']],[1,'']])
Z([[7],[3,'class']])
Z([[2,'||'],[[7],[3,'color']],[1,'']])
Z([[2,'||'],[[7],[3,'name']],[1,'']])
Z([[2,'||'],[[7],[3,'prefix']],[1,'']])
Z([[2,'||'],[[7],[3,'size']],[1,'']])
Z([[2,'||'],[[7],[3,'style']],[1,'']])
Z([[7],[3,'tClass']])
})(__WXML_GLOBAL__.ops_cached.$gwx_4);return __WXML_GLOBAL__.ops_cached.$gwx_4
}
function gz$gwx_5(){
if( __WXML_GLOBAL__.ops_cached.$gwx_5)return __WXML_GLOBAL__.ops_cached.$gwx_5
__WXML_GLOBAL__.ops_cached.$gwx_5=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'image'])
Z([[7],[3,'binderror']])
Z([[7],[3,'bindload']])
Z([[7],[3,'class']])
Z([[2,'||'],[[7],[3,'customStyle']],[1,'']])
Z([[2,'||'],[[7],[3,'dataset']],[1,null]])
Z([[2,'||'],[[7],[3,'error']],[1,'default']])
Z([[2,'||'],[[7],[3,'height']],[1,'']])
Z([[2,'||'],[[7],[3,'lazy']],[1,false]])
Z([[2,'||'],[[7],[3,'count']],[1,'default']])
Z([[2,'||'],[[7],[3,'mode']],[1,'scaleToFill']])
Z([[2,'||'],[[7],[3,'shape']],[1,'square']])
Z([[2,'||'],[[7],[3,'showMenuByLongpress']],[1,false]])
Z([[2,'||'],[[7],[3,'src']],[1,'']])
Z([[2,'||'],[[7],[3,'style']],[1,'']])
Z([[7],[3,'tClass']])
Z([[7],[3,'tClassLoad']])
Z([[2,'||'],[[7],[3,'webp']],[1,false]])
Z([[2,'||'],[[7],[3,'width']],[1,'']])
})(__WXML_GLOBAL__.ops_cached.$gwx_5);return __WXML_GLOBAL__.ops_cached.$gwx_5
}
function gz$gwx_6(){
if( __WXML_GLOBAL__.ops_cached.$gwx_6)return __WXML_GLOBAL__.ops_cached.$gwx_6
__WXML_GLOBAL__.ops_cached.$gwx_6=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'draggable'])
Z([3,'onMove'])
Z([[2,'?:'],[[2,'==='],[[7],[3,'draggable']],[1,true]],[1,'all'],[[7],[3,'draggable']]])
Z(z[0])
Z([a,[3,'right:16px;bottom:32px;'],[[12],[[6],[[7],[3,'_']],[3,'_style']],[[5],[[4],[[5],[[5],[[5],[[7],[3,'style']]],[[7],[3,'customStyle']]],[[7],[3,'moveStyle']]]]]]])
Z([a,[[7],[3,'prefix']],[3,'}-fab__button']])
Z([[10],[[7],[3,'buttonData']]])
Z([3,'button'])
})(__WXML_GLOBAL__.ops_cached.$gwx_6);return __WXML_GLOBAL__.ops_cached.$gwx_6
}
function gz$gwx_7(){
if( __WXML_GLOBAL__.ops_cached.$gwx_7)return __WXML_GLOBAL__.ops_cached.$gwx_7
__WXML_GLOBAL__.ops_cached.$gwx_7=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'view'])
Z([[10],[[7],[3,'buttonData']]])
Z([3,'button'])
})(__WXML_GLOBAL__.ops_cached.$gwx_7);return __WXML_GLOBAL__.ops_cached.$gwx_7
}
__WXML_GLOBAL__.ops_set.$gwx=z;
__WXML_GLOBAL__.ops_init.$gwx=true;
var nv_require=function(){var nnm={"m_./miniprogram_npm/tdesign-miniprogram/grid-item/grid-item.wxml:util":np_4,"p_./miniprogram_npm/tdesign-miniprogram/badge/badge.wxs":np_0,"p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs":np_1,"p_./miniprogram_npm/tdesign-miniprogram/dialog/dialog.wxs":np_2,"p_./miniprogram_npm/tdesign-miniprogram/dropdown-item/index.wxs":np_3,"p_./miniprogram_npm/tdesign-miniprogram/input/input.wxs":np_5,"p_./miniprogram_npm/tdesign-miniprogram/message/message.wxs":np_6,"p_./miniprogram_npm/tdesign-miniprogram/popup/popup.wxs":np_7,"p_./miniprogram_npm/tdesign-miniprogram/progress/progress.wxs":np_8,"p_./miniprogram_npm/tdesign-miniprogram/step-item/step-item.wxs":np_9,"p_./miniprogram_npm/tdesign-miniprogram/swipe-cell/swipe-cell.wxs":np_10,"p_./miniprogram_npm/tdesign-miniprogram/tabs/tabs.wxs":np_11,"p_./miniprogram_npm/tdesign-miniprogram/textarea/textarea.wxs":np_12,};var nom={};return function(n){if(n[0]==='p'&&n[1]==='_'&&f_[n.slice(2)])return f_[n.slice(2)];return function(){if(!nnm[n]) return undefined;try{if(!nom[n])nom[n]=nnm[n]();return nom[n];}catch(e){e.message=e.message.replace(/nv_/g,'');var tmp = e.stack.substring(0,e.stack.lastIndexOf(n));e.stack = tmp.substring(0,tmp.lastIndexOf('\n'));e.stack = e.stack.replace(/\snv_/g,' ');e.stack = $gstack(e.stack);e.stack += '\n    at ' + n.substring(2);console.error(e);}
}}}()
f_['./miniprogram_npm/tdesign-miniprogram/back-top/back-top.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/back-top/back-top.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/back-top/back-top.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/badge/badge.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/badge/badge.wxml']['this'] =f_['./miniprogram_npm/tdesign-miniprogram/badge/badge.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/badge/badge.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/badge/badge.wxml']['this']();
f_['./miniprogram_npm/tdesign-miniprogram/badge/badge.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/badge/badge.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/badge/badge.wxs'] = nv_require("p_./miniprogram_npm/tdesign-miniprogram/badge/badge.wxs");
function np_0(){var nv_module={nv_exports:{}};var nv_getBadgeValue = (function (nv_props){if (nv_props.nv_dot){return('')};if (nv_isNaN(nv_props.nv_count) || nv_isNaN(nv_props.nv_maxCount)){return(nv_props.nv_count)};return(nv_parseInt(nv_props.nv_count) > nv_props.nv_maxCount ? nv_props.nv_maxCount + '+':nv_props.nv_count)});var nv_hasUnit = (function (nv_unit){return((nv_unit.nv_indexOf('px') > 0 || nv_unit.nv_indexOf('rpx') > 0 || nv_unit.nv_indexOf('em') > 0 || nv_unit.nv_indexOf('rem') > 0 || nv_unit.nv_indexOf('%') > 0 || nv_unit.nv_indexOf('vh') > 0 || nv_unit.nv_indexOf('vm') > 0))});var nv_getBadgeStyles = (function (nv_props){var nv_styleStr = '';if (nv_props.nv_color){nv_styleStr += 'background:' + nv_props.nv_color + ';'};if (nv_props.nv_offset[(0)]){nv_styleStr += 'left: calc(100% + ' + (nv_hasUnit(nv_props.nv_offset[(0)].nv_toString()) ? nv_props.nv_offset[(0)]:nv_props.nv_offset[(0)] + 'px') + ');'};if (nv_props.nv_offset[(1)]){nv_styleStr += 'top:' + (nv_hasUnit(nv_props.nv_offset[(1)].nv_toString()) ? nv_props.nv_offset[(1)]:nv_props.nv_offset[(1)] + 'px') + ';'};return(nv_styleStr)});var nv_getBadgeOuterClass = (function (nv_props){var nv_baseClass = 't-badge';var nv_classNames = [nv_baseClass,nv_props.nv_shape === 'ribbon' ? nv_baseClass + '__ribbon-outer':''];return(nv_classNames.nv_join(' '))});var nv_getBadgeInnerClass = (function (nv_props){var nv_baseClass = 't-badge';var nv_classNames = [nv_baseClass + '--basic',nv_props.nv_dot ? nv_baseClass + '--dot':'',nv_baseClass + '--' + nv_props.nv_size,nv_baseClass + '--' + nv_props.nv_shape,!nv_props.nv_dot && nv_props.nv_count ? nv_baseClass + '--count':''];return(nv_classNames.nv_join(' '))});var nv_isShowBadge = (function (nv_props){if (nv_props.nv_dot){return(true)};if (!nv_props.nv_showZero && !nv_isNaN(nv_props.nv_count) && nv_parseInt(nv_props.nv_count) === 0){return(false)};if (nv_props.nv_count == null)return(false);;return(true)});nv_module.nv_exports.nv_getBadgeValue = nv_getBadgeValue;nv_module.nv_exports.nv_getBadgeStyles = nv_getBadgeStyles;nv_module.nv_exports.nv_getBadgeOuterClass = nv_getBadgeOuterClass;nv_module.nv_exports.nv_getBadgeInnerClass = nv_getBadgeInnerClass;nv_module.nv_exports.nv_isShowBadge = nv_isShowBadge;return nv_module.nv_exports;}

f_['./miniprogram_npm/tdesign-miniprogram/button/button.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/button/button.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/button/button.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/cell-group/cell-group.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/cell-group/cell-group.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/cell-group/cell-group.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/cell/cell.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/cell/cell.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/cell/cell.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/checkbox-group/checkbox-group.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/checkbox-group/checkbox-group.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/checkbox-group/checkbox-group.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/checkbox/checkbox.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/checkbox/checkbox.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/checkbox/checkbox.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/collapse-panel/collapse-panel.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/collapse-panel/collapse-panel.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/collapse-panel/collapse-panel.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/collapse/collapse.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/collapse/collapse.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/collapse/collapse.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] = nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
function np_1(){var nv_module={nv_exports:{}};function nv_addUnit(nv_value){var nv_REGEXP = nv_getRegExp('^-?\x5cd+(.\x5cd+)?$');if (nv_value == null){return(undefined)};return(nv_REGEXP.nv_test('' + nv_value) ? nv_value + 'px':nv_value)};function nv_isString(nv_string){return(nv_string && nv_string.nv_constructor === 'String')};function nv_isArray(nv_array){return(nv_array && nv_array.nv_constructor === 'Array')};function nv_isObject(nv_obj){return(nv_obj && nv_obj.nv_constructor === 'Object')};var nv_isNoEmptyObj = (function (nv_obj){return(nv_isObject(nv_obj) && nv_JSON.nv_stringify(nv_obj) !== '{}')});function nv_includes(nv_arr,nv_value){if (!nv_arr || !nv_isArray(nv_arr))return(false);;var nv_i = 0;var nv_len = nv_arr.nv_length;for(;nv_i < nv_len;nv_i++){if (nv_arr[((nt_0=(nv_i),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))] === nv_value)return(true);};return(false)};function nv_cls(nv_base,nv_arr){var nv_res = [nv_base];var nv_i = 0;for(var nv_size = nv_arr.nv_length;nv_i < nv_size;nv_i++){var nv_item = nv_arr[((nt_1=(nv_i),null==nt_1?undefined:'number'=== typeof nt_1?nt_1:"nv_"+nt_1))];if (nv_item && nv_item.nv_constructor === 'Array'){var nv_key = nv_arr[((nt_2=(nv_i),null==nt_2?undefined:'number'=== typeof nt_2?nt_2:"nv_"+nt_2))][(0)];var nv_value = nv_arr[((nt_3=(nv_i),null==nt_3?undefined:'number'=== typeof nt_3?nt_3:"nv_"+nt_3))][(1)];if (nv_value){nv_res.nv_push(nv_base + '--' + nv_key)}} else if (typeof nv_item === 'string' || typeof nv_item === 'number'){if (nv_item){nv_res.nv_push(nv_base + '--' + nv_item)}}};return(nv_res.nv_join(' '))};function nv_getBadgeAriaLabel(nv_options){var nv_maxCount = nv_options.nv_maxCount || 99;if (nv_options.nv_dot){return('有新的消息')};if (nv_options.nv_count === '...'){return('有很多消息')};if (nv_isNaN(nv_options.nv_count)){return(nv_options.nv_count)};var nv_str1 = '有' + nv_maxCount + '+条消息';var nv_str2 = '有' + nv_options.nv_count + '条消息';return(Number)(nv_options.nv_count) > nv_maxCount ? nv_str1:nv_str2};function nv_endsWith(nv_str,nv_endStr){return(nv_str.nv_slice(-nv_endStr.nv_length) === nv_endStr ? nv_str:nv_str + nv_endStr)};function nv_keys(nv_obj){return(nv_JSON.nv_stringify(nv_obj).nv_replace(nv_getRegExp('{|}|\x22','g'),'').nv_split(',').nv_map((function (nv_item){return(nv_item.nv_split(':')[(0)])})))};function nv_kebabCase(nv_str){return(nv_str.nv_replace(nv_getRegExp('[A-Z]','g'),(function (nv_ele){return('-' + nv_ele)})).nv_toLowerCase())};function nv__style(nv_styles){if (nv_isArray(nv_styles)){return(nv_styles.nv_filter((function (nv_item){return(nv_item != null && nv_item !== '')})).nv_map((function (nv_item){return(nv_isArray(nv_item) ? nv__style(nv_item):nv_endsWith(nv_item,';'))})).nv_join(' '))};if (nv_isObject(nv_styles)){return(nv_keys(nv_styles).nv_filter((function (nv_key){return(nv_styles[((nt_5=(nv_key),null==nt_5?undefined:'number'=== typeof nt_5?nt_5:"nv_"+nt_5))] != null && nv_styles[((nt_6=(nv_key),null==nt_6?undefined:'number'=== typeof nt_6?nt_6:"nv_"+nt_6))] !== '')})).nv_map((function (nv_key){return([nv_kebabCase(nv_key),[nv_styles[((nt_7=(nv_key),null==nt_7?undefined:'number'=== typeof nt_7?nt_7:"nv_"+nt_7))]]].nv_join(':'))})).nv_join(';'))};return(nv_styles)};nv_module.nv_exports = ({nv_addUnit:nv_addUnit,nv_isString:nv_isString,nv_isArray:nv_isArray,nv_isObject:nv_isObject,nv_isNoEmptyObj:nv_isNoEmptyObj,nv_includes:nv_includes,nv_cls:nv_cls,nv_getBadgeAriaLabel:nv_getBadgeAriaLabel,nv__style:nv__style,});return nv_module.nv_exports;}

f_['./miniprogram_npm/tdesign-miniprogram/dialog/dialog.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/dialog/dialog.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/dialog/dialog.wxml']['_']();
f_['./miniprogram_npm/tdesign-miniprogram/dialog/dialog.wxml']['this'] =f_['./miniprogram_npm/tdesign-miniprogram/dialog/dialog.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/dialog/dialog.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/dialog/dialog.wxml']['this']();

f_['./miniprogram_npm/tdesign-miniprogram/dialog/dialog.wxs'] = nv_require("p_./miniprogram_npm/tdesign-miniprogram/dialog/dialog.wxs");
function np_2(){var nv_module={nv_exports:{}};nv_module.nv_exports.nv_getTypeof = (function (nv_obj){return(typeof nv_obj)});nv_module.nv_exports.nv_getActionClass = (function (nv_prefix,nv_buttonLayout){var nv_cls = [nv_prefix + '__button',nv_prefix + '__button--action'];if (nv_buttonLayout){nv_cls.nv_push(nv_prefix + '__button--' + nv_buttonLayout)};return(nv_cls.nv_join(' '))});return nv_module.nv_exports;}

f_['./miniprogram_npm/tdesign-miniprogram/divider/divider.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/divider/divider.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/divider/divider.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/dropdown-item/dropdown-item.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/dropdown-item/dropdown-item.wxml']['this'] =f_['./miniprogram_npm/tdesign-miniprogram/dropdown-item/index.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/dropdown-item/index.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/dropdown-item/dropdown-item.wxml']['this']();
f_['./miniprogram_npm/tdesign-miniprogram/dropdown-item/dropdown-item.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/dropdown-item/dropdown-item.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/dropdown-item/index.wxs'] = nv_require("p_./miniprogram_npm/tdesign-miniprogram/dropdown-item/index.wxs");
function np_3(){var nv_module={nv_exports:{}};var nv_getStyles = (function (nv_top,nv_zIndex){var nv_topStyle = nv_top ? 'top:' + nv_top + 'px;':'';var nv_zIndexStyle = nv_zIndex ? 'z-index:' + nv_zIndex + ';':'';return(nv_topStyle + nv_zIndexStyle)});nv_module.nv_exports = ({nv_getStyles:nv_getStyles,});return nv_module.nv_exports;}

f_['./miniprogram_npm/tdesign-miniprogram/dropdown-menu/dropdown-menu.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/dropdown-menu/dropdown-menu.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/dropdown-menu/dropdown-menu.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/fab/draggable/draggable.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/fab/draggable/draggable.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/fab/draggable/draggable.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/fab/template/draggable.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/fab/template/draggable.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/fab/template/draggable.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/fab/template/view.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/fab/template/view.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/fab/template/view.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/footer/footer.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/footer/footer.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/footer/footer.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/grid-item/grid-item.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/grid-item/grid-item.wxml']['util'] =nv_require("m_./miniprogram_npm/tdesign-miniprogram/grid-item/grid-item.wxml:util");
function np_4(){var nv_module={nv_exports:{}};nv_module.nv_exports.nv_getImageSize = (function (nv_column){if (nv_column >= 5)return('small');;if (nv_column == 4)return('middle');;return('large')});return nv_module.nv_exports;}
f_['./miniprogram_npm/tdesign-miniprogram/grid-item/grid-item.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/grid-item/grid-item.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/grid/grid.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/grid/grid.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/grid/grid.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/icon/icon.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/icon/icon.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/icon/icon.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/image/image.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/image/image.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/image/image.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/input/input.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/input/input.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/input/input.wxml']['_']();
f_['./miniprogram_npm/tdesign-miniprogram/input/input.wxml']['this'] =f_['./miniprogram_npm/tdesign-miniprogram/input/input.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/input/input.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/input/input.wxml']['this']();

f_['./miniprogram_npm/tdesign-miniprogram/input/input.wxs'] = nv_require("p_./miniprogram_npm/tdesign-miniprogram/input/input.wxs");
function np_5(){var nv_module={nv_exports:{}};function nv_getInputClass(nv_classPrefix,nv_suffix,nv_align,nv_disabled){var nv_className = [nv_classPrefix + '__control'];if (nv_align){nv_className.nv_push(nv_classPrefix + '--' + nv_align)};if (nv_disabled){nv_className.nv_push(nv_classPrefix + '__control--disabled')};return(nv_className.nv_join(' '))};nv_module.nv_exports = ({nv_getInputClass:nv_getInputClass,});return nv_module.nv_exports;}

f_['./miniprogram_npm/tdesign-miniprogram/link/link.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/link/link.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/link/link.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/loading/loading.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/loading/loading.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/loading/loading.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/message/message.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/message/message.wxml']['this'] =f_['./miniprogram_npm/tdesign-miniprogram/message/message.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/message/message.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/message/message.wxml']['this']();
f_['./miniprogram_npm/tdesign-miniprogram/message/message.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/message/message.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/message/message.wxs'] = nv_require("p_./miniprogram_npm/tdesign-miniprogram/message/message.wxs");
function np_6(){var nv_module={nv_exports:{}};var nv_isEmptyObj = (function (nv_obj){return(nv_JSON.nv_stringify(nv_obj) === '{}')});var nv_changeNumToStr = (function (nv_arr){return(nv_arr.nv_map((function (nv_item){return(typeof nv_item === 'number' ? nv_item + 'rpx':nv_item)})))});var nv_getMessageStyles = (function (nv_zIndex,nv_offset,nv_wrapTop){var nv_arr = nv_changeNumToStr(nv_offset);var nv_styleOffset = '';nv_styleOffset += 'top:' + nv_changeNumToStr([nv_wrapTop * 2]) + ';';nv_styleOffset += 'right:' + nv_arr[(1)] + ';';nv_styleOffset += 'left:' + nv_arr[(1)] + ';';var nv_zIndexStyle = nv_zIndex ? 'z-index:' + nv_zIndex + ';':'';return(nv_zIndexStyle + nv_styleOffset)});nv_module.nv_exports = ({nv_getMessageStyles:nv_getMessageStyles,nv_isEmptyObj:nv_isEmptyObj,});return nv_module.nv_exports;}

f_['./miniprogram_npm/tdesign-miniprogram/navbar/navbar.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/navbar/navbar.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/navbar/navbar.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/notice-bar/notice-bar.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/notice-bar/notice-bar.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/notice-bar/notice-bar.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/overlay/overlay.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/overlay/overlay.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/overlay/overlay.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/picker-item/picker-item.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/picker-item/picker-item.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/picker-item/picker-item.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/picker/picker.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/picker/picker.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/picker/picker.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/popup/popup.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/popup/popup.wxml']['popup'] =f_['./miniprogram_npm/tdesign-miniprogram/popup/popup.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/popup/popup.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/popup/popup.wxml']['popup']();
f_['./miniprogram_npm/tdesign-miniprogram/popup/popup.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/popup/popup.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/popup/popup.wxs'] = nv_require("p_./miniprogram_npm/tdesign-miniprogram/popup/popup.wxs");
function np_7(){var nv_module={nv_exports:{}};function nv_getPopupStyles(nv_zIndex){var nv_zIndexStyle = nv_zIndex ? 'z-index:' + nv_zIndex + ';':'';return(nv_zIndexStyle)};function nv_onContentTouchMove(nv_e){if (nv_e.nv_target.nv_dataset.nv_prevention){return(false)}};nv_module.nv_exports = ({nv_getPopupStyles:nv_getPopupStyles,nv_onContentTouchMove:nv_onContentTouchMove,});return nv_module.nv_exports;}

f_['./miniprogram_npm/tdesign-miniprogram/progress/progress.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/progress/progress.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/progress/progress.wxml']['_']();
f_['./miniprogram_npm/tdesign-miniprogram/progress/progress.wxml']['this'] =f_['./miniprogram_npm/tdesign-miniprogram/progress/progress.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/progress/progress.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/progress/progress.wxml']['this']();

f_['./miniprogram_npm/tdesign-miniprogram/progress/progress.wxs'] = nv_require("p_./miniprogram_npm/tdesign-miniprogram/progress/progress.wxs");
function np_8(){var nv_module={nv_exports:{}};var nv_STATUS = ['success','error','warning'];var nv_STATUS_TEXT = ['success','error','warning','active'];var nv_PRO_THEME = ({nv_LINE:'line',nv_PLUMP:'plump',nv_CIRCLE:'circle',});var nv_STATUS_COLOR = ({nv_success:'#00a870',nv_error:'#e34d59',nv_warning:'#ed7b2f',});var nv_LINE_STATUS_ICON = ({nv_success:'check-circle-filled',nv_error:'error-circle-filled',nv_warning:'error-circle-filled',});var nv_CIRCLE_STATUS_ICON = ({nv_success:'check',nv_error:'close',nv_warning:'error',});var nv_getIOSAriaLabel = (function (nv_status){if (nv_status === 'error'){return('进度失败')};if (nv_status === 'warning'){return('进度异常')};return('')});var nv_getAndroidAriaLabel = (function (nv_status){if (nv_status === 'error'){return('%' + '，进度失败')};if (nv_status === 'warning'){return('%' + '，进度异常')};return('%')});nv_module.nv_exports = ({nv_STATUS:nv_STATUS,nv_STATUS_TEXT:nv_STATUS_TEXT,nv_PRO_THEME:nv_PRO_THEME,nv_STATUS_COLOR:nv_STATUS_COLOR,nv_LINE_STATUS_ICON:nv_LINE_STATUS_ICON,nv_CIRCLE_STATUS_ICON:nv_CIRCLE_STATUS_ICON,nv_getAndroidAriaLabel:nv_getAndroidAriaLabel,nv_getIOSAriaLabel:nv_getIOSAriaLabel,});return nv_module.nv_exports;}

f_['./miniprogram_npm/tdesign-miniprogram/pull-down-refresh/pull-down-refresh.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/pull-down-refresh/pull-down-refresh.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/pull-down-refresh/pull-down-refresh.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/radio-group/radio-group.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/radio-group/radio-group.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/radio-group/radio-group.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/radio/radio.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/radio/radio.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/radio/radio.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/search/search.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/search/search.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/search/search.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/step-item/step-item.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/step-item/step-item.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/step-item/step-item.wxml']['_']();
f_['./miniprogram_npm/tdesign-miniprogram/step-item/step-item.wxml']['t'] =f_['./miniprogram_npm/tdesign-miniprogram/step-item/step-item.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/step-item/step-item.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/step-item/step-item.wxml']['t']();

f_['./miniprogram_npm/tdesign-miniprogram/step-item/step-item.wxs'] = nv_require("p_./miniprogram_npm/tdesign-miniprogram/step-item/step-item.wxs");
function np_9(){var nv_module={nv_exports:{}};function nv_getAriaLabel(nv_index,nv_title,nv_content){return('第' + (nv_index + 1) + '步，' + nv_title + '，' + nv_content)};nv_module.nv_exports = ({nv_getAriaLabel:nv_getAriaLabel,});return nv_module.nv_exports;}

f_['./miniprogram_npm/tdesign-miniprogram/steps/steps.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/steps/steps.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/steps/steps.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/sticky/sticky.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/sticky/sticky.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/sticky/sticky.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/swipe-cell/swipe-cell.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/swipe-cell/swipe-cell.wxml']['swipe'] =f_['./miniprogram_npm/tdesign-miniprogram/swipe-cell/swipe-cell.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/swipe-cell/swipe-cell.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/swipe-cell/swipe-cell.wxml']['swipe']();
f_['./miniprogram_npm/tdesign-miniprogram/swipe-cell/swipe-cell.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/swipe-cell/swipe-cell.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/swipe-cell/swipe-cell.wxs'] = nv_require("p_./miniprogram_npm/tdesign-miniprogram/swipe-cell/swipe-cell.wxs");
function np_10(){var nv_module={nv_exports:{}};var nv_THRESHOLD = 0.3;var nv_MIN_DISTANCE = 10;var nv_owner;var nv_state;var nv_getState = (function (nv_ownerInstance){nv_owner = nv_ownerInstance;nv_state = nv_owner.nv_getState();nv_state.nv_leftWidth = nv_state.nv_leftWidth || 0;nv_state.nv_rightWidth = nv_state.nv_rightWidth || 0;nv_state.nv_offset = nv_state.nv_offset || 0;nv_state.nv_startOffset = nv_state.nv_startOffset || 0;nv_state.nv_opened = nv_state.nv_opened || false});var nv_initRightWidth = (function (nv_newVal,nv_oldVal,nv_ownerInstance){nv_getState(nv_ownerInstance);nv_state.nv_rightWidth = nv_newVal;nv_initOpen(nv_ownerInstance)});var nv_initLeftWidth = (function (nv_newVal,nv_oldVal,nv_ownerInstance){nv_getState(nv_ownerInstance);nv_state.nv_leftWidth = nv_newVal;nv_initOpen(nv_ownerInstance)});var nv_initOpen = (function (nv_ownerInstance){nv_getState(nv_ownerInstance);if (nv_state.nv_opened.nv_constructor === 'Boolean'){if (nv_state.nv_opened && nv_state.nv_rightWidth > 0){nv_swipeMove(-nv_state.nv_rightWidth)} else if (nv_state.nv_opened && nv_state.nv_leftWidth > 0){nv_swipeMove(nv_state.nv_leftWidth)}};if (nv_state.nv_opened.nv_constructor === 'Array'){if (nv_state.nv_opened[(1)] && nv_state.nv_rightWidth > 0){nv_swipeMove(-nv_state.nv_rightWidth)} else if (nv_state.nv_opened[(0)] && nv_state.nv_leftWidth > 0){nv_swipeMove(nv_state.nv_leftWidth)}}});var nv_resetTouchStatus = (function (){nv_state.nv_direction = '';nv_state.nv_deltaX = 0;nv_state.nv_deltaY = 0;nv_state.nv_offsetX = 0;nv_state.nv_offsetY = 0});var nv_touchMove = (function (nv_event){var nv_touchPoint = nv_event.nv_touches[(0)];nv_state.nv_deltaX = nv_touchPoint.nv_clientX - nv_state.nv_startX;nv_state.nv_deltaY = nv_touchPoint.nv_clientY - nv_state.nv_startY;nv_state.nv_offsetX = Math.nv_abs(nv_state.nv_deltaX);nv_state.nv_offsetY = Math.nv_abs(nv_state.nv_deltaY);nv_state.nv_direction = nv_state.nv_direction || nv_getDirection(nv_state.nv_offsetX,nv_state.nv_offsetY)});var nv_getDirection = (function (nv_x,nv_y){if (nv_x > nv_y && nv_x > nv_MIN_DISTANCE){return('horizontal')};if (nv_y > nv_x && nv_y > nv_MIN_DISTANCE){return('vertical')};return('')});var nv_range = (function (nv_num,nv_min,nv_max){return(Math.nv_min(Math.nv_max(nv_num,nv_min),nv_max))});var nv_swipeMove = (function (nv__offset){if (nv__offset === undefined)nv__offset = 0;;nv_state.nv_offset = nv_range(nv__offset,-nv_state.nv_rightWidth,+nv_state.nv_leftWidth);var nv_transform = 'translate3d(' + nv_state.nv_offset + 'px, 0, 0)';var nv_transition = nv_state.nv_dragging ? 'none':'transform .6s cubic-bezier(0.18, 0.89, 0.32, 1)';nv_owner.nv_selectComponent('#wrapper').nv_setStyle(({'nv_-webkit-transform':nv_transform,'nv_-webkit-transition':nv_transition,nv_transform:nv_transform,nv_transition:nv_transition,}))});var nv_close = (function (){nv_swipeMove(0)});var nv_onCloseChange = (function (nv_newVal,nv_oldVal,nv_ownerInstance){nv_getState(nv_ownerInstance);if (nv_newVal === nv_oldVal)return;;if (nv_newVal){nv_close()}});var nv_onOpenedChange = (function (nv_newVal,nv_oldVal,nv_ownerInstance){nv_getState(nv_ownerInstance);nv_state.nv_opened = nv_newVal;if (nv_newVal === nv_oldVal)return;;if (!nv_newVal){nv_close()}});var nv_touchStart = (function (nv_event){nv_resetTouchStatus();nv_state.nv_startOffset = nv_state.nv_offset;var nv_touchPoint = nv_event.nv_touches[(0)];nv_state.nv_startX = nv_touchPoint.nv_clientX;nv_state.nv_startY = nv_touchPoint.nv_clientY;nv_owner.nv_callMethod('closeOther')});var nv_startDrag = (function (nv_event,nv_ownerInstance){nv_getState(nv_ownerInstance);nv_touchStart(nv_event)});var nv_onDrag = (function (nv_event,nv_ownerInstance){nv_getState(nv_ownerInstance);nv_touchMove(nv_event);if (nv_state.nv_direction !== 'horizontal'){return};nv_state.nv_dragging = true;nv_swipeMove(nv_state.nv_startOffset + nv_state.nv_deltaX);return(false)});var nv_open = (function (nv_position){var nv__offset = nv_position === 'left' ? +nv_state.nv_leftWidth:-nv_state.nv_rightWidth;nv_owner.nv_callMethod('open',({nv_position:nv_position,}));nv_swipeMove(nv__offset)});var nv_endDrag = (function (nv_event,nv_ownerInstance){nv_getState(nv_ownerInstance);nv_state.nv_dragging = false;if (+nv_state.nv_rightWidth > 0 && -nv_state.nv_startOffset < +nv_state.nv_rightWidth && -nv_state.nv_offset > +nv_state.nv_rightWidth * nv_THRESHOLD){nv_open('right')} else if (+nv_state.nv_leftWidth > 0 && nv_state.nv_startOffset < +nv_state.nv_leftWidth && nv_state.nv_offset > +nv_state.nv_leftWidth * nv_THRESHOLD){nv_open('left')} else {if (nv_state.nv_startOffset !== nv_state.nv_offset){nv_close()}}});nv_module.nv_exports = ({nv_initLeftWidth:nv_initLeftWidth,nv_initRightWidth:nv_initRightWidth,nv_startDrag:nv_startDrag,nv_onDrag:nv_onDrag,nv_endDrag:nv_endDrag,nv_onCloseChange:nv_onCloseChange,nv_onOpenedChange:nv_onOpenedChange,});return nv_module.nv_exports;}

f_['./miniprogram_npm/tdesign-miniprogram/switch/switch.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/switch/switch.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/switch/switch.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/tab-bar-item/tab-bar-item.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/tab-bar-item/tab-bar-item.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/tab-bar-item/tab-bar-item.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/tab-bar/tab-bar.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/tab-bar/tab-bar.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/tab-bar/tab-bar.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/tab-panel/tab-panel.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/tab-panel/tab-panel.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/tab-panel/tab-panel.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/tabs/tabs.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/tabs/tabs.wxml']['filters'] =f_['./miniprogram_npm/tdesign-miniprogram/tabs/tabs.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/tabs/tabs.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/tabs/tabs.wxml']['filters']();
f_['./miniprogram_npm/tdesign-miniprogram/tabs/tabs.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/tabs/tabs.wxml']['_']();

f_['./miniprogram_npm/tdesign-miniprogram/tabs/tabs.wxs'] = nv_require("p_./miniprogram_npm/tdesign-miniprogram/tabs/tabs.wxs");
function np_11(){var nv_module={nv_exports:{}};function nv_animate(nv_options){var nv_result = [];if (nv_options.nv_duration){nv_result.nv_push('transition-duration: ' + nv_options.nv_duration + 's');nv_result.nv_push('transform: translate3d( ' + -100 * nv_options.nv_currentIndex + '%,0, 0)')};return(nv_result.nv_join(';'))};nv_module.nv_exports = ({nv_animate:nv_animate,});return nv_module.nv_exports;}

f_['./miniprogram_npm/tdesign-miniprogram/textarea/textarea.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/textarea/textarea.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/textarea/textarea.wxml']['_']();
f_['./miniprogram_npm/tdesign-miniprogram/textarea/textarea.wxml']['this'] =f_['./miniprogram_npm/tdesign-miniprogram/textarea/textarea.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/textarea/textarea.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/textarea/textarea.wxml']['this']();

f_['./miniprogram_npm/tdesign-miniprogram/textarea/textarea.wxs'] = nv_require("p_./miniprogram_npm/tdesign-miniprogram/textarea/textarea.wxs");
function np_12(){var nv_module={nv_exports:{}};var nv_utils = nv_require('p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs')();function nv_textareaStyle(nv_autosize){if (nv_autosize && nv_autosize.nv_constructor === 'Object'){return(nv_utils.nv__style(({'nv_min-height':nv_utils.nv_addUnit(nv_autosize.nv_minHeight),'nv_max-height':nv_utils.nv_addUnit(nv_autosize.nv_maxHeight),})))};return('')};nv_module.nv_exports = ({nv_textareaStyle:nv_textareaStyle,});return nv_module.nv_exports;}

f_['./miniprogram_npm/tdesign-miniprogram/toast/toast.wxml']={};
f_['./miniprogram_npm/tdesign-miniprogram/toast/toast.wxml']['_'] =f_['./miniprogram_npm/tdesign-miniprogram/common/utils.wxs'] || nv_require("p_./miniprogram_npm/tdesign-miniprogram/common/utils.wxs");
f_['./miniprogram_npm/tdesign-miniprogram/toast/toast.wxml']['_']();

var x=['./custom-tab-bar/index.wxml','./miniprogram_npm/tdesign-miniprogram/common/template/badge.wxml','./miniprogram_npm/tdesign-miniprogram/common/template/button.wxml','./miniprogram_npm/tdesign-miniprogram/common/template/icon.wxml','./miniprogram_npm/tdesign-miniprogram/common/template/image.wxml','./miniprogram_npm/tdesign-miniprogram/fab/template/draggable.wxml','../../common/template/button.wxml','./miniprogram_npm/tdesign-miniprogram/fab/template/view.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_1()
var oB=_mz(z,'t-tab-bar',['bindchange',0,'split',1,'theme',1,'value',2],[],e,s,gg)
var xC=_v()
_(oB,xC)
var oD=function(cF,fE,hG,gg){
var cI=_mz(z,'t-tab-bar-item',['badgeProps',6,'icon',1,'value',2],[],cF,fE,gg)
_(hG,cI)
return hG
}
xC.wxXCkey=4
_2z(z,4,oD,e,s,gg,xC,'item','index','index')
_(r,oB)
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
d_[x[1]]={}
d_[x[1]]["badge"]=function(e,s,r,gg){
var z=gz$gwx_2()
var b=x[1]+':badge'
r.wxVkey=b
gg.f=$gdc(f_["./miniprogram_npm/tdesign-miniprogram/common/template/badge.wxml"],"",1)
if(p_[b]){_wl(b,x[1]);return}
p_[b]=true
try{
var oB=_mz(z,'t-badge',['color',1,'content',1,'count',2,'dot',3,'maxCount',4,'offset',5,'shape',6,'showZero',7,'size',8,'tClass',9,'tClassContent',10,'tClassCount',11],[],e,s,gg)
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m1=function(e,s,r,gg){
var z=gz$gwx_2()
return r
}
e_[x[1]]={f:m1,j:[],i:[],ti:[],ic:[]}
d_[x[2]]={}
d_[x[2]]["button"]=function(e,s,r,gg){
var z=gz$gwx_3()
var b=x[2]+':button'
r.wxVkey=b
gg.f=$gdc(f_["./miniprogram_npm/tdesign-miniprogram/common/template/button.wxml"],"",1)
if(p_[b]){_wl(b,x[2]);return}
p_[b]=true
try{
var oB=_mz(z,'t-button',['appParameter',1,'ariaLabel',1,'bind:agreeprivacyauthorization',2,'bind:contact',3,'bind:error',4,'bind:getphonenumber',5,'bind:getuserinfo',6,'bind:launchapp',7,'bind:opensetting',8,'bind:tap',9,'block',10,'class',11,'data-extra',12,'data-type',13,'disabled',14,'ghost',15,'hoverClass',16,'hoverStartTime',17,'hoverStayTime',18,'hoverStopPropagation',19,'icon',20,'lang',21,'loading',22,'openType',23,'sendMessageImg',24,'sendMessagePath',25,'sendMessageTitle',26,'sessionFrom',27,'shape',28,'showMessageCard',29,'size',30,'tClass',31,'tId',32,'theme',33,'variant',34],[],e,s,gg)
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m2=function(e,s,r,gg){
var z=gz$gwx_3()
return r
}
e_[x[2]]={f:m2,j:[],i:[],ti:[],ic:[]}
d_[x[3]]={}
d_[x[3]]["icon"]=function(e,s,r,gg){
var z=gz$gwx_4()
var b=x[3]+':icon'
r.wxVkey=b
gg.f=$gdc(f_["./miniprogram_npm/tdesign-miniprogram/common/template/icon.wxml"],"",1)
if(p_[b]){_wl(b,x[3]);return}
p_[b]=true
try{
var oB=_mz(z,'t-icon',['ariaHidden',1,'ariaLabel',1,'ariaRole',2,'bind:click',3,'class',4,'color',5,'name',6,'prefix',7,'size',8,'style',9,'tClass',10],[],e,s,gg)
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m3=function(e,s,r,gg){
var z=gz$gwx_4()
return r
}
e_[x[3]]={f:m3,j:[],i:[],ti:[],ic:[]}
d_[x[4]]={}
d_[x[4]]["image"]=function(e,s,r,gg){
var z=gz$gwx_5()
var b=x[4]+':image'
r.wxVkey=b
gg.f=$gdc(f_["./miniprogram_npm/tdesign-miniprogram/common/template/image.wxml"],"",1)
if(p_[b]){_wl(b,x[4]);return}
p_[b]=true
try{
var oB=_mz(z,'t-image',['bind:error',1,'bind:load',1,'class',2,'customStyle',3,'data-custom',4,'error',5,'height',6,'lazy',7,'loading',8,'mode',9,'shape',10,'showMenuByLongpress',11,'src',12,'style',13,'tClass',14,'tClassLoad',15,'webp',16,'width',17],[],e,s,gg)
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m4=function(e,s,r,gg){
var z=gz$gwx_5()
return r
}
e_[x[4]]={f:m4,j:[],i:[],ti:[],ic:[]}
d_[x[5]]={}
d_[x[5]]["draggable"]=function(e,s,r,gg){
var z=gz$gwx_6()
var b=x[5]+':draggable'
r.wxVkey=b
gg.f=$gdc(f_["./miniprogram_npm/tdesign-miniprogram/fab/template/draggable.wxml"],"",1)
if(p_[b]){_wl(b,x[5]);return}
p_[b]=true
try{
var oB=_mz(z,'t-draggable',['bind:move',1,'direction',1,'id',2,'style',3,'tClass',4],[],e,s,gg)
var xC=_v()
_(oB,xC)
var oD=_oz(z,7,e,s,gg)
var fE=_gd(x[5],oD,e_,d_)
if(fE){
var cF=_1z(z,6,e,s,gg) || {}
var cur_globalf=gg.f
xC.wxXCkey=3
fE(cF,cF,xC,gg)
gg.f=cur_globalf
}
else _w(oD,x[5],1,340)
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m5=function(e,s,r,gg){
var z=gz$gwx_6()
var bO=e_[x[5]].i
_ai(bO,x[6],e_,x[5],1,1)
bO.pop()
return r
}
e_[x[5]]={f:m5,j:[],i:[],ti:[x[6]],ic:[]}
d_[x[7]]={}
d_[x[7]]["view"]=function(e,s,r,gg){
var z=gz$gwx_7()
var b=x[7]+':view'
r.wxVkey=b
gg.f=$gdc(f_["./miniprogram_npm/tdesign-miniprogram/fab/template/view.wxml"],"",1)
if(p_[b]){_wl(b,x[7]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
var xC=_oz(z,2,e,s,gg)
var oD=_gd(x[7],xC,e_,d_)
if(oD){
var fE=_1z(z,1,e,s,gg) || {}
var cur_globalf=gg.f
oB.wxXCkey=3
oD(fE,fE,oB,gg)
gg.f=cur_globalf
}
else _w(xC,x[7],1,248)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m6=function(e,s,r,gg){
var z=gz$gwx_7()
var xQ=e_[x[7]].i
_ai(xQ,x[6],e_,x[7],1,1)
xQ.pop()
return r
}
e_[x[7]]={f:m6,j:[],i:[],ti:[x[6]],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||true)$gwx();	if (__vd_version_info__.delayedGwx) __wxAppCode__['custom-tab-bar/index.wxml'] = [$gwx, './custom-tab-bar/index.wxml'];else __wxAppCode__['custom-tab-bar/index.wxml'] = $gwx( './custom-tab-bar/index.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['miniprogram_npm/tdesign-miniprogram/common/template/badge.wxml'] = [$gwx, './miniprogram_npm/tdesign-miniprogram/common/template/badge.wxml'];else __wxAppCode__['miniprogram_npm/tdesign-miniprogram/common/template/badge.wxml'] = $gwx( './miniprogram_npm/tdesign-miniprogram/common/template/badge.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['miniprogram_npm/tdesign-miniprogram/common/template/button.wxml'] = [$gwx, './miniprogram_npm/tdesign-miniprogram/common/template/button.wxml'];else __wxAppCode__['miniprogram_npm/tdesign-miniprogram/common/template/button.wxml'] = $gwx( './miniprogram_npm/tdesign-miniprogram/common/template/button.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['miniprogram_npm/tdesign-miniprogram/common/template/icon.wxml'] = [$gwx, './miniprogram_npm/tdesign-miniprogram/common/template/icon.wxml'];else __wxAppCode__['miniprogram_npm/tdesign-miniprogram/common/template/icon.wxml'] = $gwx( './miniprogram_npm/tdesign-miniprogram/common/template/icon.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['miniprogram_npm/tdesign-miniprogram/common/template/image.wxml'] = [$gwx, './miniprogram_npm/tdesign-miniprogram/common/template/image.wxml'];else __wxAppCode__['miniprogram_npm/tdesign-miniprogram/common/template/image.wxml'] = $gwx( './miniprogram_npm/tdesign-miniprogram/common/template/image.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['miniprogram_npm/tdesign-miniprogram/fab/template/draggable.wxml'] = [$gwx, './miniprogram_npm/tdesign-miniprogram/fab/template/draggable.wxml'];else __wxAppCode__['miniprogram_npm/tdesign-miniprogram/fab/template/draggable.wxml'] = $gwx( './miniprogram_npm/tdesign-miniprogram/fab/template/draggable.wxml' );
		if (__vd_version_info__.delayedGwx) __wxAppCode__['miniprogram_npm/tdesign-miniprogram/fab/template/view.wxml'] = [$gwx, './miniprogram_npm/tdesign-miniprogram/fab/template/view.wxml'];else __wxAppCode__['miniprogram_npm/tdesign-miniprogram/fab/template/view.wxml'] = $gwx( './miniprogram_npm/tdesign-miniprogram/fab/template/view.wxml' );
	;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/Arrayincludes.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(r,e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if(0==n)return!1;for(var i,o,a=0|e,u=Math.max(0<=a?a:n-Math.abs(a),0);u<n;){if((i=t[u])===(o=r)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;u++}return!1}});
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/Arrayincludes.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/arrayLikeToArray.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=new Array(a);e<a;e++)n[e]=r[e];return n}module.exports=_arrayLikeToArray;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/arrayLikeToArray.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/arrayWithHoles.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _arrayWithHoles(r){if(Array.isArray(r))return r}module.exports=_arrayWithHoles;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/arrayWithHoles.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/arrayWithoutHoles.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var arrayLikeToArray=require("./arrayLikeToArray");function _arrayWithoutHoles(r){if(Array.isArray(r))return arrayLikeToArray(r)}module.exports=_arrayWithoutHoles;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/arrayWithoutHoles.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/assertThisInitialized.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}module.exports=_assertThisInitialized;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/assertThisInitialized.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/asyncToGenerator.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function asyncGeneratorStep(n,e,r,t,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void r(n)}i.done?e(u):Promise.resolve(u).then(t,o)}function _asyncToGenerator(n){return function(){var e=this,r=arguments;return new Promise((function(t,o){var a=n.apply(e,r);function c(n){asyncGeneratorStep(a,t,o,c,i,"next",n)}function i(n){asyncGeneratorStep(a,t,o,c,i,"throw",n)}c(void 0)}))}}module.exports=_asyncToGenerator;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/asyncToGenerator.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/classCallCheck.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _classCallCheck(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}module.exports=_classCallCheck;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/classCallCheck.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/classPrivateFieldLooseKey.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var id=0;function _classPrivateFieldKey(e){return"__private_"+id+++"_"+e}module.exports=_classPrivateFieldKey;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/classPrivateFieldLooseKey.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/createClass.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var toPropertyKey=require("./toPropertyKey");function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}module.exports=_createClass;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/createClass.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/defineProperty.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var toPropertyKey=require("./toPropertyKey");function _defineProperty(e,r,t){return(r=toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}module.exports=_defineProperty;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/defineProperty.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/getPrototypeOf.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _getPrototypeOf(t){return module.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}module.exports=_getPrototypeOf;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/getPrototypeOf.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/inherits.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var setPrototypeOf=require("./setPrototypeOf");function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&setPrototypeOf(e,t)}module.exports=_inherits;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/inherits.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/iterableToArray.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}module.exports=_iterableToArray;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/iterableToArray.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/iterableToArrayLimit.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _iterableToArrayLimit(r,e){var l=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=l){var t,n,i,a,u=[],o=!0,f=!1;try{if(i=(l=l.call(r)).next,0===e){if(Object(l)!==l)return;o=!1}else for(;!(o=(t=i.call(l)).done)&&(u.push(t.value),u.length!==e);o=!0);}catch(r){f=!0,n=r}finally{try{if(!o&&null!=l.return&&(a=l.return(),Object(a)!==a))return}finally{if(f)throw n}}return u}}module.exports=_iterableToArrayLimit;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/iterableToArrayLimit.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/nonIterableRest.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module.exports=_nonIterableRest;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/nonIterableRest.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/nonIterableSpread.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module.exports=_nonIterableSpread;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/nonIterableSpread.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/objectSpread2.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var defineProperty=require("./defineProperty");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread2(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}module.exports=_objectSpread2;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/objectSpread2.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/possibleConstructorReturn.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var _typeof=require("./typeof"),assertThisInitialized=require("./assertThisInitialized");function _possibleConstructorReturn(e,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return assertThisInitialized(e)}module.exports=_possibleConstructorReturn;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/possibleConstructorReturn.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/regeneratorRuntime.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var t=require("./typeof");function r(){module.exports=r=function(){return e},module.exports.__esModule=!0,module.exports.default=module.exports;var e={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function h(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{h({},"")}catch(t){h=function(t,r,e){return t[r]=e}}function f(t,r,e,n){var o=r&&r.prototype instanceof d?r:d,a=Object.create(o.prototype),c=new k(n||[]);return i(a,"_invoke",{value:E(t,e,c)}),a}function s(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p={};function d(){}function v(){}function y(){}var g={};h(g,c,(function(){return this}));var m=Object.getPrototypeOf,w=m&&m(m(G([])));w&&w!==n&&o.call(w,c)&&(g=w);var x=y.prototype=d.prototype=Object.create(g);function L(t){["next","throw","return"].forEach((function(r){h(t,r,(function(t){return this._invoke(r,t)}))}))}function b(r,e){function n(i,a,c,u){var l=s(r[i],r,a);if("throw"!==l.type){var h=l.arg,f=h.value;return f&&"object"==t(f)&&o.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(f).then((function(t){h.value=t,c(h)}),(function(t){return n("throw",t,c,u)}))}u(l.arg)}var a;i(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function E(t,r,e){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return N()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=_(a,e);if(c){if(c===p)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===n)throw n="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n="executing";var u=s(t,r,e);if("normal"===u.type){if(n=e.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n="completed",e.method="throw",e.arg=u.arg)}}}function _(t,r){var e=r.method,n=t.iterator[e];if(void 0===n)return r.delegate=null,"throw"===e&&t.iterator.return&&(r.method="return",r.arg=void 0,_(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),p;var o=s(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,p;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function j(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function G(t){if(t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,n=function r(){for(;++e<t.length;)if(o.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r};return n.next=n}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=y,i(x,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=h(y,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===v||"GeneratorFunction"===(r.displayName||r.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,h(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},L(b.prototype),h(b.prototype,u,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(x),h(x,l,"Generator"),h(x,c,(function(){return this})),h(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=G,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(e,n){return a.type="throw",a.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),p},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),j(e),p}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;j(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:G(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=void 0),p}},e}module.exports=r,module.exports.__esModule=!0,module.exports.default=module.exports;

},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/regeneratorRuntime.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/setPrototypeOf.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _setPrototypeOf(t,e){return module.exports=_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}module.exports=_setPrototypeOf;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/setPrototypeOf.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/slicedToArray.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var arrayWithHoles=require("./arrayWithHoles"),iterableToArrayLimit=require("./iterableToArrayLimit"),unsupportedIterableToArray=require("./unsupportedIterableToArray"),nonIterableRest=require("./nonIterableRest");function _slicedToArray(r,e){return arrayWithHoles(r)||iterableToArrayLimit(r,e)||unsupportedIterableToArray(r,e)||nonIterableRest()}module.exports=_slicedToArray;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/slicedToArray.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/toConsumableArray.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var arrayWithoutHoles=require("./arrayWithoutHoles"),iterableToArray=require("./iterableToArray"),unsupportedIterableToArray=require("./unsupportedIterableToArray"),nonIterableSpread=require("./nonIterableSpread");function _toConsumableArray(r){return arrayWithoutHoles(r)||iterableToArray(r)||unsupportedIterableToArray(r)||nonIterableSpread()}module.exports=_toConsumableArray;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/toConsumableArray.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/toPrimitive.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var _typeof=require("./typeof");function _toPrimitive(r,t){if("object"!==_typeof(r)||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var i=e.call(r,t||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}module.exports=_toPrimitive;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/toPrimitive.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/toPropertyKey.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var _typeof=require("./typeof"),toPrimitive=require("./toPrimitive");function _toPropertyKey(r){var t=toPrimitive(r,"string");return"symbol"===_typeof(t)?t:String(t)}module.exports=_toPropertyKey;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/toPropertyKey.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/typeof.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _typeof(o){return module.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module.exports=_typeof;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/typeof.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/unsupportedIterableToArray.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var arrayLikeToArray=require("./arrayLikeToArray");function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return arrayLikeToArray(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?arrayLikeToArray(r,e):void 0}}module.exports=_unsupportedIterableToArray;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/unsupportedIterableToArray.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/back-top/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={externalClasses:{type:Array},visibilityHeight:{type:Number,value:200},scrollTop:{type:Number,value:0},fixed:{type:Boolean,value:!0},icon:{type:null,value:!0},text:{type:String,value:""},theme:{type:String,value:"round"}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/back-top/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/badge/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={color:{type:String,value:""},content:{type:String,value:""},count:{type:null,value:0},dot:{type:Boolean,value:!1},externalClasses:{type:Array},maxCount:{type:Number,value:99},offset:{type:Array},shape:{type:String,value:"circle"},showZero:{type:Boolean,value:!1},size:{type:String,value:"medium"}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/badge/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/button/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={tId:{type:String,value:""},block:{type:Boolean,value:!1},content:{type:String},customDataset:{type:null},disabled:{type:Boolean,value:!1},externalClasses:{type:Array},ghost:{type:Boolean,value:!1},icon:{type:null},loading:{type:Boolean,value:!1},loadingProps:{type:Object},shape:{type:String,value:"rectangle"},size:{type:String,value:"medium"},theme:{type:String,value:"default"},type:{type:String},variant:{type:String,value:"base"},openType:{type:String},hoverClass:{type:String,value:""},hoverStopPropagation:{type:Boolean,value:!1},hoverStartTime:{type:Number,value:20},hoverStayTime:{type:Number,value:70},lang:{type:String,value:"en"},sessionFrom:{type:String,value:""},sendMessageTitle:{type:String,value:""},sendMessagePath:{type:String,value:""},sendMessageImg:{type:String,value:""},appParameter:{type:String,value:""},showMessageCard:{type:Boolean,value:!1}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/button/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/cell-group/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={bordered:{type:Boolean},externalClasses:{type:Array},theme:{type:String,value:"default"},title:{type:String,value:""}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/cell-group/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/cell/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={align:{type:String,value:"middle"},arrow:{type:Boolean,value:!1},bordered:{type:Boolean,value:!0},description:{type:String},externalClasses:{type:Array},hover:{type:Boolean},image:{type:String},jumpType:{type:String,value:"navigateTo"},leftIcon:{type:String},note:{type:String},required:{type:Boolean,value:!1},rightIcon:{type:String},title:{type:String},url:{type:String,value:""}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/cell/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/checkbox-group/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={borderless:{type:Boolean,value:!1},disabled:{type:Boolean},max:{type:Number,value:void 0},name:{type:String,value:""},options:{type:Array,value:[]},value:{type:Array,value:null},defaultValue:{type:Array,value:[]}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/checkbox-group/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/checkbox/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={block:{type:Boolean,value:!0},borderless:{type:Boolean,value:!1},checkAll:{type:Boolean,value:!1},checked:{type:Boolean,value:null},defaultChecked:{type:Boolean,value:!1},content:{type:String},contentDisabled:{type:Boolean},disabled:{type:null,value:void 0},externalClasses:{type:Array},icon:{type:null,value:"circle"},indeterminate:{type:Boolean,value:!1},label:{type:String},maxContentRow:{type:Number,value:5},maxLabelRow:{type:Number,value:3},name:{type:String,value:""},placement:{type:String,value:"left"},readonly:{type:Boolean,value:!1},value:{type:null}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/checkbox/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/collapse-panel/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={content:{type:String},disabled:{type:Boolean,value:void 0},expandIcon:{type:Boolean,value:void 0},externalClasses:{type:Array},header:{type:String},headerLeftIcon:{type:String},headerRightContent:{type:String},placement:{type:String,value:"bottom"},value:{type:null}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/collapse-panel/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/collapse/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={defaultExpandAll:{type:Boolean,value:!1},disabled:{type:Boolean},expandIcon:{type:Boolean,value:!0},expandMutex:{type:Boolean,value:!1},theme:{type:String,value:"default"},value:{type:Array,value:null},defaultValue:{type:Array,value:[]}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/collapse/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/common/config.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.prefix=exports.default=void 0;exports.default={prefix:"t"},exports.prefix="t";
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/common/config.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/common/src/control.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useControl=function(){var n=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object.assign(Object.assign({},t),a),u=r.valueKey,i=r.defaultValueKey,c=r.changeEventName,l=r.strict,o=this.properties||{},s=o[u],v=o[l?i:u],f=!1;l&&null!=s&&(f=!0);var g=function(t,a,r){n.setData(Object.assign(e({},"_".concat(u),t),a),r)};return{controlled:f,initValue:f?s:v,set:g,get:function(){return n.data["_".concat(u)]},change:function(e,t,a){n.triggerEvent(c,void 0!==t?t:e),f||("function"==typeof a?a():g(e))}}};var e=require("../../../../@babel/runtime/helpers/defineProperty"),t={valueKey:"value",defaultValueKey:"defaultValue",changeEventName:"change",strict:!0};
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/common/src/control.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/common/src/flatTool.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toObject=exports.iterateInheritedPrototype=exports.isPlainObject=exports.isObject=exports.getPrototypeOf=void 0;var t=require("../../../../@babel/runtime/helpers/typeof"),e=exports.getPrototypeOf=function(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__},r=exports.isObject=function(e){var r=t(e);return null!==e&&("function"===r||"object"===r)},o=exports.iterateInheritedPrototype=function(t,r,o){for(var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=r.prototype||r,c=o.prototype||o;i&&(n||i!==c)&&!1!==t(i)&&i!==c;)i=e(i)};exports.toObject=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};if(!r(t))return n;var i=e.excludes||["constructor"],c=e.enumerable,p=void 0===c||c,a=e.configurable,b=void 0===a?0:a,s=e.writable,u=void 0===s?0:s,f={};return 0!==p&&(f.enumerable=p),0!==b&&(f.configurable=b),0!==u&&(f.writable=u),o((function(t){Object.getOwnPropertyNames(t).forEach((function(r){if(!(i.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r))){var o=Object.getOwnPropertyDescriptor(t,r);["get","set","value"].forEach((function(t){if("function"==typeof o[t]){var r=o[t];o[t]=function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return r.apply(Object.prototype.hasOwnProperty.call(e,"bindTo")?e.bindTo:this,o)}}})),Object.defineProperty(n,r,Object.assign(Object.assign({},o),f))}}))}),t,e.till||Object,!1),n},exports.isPlainObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)};
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/common/src/flatTool.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/common/src/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./superComponent");Object.keys(e).forEach((function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))}));var r=require("./flatTool");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))}));var t=require("./instantiationDecorator");Object.keys(t).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))}));var o=require("./control");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))}));
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/common/src/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/common/src/instantiationDecorator.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wxComponent=exports.toComponent=void 0;var e=require("../../../../@babel/runtime/helpers/createClass"),t=require("../../../../@babel/runtime/helpers/classCallCheck"),r=require("../../../../@babel/runtime/helpers/possibleConstructorReturn"),n=require("../../../../@babel/runtime/helpers/getPrototypeOf"),o=require("../../../../@babel/runtime/helpers/inherits"),i=require("../../../../@babel/runtime/helpers/defineProperty");require("../../../../@babel/runtime/helpers/Arrayincludes");var a=require("../../../../@babel/runtime/helpers/toConsumableArray"),s=require("./flatTool"),l=require("../version");function c(e,t,o){return t=n(t),r(e,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(t,o||[],n(e).constructor):t.apply(e,o))}var p=["Created","Attached","Ready","Moved","Detached","Error"].map((function(e){return e.toLowerCase()})),u=["properties","data","observers","methods","behaviors"].concat(a(p),["relations","externalClasses","options","lifetimes","pageLifeTimes","definitionFilter"]),f=exports.toComponent=function(e){var t=e.relations,r=e.behaviors,n=void 0===r?[]:r,o=e.externalClasses,l=void 0===o?[]:o;e.properties&&(Object.keys(e.properties).forEach((function(t){var r=e.properties[t];(0,s.isPlainObject)(r)||(r={type:r}),e.properties[t]=r})),[{key:"ariaHidden",type:Boolean},{key:"ariaRole",type:String},{key:"ariaLabel",type:String},{key:"ariaLabelledby",type:String},{key:"ariaDescribedby",type:String},{key:"ariaBusy",type:Boolean}].forEach((function(t){var r=t.key,n=t.type;e.properties[r]={type:n}})),e.properties.style={type:String,value:""},e.properties.customStyle={type:String,value:""});e.methods||(e.methods={}),e.lifetimes||(e.lifetimes={});var c={};if(t){var f={};Object.keys(t).forEach((function(e){var r=t[e],n=["parent","ancestor"].includes(r.type)?"parent":"children",o=function(e,t){return Behavior({created:function(){var r=this;Object.defineProperty(this,"$".concat(e),{get:function(){var n=r.getRelationNodes(t)||[];return"parent"===e?n[0]:n}})}})}(n,e);f[n]=o})),n.push.apply(n,a(Object.keys(f).map((function(e){return f[e]}))))}if(e.behaviors=a(n),e.externalClasses=["class"].concat(a(l)),Object.getOwnPropertyNames(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);r&&(p.indexOf(t)<0&&"function"==typeof r.value?(Object.defineProperty(e.methods,t,r),delete e[t]):u.indexOf(t)<0?c[t]=r:p.indexOf(t)>=0&&(e.lifetimes[t]=e[t]))})),Object.keys(c).length){var y=e.lifetimes.created,d=e.lifetimes.attached,h=e.controlledProps,b=void 0===h?[]:h;e.lifetimes.created=function(){Object.defineProperties(this,c);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];y&&y.apply(this,t)},e.lifetimes.attached=function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];d&&d.apply(this,r),b.forEach((function(t){var r=t.key,n="default".concat(r.replace(/^(\w)/,(function(e,t){return t.toUpperCase()}))),o=e.properties;null==o[r]&&(e._selfControlled=!0),null==o[r]&&null!=o[n]&&e.setData(i({},r,o[n]))}))},e.methods._trigger=function(e,t,r){var n=b.find((function(t){return t.event==e}));if(n){var o=n.key;this._selfControlled&&this.setData(i({},o,t[o]))}this.triggerEvent(e,t,r)}}return e};exports.wxComponent=function(){return function(r){var n=new(function(r){function n(){return t(this,n),c(this,n,arguments)}return o(n,r),e(n)}(r));n.options=n.options||{},void 0===n.options.addGlobalClass&&(n.options.addGlobalClass=!0),(0,l.canUseVirtualHost)()&&(n.options.virtualHost=!0);var i=f((0,s.toObject)(n));Component(i)}};
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/common/src/instantiationDecorator.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/common/src/superComponent.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SuperComponent=void 0;var e=require("../../../../@babel/runtime/helpers/createClass"),r=require("../../../../@babel/runtime/helpers/classCallCheck");exports.SuperComponent=e((function e(){r(this,e),this.app=getApp()}));
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/common/src/superComponent.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/common/utils.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unitConvert=exports.uniqueFactory=exports.toCamel=exports.throttle=exports.styles=exports.setIcon=exports.isUndefined=exports.isString=exports.isOverSize=exports.isObject=exports.isNumber=exports.isNull=exports.isDef=exports.isBool=exports.getRect=exports.getInstance=exports.getCurrentPage=exports.getCharacterLength=exports.getAnimationFrame=exports.debounce=exports.classNames=exports.chunk=exports.calcIcon=exports.addUnit=void 0;var e=require("../../../@babel/runtime/helpers/defineProperty");require("../../../@babel/runtime/helpers/Arrayincludes");var t=require("../../../@babel/runtime/helpers/toConsumableArray"),r=require("../../../@babel/runtime/helpers/typeof"),n=require("./config"),o=wx.getSystemInfoSync(),i=(exports.debounce=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(){for(var n=this,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];t&&clearTimeout(t),t=setTimeout((function(){e.apply(n,i)}),r)}},exports.throttle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=0,o=null;return r||(r={leading:!0}),function(){var i=Date.now();n||r.leading||(n=i);var c=t-(i-n),a=this;if(c<=0){o&&(clearTimeout(o),o=null),n=i;for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];e.apply(a,u)}}},exports.classNames=function e(){for(var n={}.hasOwnProperty,o=[],i=arguments.length,c=new Array(i),a=0;a<i;a++)c[a]=arguments[a];return c.forEach((function(i){if(i){var c=r(i);if("string"===c||"number"===c)o.push(i);else if(Array.isArray(i)&&i.length){var a=e.apply(void 0,t(i));a&&o.push(a)}else if("object"===c)for(var s in i)n.call(i,s)&&i[s]&&o.push(s)}})),o.join(" ")},exports.styles=function(e){return Object.keys(e).map((function(t){return"".concat(t,": ").concat(e[t])})).join("; ")},exports.getAnimationFrame=function(e,t){return wx.createSelectorQuery().in(e).selectViewport().boundingClientRect().exec((function(){t()}))},exports.getRect=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(n,o){wx.createSelectorQuery().in(e)[r?"selectAll":"select"](t).boundingClientRect((function(e){e?n(e):o(e)})).exec()}))},exports.isNumber=function(e){return/^\d+(\.\d+)?$/.test(e)}),c=exports.isNull=function(e){return null===e},a=exports.isUndefined=function(e){return void 0===e},s=exports.isDef=function(e){return!a(e)&&!c(e)},u=(exports.addUnit=function(e){if(s(e))return e=String(e),i(e)?"".concat(e,"px"):e},exports.getCharacterLength=function(e,t,r){var n=String(null!=t?t:"");if(0===n.length)return{length:0,characters:""};if("maxcharacter"===e){for(var o=0,i=0;i<n.length;i+=1){var c=0;if(o+(c=n.charCodeAt(i)>127||94===n.charCodeAt(i)?2:1)>r)return{length:o,characters:n.slice(0,i)};o+=c}return{length:o,characters:n}}if("maxlength"===e){var a=n.length>r?r:n.length;return{length:a,characters:n.slice(0,a)}}return{length:n.length,characters:n}},exports.chunk=function(e,t){return Array.from({length:Math.ceil(e.length/t)},(function(r,n){return e.slice(n*t,n*t+t)}))},exports.getInstance=function(e,t){if(!e){var r=getCurrentPages(),n=r[r.length-1];e=n.$$basePage||n}var o=e?e.selectComponent(t):null;return o||(console.warn("未找到组件,请检查selector是否正确"),null)},exports.unitConvert=function(e){var t;return"string"==typeof e?e.includes("rpx")?parseInt(e,10)*(null!==(t=null==o?void 0:o.screenWidth)&&void 0!==t?t:750)/750:parseInt(e,10):e},exports.setIcon=function(t,n,o){return n?"string"==typeof n?e(e({},"".concat(t,"Name"),n),"".concat(t,"Data"),{}):"object"===r(n)?e(e({},"".concat(t,"Name"),""),"".concat(t,"Data"),n):e(e({},"".concat(t,"Name"),o),"".concat(t,"Data"),{}):e(e({},"".concat(t,"Name"),""),"".concat(t,"Data"),{})},exports.isBool=function(e){return"boolean"==typeof e}),l=exports.isObject=function(e){return"object"===r(e)&&null!=e},p=exports.isString=function(e){return"string"==typeof e};exports.toCamel=function(e){return e.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))},exports.getCurrentPage=function(){var e=getCurrentPages();return e[e.length-1]},exports.uniqueFactory=function(e){var t=0;return function(){return"".concat(n.prefix,"_").concat(e,"_").concat(t++)}},exports.calcIcon=function(e,t){return u(e)&&e&&t||p(e)?{name:u(e)?t:e}:l(e)?e:null},exports.isOverSize=function(e,t){var r;if(!t)return!1;var n={B:1,KB:1e3,MB:1e6,GB:1e9};return e>("number"==typeof t?1e3*t:(null==t?void 0:t.size)*n[null!==(r=null==t?void 0:t.unit)&&void 0!==r?r:"KB"])};
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/common/utils.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/common/version.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t;function r(r){return function(t,r){t=t.split("."),r=r.split(".");for(var e=Math.max(t.length,r.length);t.length<e;)t.push("0");for(;r.length<e;)r.push("0");for(var n=0;n<e;n++){var u=parseInt(t[n]),o=parseInt(r[n]);if(u>o)return 1;if(u<o)return-1}return 0}((null==t&&(t=wx.getSystemInfoSync()),t).SDKVersion,r)>=0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.canIUseFormFieldButton=function(){return r("2.10.3")},exports.canUseVirtualHost=function(){return r("2.19.2")};
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/common/version.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/common/wechat.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getObserver=void 0;exports.getObserver=function(e,r){return new Promise((function(t,o){wx.createIntersectionObserver(e).relativeToViewport().observe(r,(function(e){t(e)}))}))};
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/common/wechat.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/dialog/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={actions:{type:Array},buttonLayout:{type:String,value:"horizontal"},cancelBtn:{type:null},closeBtn:{type:null,value:!1},closeOnOverlayClick:{type:Boolean,value:void 0},confirmBtn:{type:null},content:{type:String},externalClasses:{type:Array},overlayProps:{type:Object,value:{}},preventScrollThrough:{type:Boolean,value:!0},showOverlay:{type:Boolean,value:!0},title:{type:String},visible:{type:Boolean},zIndex:{type:Number,value:11500}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/dialog/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/divider/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={align:{type:String,value:"center"},content:{type:String},style:{type:String,value:""},dashed:{type:Boolean,value:!1},externalClasses:{type:Array},layout:{type:String,value:"horizontal"}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/divider/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/dropdown-item/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={disabled:{type:Boolean,value:!1},externalClasses:{type:Array},keys:{type:Object},label:{type:String,value:""},multiple:{type:Boolean,value:!1},options:{type:Array,value:[]},optionsColumns:{type:null,value:1},optionsLayout:{type:String,value:"columns"},value:{type:null,value:void 0},defaultValue:{type:null,value:void 0}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/dropdown-item/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/dropdown-menu/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={arrowIcon:{type:null,value:"caret-down-small"},closeOnClickOverlay:{type:Boolean,value:!0},duration:{type:null,value:200},externalClasses:{type:Array},showOverlay:{type:Boolean,value:!0},zIndex:{type:Number,value:11600}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/dropdown-menu/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/fab/draggable/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={direction:{type:String,value:"all"}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/fab/draggable/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/fab/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={buttonProps:{type:Object},icon:{type:String,value:""},text:{type:String,value:""},draggable:{type:Boolean,optionalTypes:[String],value:!1}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/fab/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/footer/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={text:{type:String,value:""},logo:{type:Object},links:{type:Array,value:[]}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/footer/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/grid-item/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={badgeProps:{type:Object,value:null},description:{type:String},externalClasses:{type:Array},icon:{type:null},image:{type:String},imageProps:{type:Object},jumpType:{type:String,value:"navigate-to"},layout:{type:String,value:"vertical"},text:{type:String},url:{type:String,value:""}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/grid-item/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/grid/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={align:{type:String,value:"center"},border:{type:null,value:!1},column:{type:Number,value:4},externalClasses:{type:Array},gutter:{type:Number},hover:{type:Boolean,value:!1},theme:{type:String,value:"default"}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/grid/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/icon/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={color:{type:String,value:""},name:{type:String,value:"",required:!0},size:{type:String,value:""},prefix:{type:String,value:void 0}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/icon/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/image/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={error:{type:String,value:"default"},externalClasses:{type:Array},height:{type:null},lazy:{type:Boolean,value:!1},loading:{type:String,value:"default"},mode:{type:String,value:"scaleToFill"},shape:{type:String,value:"square"},showMenuByLongpress:{type:Boolean,value:!1},src:{type:String,value:""},webp:{type:Boolean,value:!1},width:{type:null}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/image/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/input/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={align:{type:String,value:"left"},layout:{type:String,value:"horizontal"},borderless:{type:Boolean,value:!1},clearable:{type:null,value:!1},clearTrigger:{type:String,value:"always"},disabled:{type:Boolean,value:!1},errorMessage:{type:String,value:""},externalClasses:{type:Array},format:{type:null},label:{type:String},maxcharacter:{type:Number},maxlength:{type:Number,value:-1},placeholder:{type:String,value:void 0},prefixIcon:{type:null,value:null},readonly:{type:Boolean,value:!1},size:{type:String,value:"medium"},status:{type:String,value:"default"},suffix:{type:String},suffixIcon:{type:null,value:null},tips:{type:String},value:{type:String,optionalTypes:[Number],value:null},defaultValue:{type:String,optionalTypes:[Number]},type:{type:String,value:"text"},placeholderStyle:{type:String,value:""},placeholderClass:{type:String,value:"input-placeholder"},cursorSpacing:{type:Number,value:0},autoFocus:{type:Boolean,value:!1},focus:{type:Boolean,value:!1},confirmType:{type:String,value:"done"},alwaysEmbed:{type:Boolean,value:!1},confirmHold:{type:Boolean,value:!1},cursor:{type:Number},selectionStart:{type:Number,value:-1},selectionEnd:{type:Number,value:-1},adjustPosition:{type:Boolean,value:!0},holdKeyboard:{type:Boolean,value:!1},safePasswordCertPath:{type:String,value:""},safePasswordLength:{type:Number},safePasswordTimeStamp:{type:Number},safePasswordNonce:{type:String,value:""},safePasswordSalt:{type:String,value:""},safePasswordCustomHash:{type:String,value:""}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/input/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/link/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={content:{type:String},navigatorProps:{type:Object},prefixIcon:{type:null},size:{type:String,value:"medium"},status:{type:String,value:"normal"},disabled:{type:Boolean,value:!1},hover:{type:Boolean,value:!1},suffixIcon:{type:null},theme:{type:String,value:"default"},underline:{type:Boolean}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/link/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/loading/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={delay:{type:Number,value:0},duration:{type:Number,value:800},externalClasses:{type:Array},indicator:{type:Boolean,value:!0},inheritColor:{type:Boolean,value:!1},layout:{type:String,value:"horizontal"},loading:{type:Boolean,value:!0},pause:{type:Boolean,value:!1},progress:{type:Number},reverse:{type:Boolean},size:{type:String,value:"40rpx"},text:{type:String},theme:{type:String,value:"circular"}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/loading/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/message/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./message.interface"),t=require("../common/utils"),r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},n=function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.MessageType.info,s=n.context,c=n.selector,i=void 0===c?"#t-message":c,a=r(n,["context","selector"]),u=(0,t.getInstance)(s,i);if(u)return u.resetData((function(){u.setData(Object.assign({theme:o},a),u.show.bind(u))})),u;console.error("未找到组件,请确认 selector && context 是否正确")};exports.default={info:function(t){return n(t,e.MessageType.info)},success:function(t){return n(t,e.MessageType.success)},warning:function(t){return n(t,e.MessageType.warning)},error:function(t){return n(t,e.MessageType.error)},hide:function(e){var r=Object.assign({},e),n=r.context,o=r.selector,s=void 0===o?"#t-message":o,c=(0,t.getInstance)(n,s);c&&c.hide()}};
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/message/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/message/message.interface.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageType=void 0,function(e){e.info="info",e.success="success",e.warning="warning",e.error="error"}(e||(exports.MessageType=e={}));
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/message/message.interface.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/message/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={action:{type:String},align:{type:String,value:"left"},closeBtn:{type:null,value:!1},content:{type:String},duration:{type:Number,value:3e3},externalClasses:{type:Array},icon:{type:null,value:!0},marquee:{type:null,value:!1},offset:{type:Array},theme:{type:String,value:"info"},visible:{type:Boolean,value:!1},defaultVisible:{type:Boolean,value:!1},zIndex:{type:Number,value:15e3},link:{type:null}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/message/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/mixins/page-scroll.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../common/utils"),r=function(r){var o=(0,e.getCurrentPage)();if(o){var l=o.pageScroller;null==l||l.forEach((function(e){"function"==typeof e&&e(r)}))}};exports.default=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"onScroll";return Behavior({attached:function(){var l,t=(0,e.getCurrentPage)();if(t){var n=null===(l=this[o])||void 0===l?void 0:l.bind(this);n&&(this._pageScroller=n),Array.isArray(t.pageScroller)?t.pageScroller.push(n):t.pageScroller="function"==typeof t.onPageScroll?[t.onPageScroll.bind(t),n]:[n],t.onPageScroll=r}},detached:function(){var r,o=this,l=(0,e.getCurrentPage)();l&&(l.pageScroller=(null===(r=l.pageScroller)||void 0===r?void 0:r.filter((function(e){return e!==o._pageScroller})))||[])}})};
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/mixins/page-scroll.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/mixins/touch.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../@babel/runtime/helpers/slicedToArray");exports.default=Behavior({methods:{resetTouchStatus:function(){this.direction="",this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0},touchStart:function(e){this.resetTouchStatus();var s=t(e.touches,1)[0];this.startX=s.clientX,this.startY=s.clientY},touchMove:function(e){var s,i,h=t(e.touches,1)[0];this.deltaX=h.clientX-this.startX,this.deltaY=h.clientY-this.startY,this.offsetX=Math.abs(this.deltaX),this.offsetY=Math.abs(this.deltaY),this.direction=(s=this.offsetX,i=this.offsetY,s>i&&s>10?"horizontal":i>s&&i>10?"vertical":"")}}});
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/mixins/touch.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/mixins/transition.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return Behavior({properties:{visible:{type:Boolean,value:null,observer:"watchVisible"},appear:Boolean,name:{type:String,value:"fade"},durations:{type:Number,optionalTypes:[Array]}},data:{transitionClass:"",transitionDurations:300,className:"",realVisible:!1},created:function(){this.status="",this.transitionT=0},attached:function(){this.durations=this.getDurations(),this.data.visible&&this.enter(),this.inited=!0},detached:function(){clearTimeout(this.transitionT)},methods:{watchVisible:function(t,i){this.inited&&t!==i&&(t?this.enter():this.leave())},getDurations:function(){var t=this.data.durations;return Array.isArray(t)?t.map((function(t){return Number(t)})):[Number(t),Number(t)]},enter:function(){var t=this,a=this.data.name,s=i(this.durations,1)[0];this.status="entering",this.setData({realVisible:!0,transitionClass:"".concat(e,"-").concat(a,"-enter ").concat(e,"-").concat(a,"-enter-active")}),setTimeout((function(){t.setData({transitionClass:"".concat(e,"-").concat(a,"-enter-active ").concat(e,"-").concat(a,"-enter-to")})}),30),"number"==typeof s&&s>0&&(this.transitionT=setTimeout(this.entered.bind(this),s+30))},entered:function(){this.customDuration=!1,clearTimeout(this.transitionT),this.status="entered",this.setData({transitionClass:""})},leave:function(){var t=this,a=this.data.name,s=i(this.durations,2)[1];this.status="leaving",this.setData({transitionClass:"".concat(e,"-").concat(a,"-leave  ").concat(e,"-").concat(a,"-leave-active")}),clearTimeout(this.transitionT),setTimeout((function(){t.setData({transitionClass:"".concat(e,"-").concat(a,"-leave-active ").concat(e,"-").concat(a,"-leave-to")})}),30),"number"==typeof s&&s>0&&(this.customDuration=!0,this.transitionT=setTimeout(this.leaved.bind(this),s+30))},leaved:function(){this.customDuration=!1,this.triggerEvent("leaved"),clearTimeout(this.transitionT),this.status="leaved",this.setData({transitionClass:""})},onTransitionEnd:function(){this.customDuration||(clearTimeout(this.transitionT),"entering"===this.status&&this.data.visible?this.entered():"leaving"!==this.status||this.data.visible||(this.leaved(),this.setData({realVisible:!1})))}}})};var t,i=require("../../../@babel/runtime/helpers/slicedToArray");var e=((t=require("../common/config"))&&t.__esModule?t:{default:t}).default.prefix;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/mixins/transition.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/navbar/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={animation:{type:Boolean,value:!0},delta:{type:Number,value:1},externalClasses:{type:Array},fixed:{type:Boolean,value:!0},leftArrow:{type:Boolean,value:!1},title:{type:String},titleMaxLength:{type:Number},visible:{type:Boolean,value:!0}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/navbar/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/notice-bar/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={content:{type:null},direction:{type:String,value:"horizontal"},externalClasses:{type:Array},operation:{type:String},interval:{type:Number,value:2e3},marquee:{type:null,value:!1},prefixIcon:{type:null,value:!0},suffixIcon:{type:null,value:null},theme:{type:String,value:"info"},visible:{type:Boolean,value:null},defaultVisible:{type:Boolean,value:!1}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/notice-bar/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/picker-item/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={format:{type:null},options:{type:Array,value:[]}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/picker-item/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/picker/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={autoClose:{type:Boolean,value:!0},cancelBtn:{type:null,value:!0},confirmBtn:{type:null,value:!0},header:{type:Boolean,value:!0},keys:{type:Object},title:{type:String,value:""},value:{type:Array,value:null},defaultValue:{type:Array},visible:{type:Boolean,value:!1},popupProps:{type:Object,value:{}}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/picker/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/popup/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={closeBtn:{type:Boolean},closeOnOverlayClick:{type:Boolean,value:!0},content:{type:String},duration:{type:Number,value:240},externalClasses:{type:Array},overlayProps:{type:Object,value:{}},placement:{type:String,value:"top"},preventScrollThrough:{type:Boolean,value:!0},showOverlay:{type:Boolean,value:!0},transitionProps:{type:Object},visible:{type:Boolean,value:null},defaultVisible:{type:Boolean,value:!1},zIndex:{type:Number,value:11500}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/popup/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/progress/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={color:{type:null,value:""},externalClasses:{type:Array},label:{type:null,value:!0},percentage:{type:Number,value:0},status:{type:String},strokeWidth:{type:null},theme:{type:String,value:"line"},trackColor:{type:String,value:""}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/progress/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/progress/utils.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBackgroundColor=function(r){if("string"==typeof r)return r;if(Array.isArray(r))return r[0]&&"#"===r[0][0]&&r.unshift("90deg"),"linear-gradient( ".concat(r.join(",")," )");var e=r.from,n=r.to,o=r.direction,a=void 0===o?"to right":o,c=t(r,["from","to","direction"]),i=Object.keys(c);if(i.length){var l=(i=i.sort((function(t,r){return parseFloat(t.substr(0,t.length-1))-parseFloat(r.substr(0,r.length-1))}))).map((function(t){return"".concat(c[t]," ").concat(t)}));return"linear-gradient(".concat(a,", ").concat(l.join(","),")")}return"linear-gradient(".concat(a,", ").concat(e,", ").concat(n,")")};var t=function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(e[n[o]]=t[n[o]])}return e};
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/progress/utils.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/pull-down-refresh/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={enableBackToTop:{type:Boolean,value:!0},enablePassive:{type:Boolean,value:!1},externalClasses:{type:Array},loadingBarHeight:{type:null,value:50},loadingProps:{type:Object},loadingTexts:{type:Array,value:[]},lowerThreshold:{type:null,value:50},maxBarHeight:{type:null,value:80},refreshTimeout:{type:Number,value:3e3},scrollIntoView:{type:String,value:""},showScrollbar:{type:Boolean,value:!0},upperThreshold:{type:null,value:50},value:{type:Boolean,value:null},defaultValue:{type:Boolean,value:!1}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/pull-down-refresh/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/radio-group/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={placement:{type:String,value:"left"},borderless:{type:Boolean,value:!1},disabled:{type:Boolean,value:void 0},icon:{type:null,value:"circle"},keys:{type:Object},name:{type:String,value:""},options:{type:Array},value:{type:null,value:null},defaultValue:{type:null}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/radio-group/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/radio/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={placement:{type:String,value:null},allowUncheck:{type:Boolean,value:!1},block:{type:Boolean,value:!0},checked:{type:Boolean,value:null},defaultChecked:{type:Boolean,value:!1},content:{type:String},contentDisabled:{type:Boolean,value:!1},readonly:{type:Boolean,value:!1},disabled:{type:Boolean,value:void 0},externalClasses:{type:Array},icon:{type:null,value:"circle"},label:{type:String},maxContentRow:{type:Number,value:5},maxLabelRow:{type:Number,value:3},name:{type:String,value:""},value:{type:null,value:!1}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/radio/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/search/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={action:{type:String,value:""},center:{type:Boolean,value:!1},disabled:{type:Boolean,value:!1},externalClasses:{type:Array},cursorSpacing:{type:Number,value:0},focus:{type:Boolean,value:!1},label:{type:String,value:""},maxcharacter:{type:Number},maxlength:{type:Number,value:-1},confirmType:{type:String,value:"search"},alwaysEmbed:{type:Boolean,value:!1},confirmHold:{type:Boolean,value:!1},cursor:{type:Number},selectionStart:{type:Number,value:-1},selectionEnd:{type:Number,value:-1},adjustPosition:{type:Boolean,value:!0},holdKeyboard:{type:Boolean,value:!1},placeholderStyle:{type:String,value:""},placeholderClass:{type:String,value:""},leftIcon:{type:String,value:"search"},placeholder:{type:String,value:""},rightIcon:{type:String,value:"close-circle-filled"},shape:{type:String,value:"square"},value:{type:String,value:""},clearable:{type:Boolean,value:!0},type:{type:String,value:"text"}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/search/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/step-item/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={content:{type:String,value:""},externalClasses:{type:Array},icon:{type:String},status:{type:String,value:"default"},subStepItems:{type:Array,value:[]},title:{type:String,value:""}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/step-item/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/steps/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={current:{type:null,value:null},defaultCurrent:{type:null},currentStatus:{type:String,value:"process"},externalClasses:{type:Array},layout:{type:String,value:"horizontal"},readonly:{type:Boolean,value:!1},separator:{type:String,value:"line"},sequence:{type:String,value:"positive"},theme:{type:String,value:"default"}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/steps/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/sticky/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={container:{type:null},disabled:{type:Boolean,value:!1},externalClasses:{type:Array},offsetTop:{type:Number,value:0},zIndex:{type:Number,value:99}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/sticky/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/swipe-cell/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={disabled:{type:Boolean},left:{type:Array},opened:{type:Boolean,optionalTypes:[Array],value:!1},right:{type:Array}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/swipe-cell/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/switch/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={customValue:{type:Array,value:[!0,!1]},disabled:{type:Boolean,value:!1},icon:{type:Array,value:[]},label:{type:Array,value:[]},loading:{type:Boolean,value:!1},size:{type:String,value:"medium"},value:{type:null,value:null},defaultValue:{type:null,value:null}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/switch/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/tab-bar-item/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={badgeProps:{type:Object},icon:{type:null},subTabBar:{type:Array},value:{type:null}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/tab-bar-item/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/tab-bar/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={bordered:{type:Boolean,value:!0},externalClasses:{type:Array},fixed:{type:Boolean,value:!0},safeAreaInsetBottom:{type:Boolean,value:!0},shape:{type:String,value:"normal"},split:{type:Boolean,value:!0},theme:{type:String,value:"normal"},value:{type:null,value:null},defaultValue:{type:null,value:null}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/tab-bar/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/tab-panel/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={badgeProps:{type:Object,value:null},destroyOnHide:{type:Boolean,value:!0},disabled:{type:Boolean,value:!1},icon:{type:null},label:{type:String,value:""},panel:{type:String},value:{type:null}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/tab-panel/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/tabs/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={animation:{type:Object},externalClasses:{type:Array},showBottomLine:{type:Boolean,value:!0},spaceEvenly:{type:Boolean,value:!0},split:{type:Boolean,value:!0},sticky:{type:Boolean,value:!1},stickyProps:{type:Object},swipeable:{type:Boolean,value:!0},theme:{type:String,value:"line"},value:{type:null,value:null},defaultValue:{type:null}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/tabs/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/textarea/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={adjustPosition:{type:Boolean,value:!0},autofocus:{type:Boolean,value:!1},autosize:{type:null,value:!1},confirmHold:{type:Boolean,value:!1},confirmType:{type:String,value:"return"},cursorSpacing:{type:Number,value:0},disabled:{type:Boolean,value:!1},externalClasses:{type:Array},focus:{type:Boolean,value:!1},label:{type:String},fixed:{type:Boolean,value:!1},maxcharacter:{type:Number},maxlength:{type:Number,value:-1},placeholder:{type:String,value:void 0},placeholderStyle:{type:String,value:""},value:{type:String,value:null},defaultValue:{type:String,value:""},bordered:{type:Boolean,value:!1},indicator:{type:Boolean,value:!1},cursor:{type:Number,value:-1},showConfirmBar:{type:Boolean,value:!0},selectionStart:{type:Number,value:-1},selectionEnd:{type:Number,value:-1},disableDefaultPadding:{type:Boolean,value:!1},holdKeyboard:{type:Boolean,value:!1}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/textarea/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/toast/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o,exports.hideToast=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.context,n=e.selector,r=void 0===n?"#t-toast":n,s=(0,t.getInstance)(o,r);s&&s.hide()},exports.showToast=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(t)};var t=require("../common/utils"),e=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]])}return o};function o(o){var n,r=o.context,s=o.selector,c=void 0===s?"#t-toast":s,i=e(o,["context","selector"]),a=(0,t.getInstance)(r,c);a&&a.show(Object.assign(Object.assign({},i),{duration:null!==(n=i.duration)&&void 0!==n?n:2e3}))}
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/toast/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/tdesign-miniprogram/toast/props.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={direction:{type:String,value:"row"},duration:{type:Number,value:2e3},externalClasses:{type:Array},icon:{type:null},message:{type:String},overlayProps:{type:Object,value:{}},placement:{type:String,value:"middle"},preventScrollThrough:{type:Boolean,value:!1},showOverlay:{type:Boolean,value:!1},theme:{type:String}};exports.default=e;
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/tdesign-miniprogram/toast/props.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("miniprogram_npm/ts-md5/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e,t,r,s=require("../../@babel/runtime/helpers/typeof");module.exports=(e={},r=function(t,r){if(!e[t])return require(r);if(!e[t].status){var i=e[t].m;i._exports=i._tempexports;var n=Object.getOwnPropertyDescriptor(i,"exports");n&&n.configurable&&Object.defineProperty(i,"exports",{set:function(e){"object"===s(e)&&e!==i._exports&&(i._exports.__proto__=e.__proto__,Object.keys(e).forEach((function(t){i._exports[t]=e[t]}))),i._tempexports=e},get:function(){return i._tempexports}}),e[t].status=1,e[t].func(e[t].req,i,i.exports)}return e[t].m.exports},(t=function(t,r,s){e[t]={status:0,func:r,req:s,m:{exports:{},_tempexports:{}}}})(1703722499959,(function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ParallelHasher=r.Md5FileHasher=r.Md5=void 0;var s=e("./md5");Object.defineProperty(r,"Md5",{enumerable:!0,get:function(){return s.Md5}});var i=e("./md5_file_hasher");Object.defineProperty(r,"Md5FileHasher",{enumerable:!0,get:function(){return i.Md5FileHasher}});var n=e("./parallel_hasher");Object.defineProperty(r,"ParallelHasher",{enumerable:!0,get:function(){return n.ParallelHasher}})}),(function(e){return r({"./md5":1703722499960,"./md5_file_hasher":1703722499961,"./parallel_hasher":1703722499962}[e],e)})),t(1703722499960,(function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Md5=void 0;var s=function(){function e(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return e.hashStr=function(e,t){return void 0===t&&(t=!1),this.onePassHasher.start().appendStr(e).end(t)},e.hashAsciiStr=function(e,t){return void 0===t&&(t=!1),this.onePassHasher.start().appendAsciiStr(e).end(t)},e._hex=function(t){var r,s,i,n,a=e.hexChars,o=e.hexOut;for(n=0;n<4;n+=1)for(s=8*n,r=t[n],i=0;i<8;i+=2)o[s+1+i]=a.charAt(15&r),r>>>=4,o[s+0+i]=a.charAt(15&r),r>>>=4;return o.join("")},e._md5cycle=function(e,t){var r=e[0],s=e[1],i=e[2],n=e[3];s=((s+=((i=((i+=((n=((n+=((r=((r+=(s&i|~s&n)+t[0]-680876936|0)<<7|r>>>25)+s|0)&s|~r&i)+t[1]-389564586|0)<<12|n>>>20)+r|0)&r|~n&s)+t[2]+606105819|0)<<17|i>>>15)+n|0)&n|~i&r)+t[3]-1044525330|0)<<22|s>>>10)+i|0,s=((s+=((i=((i+=((n=((n+=((r=((r+=(s&i|~s&n)+t[4]-176418897|0)<<7|r>>>25)+s|0)&s|~r&i)+t[5]+1200080426|0)<<12|n>>>20)+r|0)&r|~n&s)+t[6]-1473231341|0)<<17|i>>>15)+n|0)&n|~i&r)+t[7]-45705983|0)<<22|s>>>10)+i|0,s=((s+=((i=((i+=((n=((n+=((r=((r+=(s&i|~s&n)+t[8]+1770035416|0)<<7|r>>>25)+s|0)&s|~r&i)+t[9]-1958414417|0)<<12|n>>>20)+r|0)&r|~n&s)+t[10]-42063|0)<<17|i>>>15)+n|0)&n|~i&r)+t[11]-1990404162|0)<<22|s>>>10)+i|0,s=((s+=((i=((i+=((n=((n+=((r=((r+=(s&i|~s&n)+t[12]+1804603682|0)<<7|r>>>25)+s|0)&s|~r&i)+t[13]-40341101|0)<<12|n>>>20)+r|0)&r|~n&s)+t[14]-1502002290|0)<<17|i>>>15)+n|0)&n|~i&r)+t[15]+1236535329|0)<<22|s>>>10)+i|0,s=((s+=((i=((i+=((n=((n+=((r=((r+=(s&n|i&~n)+t[1]-165796510|0)<<5|r>>>27)+s|0)&i|s&~i)+t[6]-1069501632|0)<<9|n>>>23)+r|0)&s|r&~s)+t[11]+643717713|0)<<14|i>>>18)+n|0)&r|n&~r)+t[0]-373897302|0)<<20|s>>>12)+i|0,s=((s+=((i=((i+=((n=((n+=((r=((r+=(s&n|i&~n)+t[5]-701558691|0)<<5|r>>>27)+s|0)&i|s&~i)+t[10]+38016083|0)<<9|n>>>23)+r|0)&s|r&~s)+t[15]-660478335|0)<<14|i>>>18)+n|0)&r|n&~r)+t[4]-405537848|0)<<20|s>>>12)+i|0,s=((s+=((i=((i+=((n=((n+=((r=((r+=(s&n|i&~n)+t[9]+568446438|0)<<5|r>>>27)+s|0)&i|s&~i)+t[14]-1019803690|0)<<9|n>>>23)+r|0)&s|r&~s)+t[3]-187363961|0)<<14|i>>>18)+n|0)&r|n&~r)+t[8]+1163531501|0)<<20|s>>>12)+i|0,s=((s+=((i=((i+=((n=((n+=((r=((r+=(s&n|i&~n)+t[13]-1444681467|0)<<5|r>>>27)+s|0)&i|s&~i)+t[2]-51403784|0)<<9|n>>>23)+r|0)&s|r&~s)+t[7]+1735328473|0)<<14|i>>>18)+n|0)&r|n&~r)+t[12]-1926607734|0)<<20|s>>>12)+i|0,s=((s+=((i=((i+=((n=((n+=((r=((r+=(s^i^n)+t[5]-378558|0)<<4|r>>>28)+s|0)^s^i)+t[8]-2022574463|0)<<11|n>>>21)+r|0)^r^s)+t[11]+1839030562|0)<<16|i>>>16)+n|0)^n^r)+t[14]-35309556|0)<<23|s>>>9)+i|0,s=((s+=((i=((i+=((n=((n+=((r=((r+=(s^i^n)+t[1]-1530992060|0)<<4|r>>>28)+s|0)^s^i)+t[4]+1272893353|0)<<11|n>>>21)+r|0)^r^s)+t[7]-155497632|0)<<16|i>>>16)+n|0)^n^r)+t[10]-1094730640|0)<<23|s>>>9)+i|0,s=((s+=((i=((i+=((n=((n+=((r=((r+=(s^i^n)+t[13]+681279174|0)<<4|r>>>28)+s|0)^s^i)+t[0]-358537222|0)<<11|n>>>21)+r|0)^r^s)+t[3]-722521979|0)<<16|i>>>16)+n|0)^n^r)+t[6]+76029189|0)<<23|s>>>9)+i|0,s=((s+=((i=((i+=((n=((n+=((r=((r+=(s^i^n)+t[9]-640364487|0)<<4|r>>>28)+s|0)^s^i)+t[12]-421815835|0)<<11|n>>>21)+r|0)^r^s)+t[15]+530742520|0)<<16|i>>>16)+n|0)^n^r)+t[2]-995338651|0)<<23|s>>>9)+i|0,s=((s+=((n=((n+=(s^((r=((r+=(i^(s|~n))+t[0]-198630844|0)<<6|r>>>26)+s|0)|~i))+t[7]+1126891415|0)<<10|n>>>22)+r|0)^((i=((i+=(r^(n|~s))+t[14]-1416354905|0)<<15|i>>>17)+n|0)|~r))+t[5]-57434055|0)<<21|s>>>11)+i|0,s=((s+=((n=((n+=(s^((r=((r+=(i^(s|~n))+t[12]+1700485571|0)<<6|r>>>26)+s|0)|~i))+t[3]-1894986606|0)<<10|n>>>22)+r|0)^((i=((i+=(r^(n|~s))+t[10]-1051523|0)<<15|i>>>17)+n|0)|~r))+t[1]-2054922799|0)<<21|s>>>11)+i|0,s=((s+=((n=((n+=(s^((r=((r+=(i^(s|~n))+t[8]+1873313359|0)<<6|r>>>26)+s|0)|~i))+t[15]-30611744|0)<<10|n>>>22)+r|0)^((i=((i+=(r^(n|~s))+t[6]-1560198380|0)<<15|i>>>17)+n|0)|~r))+t[13]+1309151649|0)<<21|s>>>11)+i|0,s=((s+=((n=((n+=(s^((r=((r+=(i^(s|~n))+t[4]-145523070|0)<<6|r>>>26)+s|0)|~i))+t[11]-1120210379|0)<<10|n>>>22)+r|0)^((i=((i+=(r^(n|~s))+t[2]+718787259|0)<<15|i>>>17)+n|0)|~r))+t[9]-343485551|0)<<21|s>>>11)+i|0,e[0]=r+e[0]|0,e[1]=s+e[1]|0,e[2]=i+e[2]|0,e[3]=n+e[3]|0},e.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this},e.prototype.appendStr=function(t){var r,s,i=this._buffer8,n=this._buffer32,a=this._bufferLength;for(s=0;s<t.length;s+=1){if((r=t.charCodeAt(s))<128)i[a++]=r;else if(r<2048)i[a++]=192+(r>>>6),i[a++]=63&r|128;else if(r<55296||r>56319)i[a++]=224+(r>>>12),i[a++]=r>>>6&63|128,i[a++]=63&r|128;else{if((r=1024*(r-55296)+(t.charCodeAt(++s)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");i[a++]=240+(r>>>18),i[a++]=r>>>12&63|128,i[a++]=r>>>6&63|128,i[a++]=63&r|128}a>=64&&(this._dataLength+=64,e._md5cycle(this._state,n),a-=64,n[0]=n[16])}return this._bufferLength=a,this},e.prototype.appendAsciiStr=function(t){for(var r,s=this._buffer8,i=this._buffer32,n=this._bufferLength,a=0;;){for(r=Math.min(t.length-a,64-n);r--;)s[n++]=t.charCodeAt(a++);if(n<64)break;this._dataLength+=64,e._md5cycle(this._state,i),n=0}return this._bufferLength=n,this},e.prototype.appendByteArray=function(t){for(var r,s=this._buffer8,i=this._buffer32,n=this._bufferLength,a=0;;){for(r=Math.min(t.length-a,64-n);r--;)s[n++]=t[a++];if(n<64)break;this._dataLength+=64,e._md5cycle(this._state,i),n=0}return this._bufferLength=n,this},e.prototype.getState=function(){var e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}},e.prototype.setState=function(e){var t,r=e.buffer,s=e.state,i=this._state;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],t=0;t<r.length;t+=1)this._buffer8[t]=r.charCodeAt(t)},e.prototype.end=function(t){void 0===t&&(t=!1);var r=this._bufferLength,s=this._buffer8,i=this._buffer32,n=1+(r>>2);this._dataLength+=r;var a=8*this._dataLength;if(s[r]=128,s[r+1]=s[r+2]=s[r+3]=0,i.set(e.buffer32Identity.subarray(n),n),r>55&&(e._md5cycle(this._state,i),i.set(e.buffer32Identity)),a<=4294967295)i[14]=a;else{var o=a.toString(16).match(/(.*?)(.{0,8})$/);if(null===o)return;var h=parseInt(o[2],16),f=parseInt(o[1],16)||0;i[14]=h,i[15]=f}return e._md5cycle(this._state,i),t?this._state:e._hex(this._state)},e.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),e.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.hexChars="0123456789abcdef",e.hexOut=[],e.onePassHasher=new e,e}();if(r.Md5=s,"5d41402abc4b2a76b9719d911017c592"!==s.hashStr("hello"))throw new Error("Md5 self test failed.")}),(function(e){return r({}[e],e)})),t(1703722499961,(function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Md5FileHasher=void 0;var s=e("./md5"),i=function(){function e(e,t,r){void 0===t&&(t=!0),void 0===r&&(r=1048576),this._callback=e,this._async=t,this._partSize=r,this._configureReader()}return e.prototype.hash=function(e){this._blob=e,this._part=0,this._md5=new s.Md5,this._processPart()},e.prototype._fail=function(){this._callback({success:!1,result:"data read failed"})},e.prototype._hashData=function(e){this._md5.appendByteArray(new Uint8Array(e.target.result)),this._part*this._partSize>=this._blob.size?this._callback({success:!0,result:this._md5.end()}):this._processPart()},e.prototype._processPart=function(){var e,t=this,r=0;t._part+=1,t._blob.size>t._partSize?((r=t._part*t._partSize)>t._blob.size&&(r=t._blob.size),e=t._blob.slice((t._part-1)*t._partSize,r)):e=t._blob,t._async?t._reader.readAsArrayBuffer(e):setTimeout((function(){try{t._hashData({target:{result:t._reader.readAsArrayBuffer(e)}})}catch(e){t._fail()}}),0)},e.prototype._configureReader=function(){this._async?(this._reader=new FileReader,this._reader.onload=this._hashData.bind(this),this._reader.onerror=this._fail.bind(this),this._reader.onabort=this._fail.bind(this)):this._reader=new FileReaderSync},e}();r.Md5FileHasher=i}),(function(e){return r({"./md5":1703722499960}[e],e)})),t(1703722499962,(function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ParallelHasher=void 0;var s=function(){function e(e,t){this._queue=[],this._ready=!0;var r=this;Worker?(r._hashWorker=new Worker(e,t),r._hashWorker.onmessage=r._recievedMessage.bind(r),r._hashWorker.onerror=function(e){r._ready=!1,console.error("Hash worker failure",e)}):(r._ready=!1,console.error("Web Workers are not supported in this browser"))}return e.prototype.hash=function(e){var t=this;return new Promise((function(r,s){t._queue.push({blob:e,resolve:r,reject:s}),t._processNext()}))},e.prototype.terminate=function(){this._ready=!1,this._hashWorker.terminate()},e.prototype._processNext=function(){this._ready&&!this._processing&&this._queue.length>0&&(this._processing=this._queue.pop(),this._hashWorker.postMessage(this._processing.blob))},e.prototype._recievedMessage=function(e){var t,r,s=e.data;s.success?null===(t=this._processing)||void 0===t||t.resolve(s.result):null===(r=this._processing)||void 0===r||r.reject(s.result),this._processing=void 0,this._processNext()},e}();r.ParallelHasher=s}),(function(e){return r({}[e],e)})),r(1703722499959));
},{isPage:false,isComponent:false,currentFile:'miniprogram_npm/ts-md5/index.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("utils/AES.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t,e,r,i=i||function(t,e){var r={},i=r.lib={},n=function(){},o=i.Base={extend:function(t){n.prototype=this;var e=new n;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var e=this.words,r=t.words,i=this.sigBytes;if(t=t.sigBytes,this.clamp(),i%4)for(var n=0;n<t;n++)e[i+n>>>2]|=(r[n>>>2]>>>24-n%4*8&255)<<24-(i+n)%4*8;else if(65535<r.length)for(n=0;n<t;n+=4)e[i+n>>>2]=r[n>>>2];else e.push.apply(e,r);return this.sigBytes+=t,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var r=[],i=0;i<e;i+=4)r.push(4294967296*t.random()|0);return new s.init(r,e)}}),c=r.enc={},a=c.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var r=[],i=0;i<t;i++){var n=e[i>>>2]>>>24-i%4*8&255;r.push((n>>>4).toString(16)),r.push((15&n).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,r=[],i=0;i<e;i+=2)r[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new s.init(r,e/2)}},f=c.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var r=[],i=0;i<t;i++)r.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return r.join("")},parse:function(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new s.init(r,e)}},h=c.Utf8={stringify:function(t){try{return decodeURIComponent(escape(f.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return f.parse(unescape(encodeURIComponent(t)))}},u=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r=this._data,i=r.words,n=r.sigBytes,o=this.blockSize,c=n/(4*o);if(e=(c=e?t.ceil(c):t.max((0|c)-this._minBufferSize,0))*o,n=t.min(4*e,n),e){for(var a=0;a<e;a+=o)this._doProcessBlock(i,a);a=i.splice(0,e),r.sigBytes-=n}return new s.init(a,n)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=u.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new p.HMAC.init(t,r).finalize(e)}}});var p=r.algo={};return r}(Math);e=(t=i).lib.WordArray,t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,i=this._map;t.clamp(),t=[];for(var n=0;n<r;n+=3)for(var o=(e[n>>>2]>>>24-n%4*8&255)<<16|(e[n+1>>>2]>>>24-(n+1)%4*8&255)<<8|e[n+2>>>2]>>>24-(n+2)%4*8&255,s=0;4>s&&n+.75*s<r;s++)t.push(i.charAt(o>>>6*(3-s)&63));if(e=i.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var r=t.length,i=this._map;(n=i.charAt(64))&&-1!=(n=t.indexOf(n))&&(r=n);for(var n=[],o=0,s=0;s<r;s++)if(s%4){var c=i.indexOf(t.charAt(s-1))<<s%4*2,a=i.indexOf(t.charAt(s))>>>6-s%4*2;n[o>>>2]|=(c|a)<<24-o%4*8,o++}return e.create(n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t){function e(t,e,r,i,n,o,s){return((t=t+(e&r|~e&i)+n+s)<<o|t>>>32-o)+e}function r(t,e,r,i,n,o,s){return((t=t+(e&i|r&~i)+n+s)<<o|t>>>32-o)+e}function n(t,e,r,i,n,o,s){return((t=t+(e^r^i)+n+s)<<o|t>>>32-o)+e}function o(t,e,r,i,n,o,s){return((t=t+(r^(e|~i))+n+s)<<o|t>>>32-o)+e}for(var s=i,c=(f=s.lib).WordArray,a=f.Hasher,f=s.algo,h=[],u=0;64>u;u++)h[u]=4294967296*t.abs(t.sin(u+1))|0;f=f.MD5=a.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,i){for(var s=0;16>s;s++){var c=t[a=i+s];t[a]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}s=this._hash.words;var a=t[i+0],f=(c=t[i+1],t[i+2]),u=t[i+3],p=t[i+4],d=t[i+5],l=t[i+6],y=t[i+7],_=t[i+8],v=t[i+9],g=t[i+10],B=t[i+11],k=t[i+12],m=t[i+13],x=t[i+14],S=t[i+15],z=e(z=s[0],E=s[1],C=s[2],w=s[3],a,7,h[0]),w=e(w,z,E,C,c,12,h[1]),C=e(C,w,z,E,f,17,h[2]),E=e(E,C,w,z,u,22,h[3]);z=e(z,E,C,w,p,7,h[4]),w=e(w,z,E,C,d,12,h[5]),C=e(C,w,z,E,l,17,h[6]),E=e(E,C,w,z,y,22,h[7]),z=e(z,E,C,w,_,7,h[8]),w=e(w,z,E,C,v,12,h[9]),C=e(C,w,z,E,g,17,h[10]),E=e(E,C,w,z,B,22,h[11]),z=e(z,E,C,w,k,7,h[12]),w=e(w,z,E,C,m,12,h[13]),C=e(C,w,z,E,x,17,h[14]),z=r(z,E=e(E,C,w,z,S,22,h[15]),C,w,c,5,h[16]),w=r(w,z,E,C,l,9,h[17]),C=r(C,w,z,E,B,14,h[18]),E=r(E,C,w,z,a,20,h[19]),z=r(z,E,C,w,d,5,h[20]),w=r(w,z,E,C,g,9,h[21]),C=r(C,w,z,E,S,14,h[22]),E=r(E,C,w,z,p,20,h[23]),z=r(z,E,C,w,v,5,h[24]),w=r(w,z,E,C,x,9,h[25]),C=r(C,w,z,E,u,14,h[26]),E=r(E,C,w,z,_,20,h[27]),z=r(z,E,C,w,m,5,h[28]),w=r(w,z,E,C,f,9,h[29]),C=r(C,w,z,E,y,14,h[30]),z=n(z,E=r(E,C,w,z,k,20,h[31]),C,w,d,4,h[32]),w=n(w,z,E,C,_,11,h[33]),C=n(C,w,z,E,B,16,h[34]),E=n(E,C,w,z,x,23,h[35]),z=n(z,E,C,w,c,4,h[36]),w=n(w,z,E,C,p,11,h[37]),C=n(C,w,z,E,y,16,h[38]),E=n(E,C,w,z,g,23,h[39]),z=n(z,E,C,w,m,4,h[40]),w=n(w,z,E,C,a,11,h[41]),C=n(C,w,z,E,u,16,h[42]),E=n(E,C,w,z,l,23,h[43]),z=n(z,E,C,w,v,4,h[44]),w=n(w,z,E,C,k,11,h[45]),C=n(C,w,z,E,S,16,h[46]),z=o(z,E=n(E,C,w,z,f,23,h[47]),C,w,a,6,h[48]),w=o(w,z,E,C,y,10,h[49]),C=o(C,w,z,E,x,15,h[50]),E=o(E,C,w,z,d,21,h[51]),z=o(z,E,C,w,k,6,h[52]),w=o(w,z,E,C,u,10,h[53]),C=o(C,w,z,E,g,15,h[54]),E=o(E,C,w,z,c,21,h[55]),z=o(z,E,C,w,_,6,h[56]),w=o(w,z,E,C,S,10,h[57]),C=o(C,w,z,E,l,15,h[58]),E=o(E,C,w,z,m,21,h[59]),z=o(z,E,C,w,p,6,h[60]),w=o(w,z,E,C,B,10,h[61]),C=o(C,w,z,E,f,15,h[62]),E=o(E,C,w,z,v,21,h[63]);s[0]=s[0]+z|0,s[1]=s[1]+E|0,s[2]=s[2]+C|0,s[3]=s[3]+w|0},_doFinalize:function(){var e=this._data,r=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;r[n>>>5]|=128<<24-n%32;var o=t.floor(i/4294967296);for(r[15+(n+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(r.length+1),this._process(),r=(e=this._hash).words,i=0;4>i;i++)n=r[i],r[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return e},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),s.MD5=a._createHelper(f),s.HmacMD5=a._createHmacHelper(f)}(Math),function(){var t,e=i,r=(t=e.lib).Base,n=t.WordArray,o=(t=e.algo).EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=(c=this.cfg).hasher.create(),i=n.create(),o=i.words,s=c.keySize,c=c.iterations;o.length<s;){a&&r.update(a);var a=r.update(t).finalize(e);r.reset();for(var f=1;f<c;f++)a=r.finalize(a),r.reset();i.concat(a)}return i.sigBytes=4*s,i}});e.EvpKDF=function(t,e,r){return o.create(r).compute(t,e)}}(),i.lib.Cipher||function(t){var e=(l=i).lib,r=e.Base,n=e.WordArray,o=e.BufferedBlockAlgorithm,s=l.enc.Base64,c=l.algo.EvpKDF,a=e.Cipher=o.extend({cfg:r.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,r,i){return("string"==typeof r?y:d).encrypt(t,e,r,i)},decrypt:function(e,r,i){return("string"==typeof r?y:d).decrypt(t,e,r,i)}}}});e.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var f=l.mode={},h=function(t,e,r){var i=this._iv;i?this._iv=void 0:i=this._prevBlock;for(var n=0;n<r;n++)t[e+n]^=i[n]},u=(e.BlockCipherMode=r.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();u.Encryptor=u.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize;h.call(this,t,e,i),r.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),u.Decryptor=u.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,n=t.slice(e,e+i);r.decryptBlock(t,e),h.call(this,t,e,i),this._prevBlock=n}}),f=f.CBC=u,u=(l.pad={}).Pkcs7={pad:function(t,e){for(var r,i=(r=(r=4*e)-t.sigBytes%r)<<24|r<<16|r<<8|r,o=[],s=0;s<r;s+=4)o.push(i);r=n.create(o,r),t.concat(r)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},e.BlockCipher=a.extend({cfg:a.cfg.extend({mode:f,padding:u}),reset:function(){a.reset.call(this);var t=(e=this.cfg).iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=e.createEncryptor;else r=e.createDecryptor,this._minBufferSize=1;this._mode=r.call(e,this,t&&t.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var p=e.CipherParams=r.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),d=(f=(l.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?n.create([1398893684,1701076831]).concat(t).concat(e):e).toString(s)},parse:function(t){var e=(t=s.parse(t)).words;if(1398893684==e[0]&&1701076831==e[1]){var r=n.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return p.create({ciphertext:t,salt:r})}},e.SerializableCipher=r.extend({cfg:r.extend({format:f}),encrypt:function(t,e,r,i){i=this.cfg.extend(i);var n=t.createEncryptor(r,i);return e=n.finalize(e),n=n.cfg,p.create({ciphertext:e,key:r,iv:n.iv,algorithm:t,mode:n.mode,padding:n.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,r,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(r,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}})),l=(l.kdf={}).OpenSSL={execute:function(t,e,r,i){return i||(i=n.random(8)),t=c.create({keySize:e+r}).compute(t,i),r=n.create(t.words.slice(e),4*r),t.sigBytes=4*e,p.create({key:t,iv:r,salt:i})}},y=e.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:l}),encrypt:function(t,e,r,i){return r=(i=this.cfg.extend(i)).kdf.execute(r,t.keySize,t.ivSize),i.iv=r.iv,(t=d.encrypt.call(this,t,e,r.key,i)).mixIn(r),t},decrypt:function(t,e,r,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),r=i.kdf.execute(r,t.keySize,t.ivSize,e.salt),i.iv=r.iv,d.decrypt.call(this,t,e,r.key,i)}})}(),function(){for(var t=i,e=t.lib.BlockCipher,r=t.algo,n=[],o=[],s=[],c=[],a=[],f=[],h=[],u=[],p=[],d=[],l=[],y=0;256>y;y++)l[y]=128>y?y<<1:y<<1^283;var _=0,v=0;for(y=0;256>y;y++){var g=(g=v^v<<1^v<<2^v<<3^v<<4)>>>8^255&g^99;n[_]=g,o[g]=_;var B=l[_],k=l[B],m=l[k],x=257*l[g]^16843008*g;s[_]=x<<24|x>>>8,c[_]=x<<16|x>>>16,a[_]=x<<8|x>>>24,f[_]=x,x=16843009*m^65537*k^257*B^16843008*_,h[g]=x<<24|x>>>8,u[g]=x<<16|x>>>16,p[g]=x<<8|x>>>24,d[g]=x,_?(_=B^l[l[l[m^B]]],v^=l[l[v]]):_=v=1}var S=[0,1,2,4,8,16,32,64,128,27,54];r=r.AES=e.extend({_doReset:function(){for(var t=(r=this._key).words,e=r.sigBytes/4,r=4*((this._nRounds=e+6)+1),i=this._keySchedule=[],o=0;o<r;o++)if(o<e)i[o]=t[o];else{var s=i[o-1];o%e?6<e&&4==o%e&&(s=n[s>>>24]<<24|n[s>>>16&255]<<16|n[s>>>8&255]<<8|n[255&s]):(s=n[(s=s<<8|s>>>24)>>>24]<<24|n[s>>>16&255]<<16|n[s>>>8&255]<<8|n[255&s],s^=S[o/e|0]<<24),i[o]=i[o-e]^s}for(t=this._invKeySchedule=[],e=0;e<r;e++)o=r-e,s=e%4?i[o]:i[o-4],t[e]=4>e||4>=o?s:h[n[s>>>24]]^u[n[s>>>16&255]]^p[n[s>>>8&255]]^d[n[255&s]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,c,a,f,n)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,h,u,p,d,o),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,i,n,o,s,c){for(var a=this._nRounds,f=t[e]^r[0],h=t[e+1]^r[1],u=t[e+2]^r[2],p=t[e+3]^r[3],d=4,l=1;l<a;l++){var y=i[f>>>24]^n[h>>>16&255]^o[u>>>8&255]^s[255&p]^r[d++],_=i[h>>>24]^n[u>>>16&255]^o[p>>>8&255]^s[255&f]^r[d++],v=i[u>>>24]^n[p>>>16&255]^o[f>>>8&255]^s[255&h]^r[d++];p=i[p>>>24]^n[f>>>16&255]^o[h>>>8&255]^s[255&u]^r[d++],f=y,h=_,u=v}y=(c[f>>>24]<<24|c[h>>>16&255]<<16|c[u>>>8&255]<<8|c[255&p])^r[d++],_=(c[h>>>24]<<24|c[u>>>16&255]<<16|c[p>>>8&255]<<8|c[255&f])^r[d++],v=(c[u>>>24]<<24|c[p>>>16&255]<<16|c[f>>>8&255]<<8|c[255&h])^r[d++],p=(c[p>>>24]<<24|c[f>>>16&255]<<16|c[h>>>8&255]<<8|c[255&u])^r[d++],t[e]=y,t[e+1]=_,t[e+2]=v,t[e+3]=p},keySize:8});t.AES=e._createHelper(r)}(),i.encrypt=function(t,e,r){return function(t,e,r){return e=i.enc.Utf8.parse(e),r=i.enc.Utf8.parse(r),i.AES.encrypt(t,e,{iv:r,mode:i.mode.CBC,padding:i.pad.Pkcs7}).toString()}(t,e,r)},i.decrypt=function(t,e,r){return function(t,e,r){e=i.enc.Utf8.parse(e),r=i.enc.Utf8.parse(r);var n=i.AES.decrypt(t,e,{iv:r,mode:i.mode.CBC,padding:i.pad.Pkcs7});return n=i.enc.Utf8.stringify(n)}(t,e,r)},i.mode.ECB=((r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),r.Decryptor=r.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),r),module.exports=i;
},{isPage:false,isComponent:false,currentFile:'utils/AES.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("utils/aes_util.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("./AES.js"),t=e.enc.Utf8.parse("15c9193fb10444e298a1c0f8383e9609"),r=e.enc.Utf8.parse("edb512399369497faa2663f24c499df2");module.exports={AesEncrypt:function(n){var c=e.enc.Utf8.parse(n);return e.AES.encrypt(c,t,{iv:r,mode:e.mode.CBC,padding:e.pad.Pkcs7}).ciphertext.toString().toUpperCase()},AesDecrypt:function(n){var c=e.enc.Hex.parse(n),a=e.enc.Base64.stringify(c);return e.AES.decrypt(a,t,{iv:r,mode:e.mode.CBC,padding:e.pad.Pkcs7}).toString(e.enc.Utf8).toString()},Base64Encode:function(t){var r=e.enc.Utf8.parse(t);return e.enc.Base64.stringify(r)},Base64Decode:function(t){return e.enc.Base64.parse(t).toString()},AesDecryptECB:function(r){var n=r;return e.AES.decrypt(n,t,{mode:e.mode.ECB,padding:e.pad.Pkcs7}).toString(e.enc.Utf8).toString()},AesEncryptECB:function(r){var n=e.enc.Utf8.parse(r);return e.AES.encrypt(n,t,{mode:e.mode.ECB,padding:e.pad.Pkcs7}).toString()}};
},{isPage:false,isComponent:false,currentFile:'utils/aes_util.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("utils/bluetooth_util.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bluetoothUtil=void 0;var e=require("../@babel/runtime/helpers/toConsumableArray"),t=require("../@babel/runtime/helpers/regeneratorRuntime"),n=require("../@babel/runtime/helpers/asyncToGenerator"),r=require("../@babel/runtime/helpers/classCallCheck"),a=require("../@babel/runtime/helpers/createClass"),c=require("../@babel/runtime/helpers/classPrivateFieldLooseKey"),s=require("./util"),o=c("timeout"),i=c("notifyTimeout");exports.bluetoothUtil=function(){return a((function e(){r(this,e),this.ble_connect_ency_key=2768767322,this.protocol_head=122,this.ble_data_key=[21,133,146,129,41,5,136,7],this.findTimer=0,Object.defineProperty(this,o,{writable:!0,value:3e4}),Object.defineProperty(this,i,{writable:!0,value:3e5}),this.deviceDiscoveryTimeout=!1,this.BLE={available:!1,discovery:!1,connecting:!1,foundDevices:[],connectedDevices:[],adapterOpend:!1,setBluetoothDeviceFound:!1,setBLEConnectionStateChange:!1,setBluetoothAdapterStateChange:!1,setBLECharacteristicValueChange:!1,mTimeOut:{}},this.ble_command={link:1,unlink:2,deviceInfo:3,setEncryKey:4,update:5,restart:7,setCDKEY:8,setPD:9,getSOC:10,antennaSwitch:11,mf_setTagData:21,mf_getTagData:22,mf_selectCard:48,mf_authKey:49,mf_authKeyBatch:50,mf_readBlock:51,mf_writeBlock:52,mf_half:53,mf_wakeUp:54,mf_getTagNonces:64,mf_dataTransmission:65,mf_get_nested_1nt:69,mf_get_nested:70,mf_get_hardnested:71,mf_get_darksideNonces:72,mf_get_thridtagNonces:73,lhf_IDRead:80,lhf_IDWrite:81,mf_detectionTag:96,mf_simulateTag:97,mf_write2Tag:98,set_data:240,get_data:241},this.ble_error={unkonwn:-1,adapter_success:0,ble_connect_success:1,ble_connected:2,ble_stop_discovery_success:3,ble_connecting:4,init_ver_error:100,adapter_error:101,ble_discoverying:102,ble_discovery_error:103,get_services_error:104,get_characteristics_error:105,ble_connect_error:106,ble_disconnect:107,write_error:108,read_timeout:109,select_one_ble:110,no_link_ble_device:111,account_no_login:112,get_ble_info_error:113,get_userLocation_msg:114,ble_data_busy:115,data_recv_completed:200,data_recv_incomplete:201,data_recv_error:202,data_set_error:224,data_get_error:225,data_cancel:238},this.ble_ans={err_recv:-1,err_cmd:-2,err_rand_mismatch:-3,err_uid_change:-4,err_ble_unConnect:-5,err_ble_recvtimeout:-6,err_ble_send:-7,err_ble_disconnect:-8,err_ble_data_busy:-9,success:0,detecting:2,detect_stop:3,nested_unfixed:4,nested_fixed:5,err_nouid:224,err_cardCRC:225,err_readcard:226,err_overflow:227,err_check:228,err_auth:229,err_writecard:230,err_unknow:240,err_unKNCmd:241,err_noConnect:242},this.rc4_key=[123,64,126,7,252,6,149,135,18,25,146,38,133,4,21,53,60,177,164,76,44,72,27,60,140,8,13,120,14,241,79,18]}),[{key:"getWxErrorMessage",value:function(e){var t="";switch(e){case 0:t="成功";break;case-1:t="已连接";break;case 1e4:t="未初始化蓝牙适配器";break;case 10001:t="蓝牙未打开或者不可用。您需要手动在手机上打开。打开方法请参考手机使用说明";break;case 10002:t="没有找到指定设备";break;case 10003:t="连接失败";break;case 10004:t="没有找到指定服务";break;case 10005:t="没有找到指定特征";break;case 10006:t="当前连接已断开";break;case 10007:t="当前特征不支持此操作";break;case 10008:t="系统异常";break;case 10009:t="系统版本低于 4.3 不支持 BLE";break;case 10012:t="连接超时";break;case 10013:t="连接 deviceId 为空或者是格式不正确"}return t}},{key:"getErrorMessage",value:function(e){var t="操作失败";switch(e){case this.ble_error.adapter_success:t="成功";break;case this.ble_error.ble_connect_success:t="蓝牙设备连接成功";break;case this.ble_error.ble_connected:t="蓝牙设备已连接";break;case this.ble_error.ble_stop_discovery_success:t="停止扫描蓝牙设备";break;case this.ble_error.ble_connecting:t="正在连接";break;case this.ble_error.init_ver_error:t="微信版本低，请升级版本后使用";break;case this.ble_error.ble_discoverying:t="正在搜索蓝牙设备";break;case this.ble_error.ble_discovery_error:t="搜索蓝牙设备失败";break;case this.ble_error.get_services_error:case this.ble_error.get_characteristics_error:t="获取蓝牙设备配置失败";break;case this.ble_error.ble_connect_error:t="连接蓝牙设备失败";break;case this.ble_error.write_error:t="写入失败";break;case this.ble_error.read_timeout:t="读取超时";break;case this.ble_error.select_one_ble:t="请选择一个需要连接的蓝牙设备";break;case this.ble_error.no_link_ble_device:t="没有需要连接的蓝牙设备";break;case this.ble_error.data_recv_completed:t="数据接收完成";break;case this.ble_error.data_recv_incomplete:t="数据未接收完成";break;case this.ble_error.data_recv_error:t="数据接收异常";break;case this.ble_error.data_set_error:t="数据下发失败";break;case this.ble_error.data_cancel:t="取消操作";break;default:t+=":"+e}return t}},{key:"getDataCheckSum",value:function(e){var t=0;if(e&&e.length>0)for(var n=0;n<e.length;n++)t+=e[n];return t}},{key:"setDataXor",value:function(e){var t=170;if(e&&e.length>0)for(var n=0;n<e.length-1;n++)t^=e[n];return t}},{key:"checkDataXor",value:function(e,t){var n=170;if(e&&e.length>0&&t>0){for(var r=e.length>t?t-1:e.length-1,a=0;a<r;a++)n^=e[a];if(n===e[r])return!0}return!1}},{key:"Encryption_function",value:function(e,t){var n=0,r=new Array(e.length);for(n=0;n<e.length;n++)r[n]=e[n]>>(3&e[n])^t>>8*(3&e[n]),n%2!=0&&(r[n-1]=224&r[n]|31&r[n-1],r[n]=(15&r[n])<<4|(60&r[n-1])>>2),r[n]=r[n]+e[n]&255;return r}},{key:"getLocation",value:function(e,t){var n={msg:""};function r(){console.log("获取地理位置"),wx.getLocation({type:"wgs84",success:function(e){console.log("打开地理位置",e),n.msg="",a(n)},fail:function(e){console.log("打开地理位置失败",e),n.msg="您手机的位置信息/定位服务未开启，可能会影响蓝牙设备的搜索。建议开启",a(n)}})}function a(e){"function"==typeof t&&t(n)}wx.getSetting({success:function(t){null!=t.authSetting["scope.userLocation"]&&1!=t.authSetting["scope.userLocation"]&&(e?wx.showModal({title:"获取地理位置信息",content:"搜索蓝牙设备前需要开启您的位置信息/定位服务，如果不开启可能会影响蓝牙设备的搜索。",success:function(e){e.confirm?wx.openSetting({success:function(e){1==e.authSetting["scope.userLocation"]?r():(n.msg="您未授权小程序获取位置信息，可能会影响蓝牙设备的搜索。建议开启",a())},fail:function(e){console.log(e)}}):e.cancel&&(n.msg="您已拒绝小程序获取地理位置信息申请。可能会影响蓝牙设备的搜索",a())},fail:function(e){console.log(e),n.msg="",a()}}):(n.msg="您未授权小程序获取位置信息，可能会影响蓝牙设备的搜索。建议开启",a())),null==t.authSetting["scope.userLocation"]&&(e?wx.authorize({scope:"scope.userLocation",success:function(e){r()},fail:function(e){n.msg="您已拒绝小程序获取地理位置信息申请。可能会影响蓝牙设备的搜索",a()}}):(n.msg="您未授权小程序获取位置信息，可能会影响蓝牙设备的搜索。建议开启",a())),1==t.authSetting["scope.userLocation"]&&r()},fail:function(e){console.log(e),n.msg="",a()}})}},{key:"init",value:function(e,t,n,r){var a=this;function c(t){"function"==typeof e&&e(t)}wx.getSetting({success:function(s){null!=s.authSetting["scope.bluetooth"]&&1!=s.authSetting["scope.bluetooth"]&&wx.showModal({title:"蓝牙使用权限",content:"是否开启小程序蓝牙使用权限？",success:function(s){s.confirm?wx.openSetting({success:function(s){1==s.authSetting["scope.bluetooth"]?(wx.showToast({title:"蓝牙授权成功",icon:"success",duration:1e3}),a.openBluetoothAdapter(e,t,n,r)):(wx.showToast({title:"未授权蓝牙使用权限",icon:"none",duration:5e3}),c({errCode:a.ble_error.get_ble_info_error,errMsg:"未授权蓝牙使用权限"}))},fail:function(e){console.log(e)}}):s.cancel&&(wx.showToast({title:"已拒绝蓝牙使用申请",icon:"none",duration:5e3}),c({errCode:a.ble_error.get_ble_info_error,errMsg:"已拒绝蓝牙使用申请"}))},fail:function(e){console.log(e)}}),null==s.authSetting["scope.bluetooth"]&&wx.authorize({scope:"scope.bluetooth",success:function(c){a.openBluetoothAdapter(e,t,n,r)},fail:function(e){wx.showToast({title:"已拒绝蓝牙使用申请",icon:"none",duration:5e3}),c({errCode:a.ble_error.get_ble_info_error,errMsg:"已拒绝蓝牙使用申请"})}}),1==s.authSetting["scope.bluetooth"]&&a.openBluetoothAdapter(e,t,n,r)}})}},{key:"openBluetoothAdapter",value:function(e,t,n,r){var a=this,c={errCode:a.ble_error.unkonwn,errMsg:""};wx.openBluetoothAdapter?wx.openBluetoothAdapter({mode:"central",success:function(s){console.log("蓝牙适配器打开成功>>"),a.BLE.adapterOpend=!0,a.BLE.setBLEConnectionStateChange&&(wx.offBLEConnectionStateChange(),a.BLE.setBLEConnectionStateChange=!1),wx.onBLEConnectionStateChange((function(e){a.BLE.connectedDevices[e.deviceId].connectStatus=e.connected,a.BLE.connectedDevices[e.deviceId].LinkInfo.link=e.connected,console.log("wx.onBLEConnectionStateChange",e),a.BLE.setBLEConnectionStateChange=!0,"function"==typeof n&&n(e);var t=a.BLE.connectedDevices[e.deviceId].data.recv_callback;null!=t&&"function"==typeof t&&(console.log("发送蓝牙断开指令"),t({errCode:a.ble_error.ble_disconnect,deviceId:e.deviceId,cmd:-1,ans:a.ble_ans.err_ble_disconnect,value:[]}),a.BLE.connectedDevices[e.deviceId].data.recv_callback=null)})),a.BLE.setBluetoothAdapterStateChange&&(wx.offBluetoothAdapterStateChange(),a.BLE.setBluetoothAdapterStateChange=!1),wx.onBluetoothAdapterStateChange((function(e){a.BLE.setBluetoothAdapterStateChange=!0,a.BLE.discovery=e.discovering,a.BLE.available=e.available,"function"==typeof t&&t(e)})),a.BLE.setBLECharacteristicValueChange&&(wx.offBLECharacteristicValueChange(),a.BLE.setBLECharacteristicValueChange=!1),wx.onBLECharacteristicValueChange((function(e){a.BLE.setBLECharacteristicValueChange=!0;var t=e.deviceId;if(a.BLE.connectedDevices[t].data&&a.BLE.connectedDevices[t].data.recv_callback){var n=Array.prototype.slice.call(new Uint8Array(e.value)),c=[];if((c=a.BLE.connectedDevices[t].data.recv_buffer&&a.BLE.connectedDevices[t].data.recv_buffer.length>0?a.BLE.connectedDevices[t].data.recv_buffer.concat(n):n).length>0){var s=a.packAnalysis(t,c);if(s.errCode===a.ble_error.data_recv_incomplete||s.errCode===a.ble_error.data_recv_completed)if(s.errCode===a.ble_error.data_recv_incomplete)a.BLE.connectedDevices[t].data.recv_buffer=c;else if(a.BLE.connectedDevices[t].data.send_buffer.shift(),a.BLE.connectedDevices[t].data.recv_buffer=[],a.BLE.connectedDevices[t].data.state=0,a.BLE.connectedDevices[t].data.send_buffer.length>0)a.writeBLECharacteristicValue(t,a.BLE.connectedDevices[t].data.send_buffer[0]);else{var o=a.BLE.connectedDevices[t].data.recv_callback;"function"==typeof o&&o({errCode:0,deviceId:t,cmd:s.cmd,ans:s.ans,value:s.value}),a.BLE.connectedDevices[t].data.recv_callback=null}else console.log("异常数据"),a.BLE.connectedDevices[t].data.recv_buffer=[]}}"function"==typeof r&&r(e)})),wx.getBluetoothAdapterState({success:function(t){a.BLE.discovery=t.discovering,a.BLE.available=t.available,"function"==typeof e&&(c.errCode=a.ble_error.adapter_success,c.errMsg="蓝牙适配器打开成功",e(c))}})},fail:function(t){if("function"==typeof e){c.errCode=a.ble_error.adapter_error;var n="";"number"==typeof t.errCode&&(n=a.getWxErrorMessage(t.errCode)),n=n.length>0?n:t.errMsg,c.errMsg=n,e(c),console.log("蓝牙适配器打开失败>>",t)}}}):"function"==typeof e&&(c.errCode=a.ble_error.init_ver_error,c.errMsg="微信版本低，请升级版本后使用",e(c))}},{key:"startBluetoothDevicesDiscovery",value:function(e,t,n){var r=this,a=this,c={errCode:a.ble_error.unkonwn,errMsg:""};if(this.BLE.discovery)return console.log("已开启蓝牙扫描，勿重复开启>>"),void("function"==typeof n&&(c.errCode=a.ble_error.ble_discoverying,c.errMsg="正在搜索中...",n(c)));var s,o=null!==(s=e.services)&&void 0!==s?s:[];wx.startBluetoothDevicesDiscovery({services:o,allowDuplicatesKey:!1,success:function(a){r.onBluetoothDeviceFound(e,t,n)},fail:function(e){"function"==typeof n&&(c.errCode=a.ble_error.ble_discovery_error,c.errMsg="开启搜索错误"+e.errMsg,n(c))}})}},{key:"onBluetoothDeviceFound",value:function(e,t,n){var r=this,a=e.deviceId,c=e.serviceData;r.BLE.setBluetoothDeviceFound&&(wx.offBluetoothDeviceFound(),r.BLE.setBluetoothDeviceFound=!1),r.BLE.setBluetoothDeviceFound=!0,r.BLE.foundDevices=[],wx.onBluetoothDeviceFound((function(e){var n=e.devices,o=[];n.forEach((function(e){r.BLE.foundDevices.hasOwnProperty(e.deviceId)||(r.BLE.foundDevices[e.deviceId]=e,(0,s.stringIsEmpty)(e.deviceId)||(0,s.stringIsEmpty)(a)?(0,s.stringIsEmpty)(c)?o.push(e):null!=e.serviceData&&null!=e.serviceData&&e.serviceData.hasOwnProperty(c)&&(e.SN=(0,s.ab2hex)(e.serviceData[c]),o.push(e)):e.deviceId.toLowerCase()===a.toLowerCase()&&o.push(e))})),o.length>0&&"function"==typeof t&&t(o)}))}},{key:"stopBluetoothDevicesDiscovery",value:function(e){var t=this;wx.stopBluetoothDevicesDiscovery({success:function(n){if("function"==typeof e){var r={errCode:t.ble_error.ble_stop_discovery_success,errMsg:"扫描结束"};e(r)}t.findTimer>0&&(clearTimeout(t.findTimer),t.findTimer=0),t.BLE.setBluetoothDeviceFound&&(wx.offBluetoothDeviceFound(),t.BLE.setBluetoothDeviceFound=!1)},fail:function(e){},complete:function(e){console.log(e)}})}},{key:"createBLEConnection",value:function(e,t){var n=wx.getSystemInfoSync(),r=n.system.toLowerCase().indexOf("android")>-1,a=n.system.toLowerCase().indexOf("ios")>-1,c=this,s={errCode:c.ble_error.unkonwn,errMsg:"",data:null},o=e.deviceId;if(!c.BLE.connectedDevices.hasOwnProperty(o)){c.BLE.connectedDevices[o]={mtu:20,connectStatus:!1,serviceId:"",writeCharacteristicsId:"",notifyCharacteristicsId:"",readCharacteristicsId:"",data:{Id:0,state:0,timerId:0,timeout:0,send_buffer:[],recv_buffer:[],recv_callback:null},LinkInfo:{link:!1,Info:{}}}}c.BLE.connectedDevices[o].connectStatus?(s.errCode=c.ble_error.ble_connected,s.errMsg="当前已连接！","function"==typeof t&&t(s)):(console.log("连接蓝牙设备中..."+o),s.errCode=c.ble_error.ble_connecting,s.errMsg="连接蓝牙设备中...","function"==typeof t&&t(s),wx.createBLEConnection({deviceId:o,timeout:6e3,success:function(n){console.log("连接成功"),c.BLE.connectedDevices[o].connectStatus=!0,c.BLE.connectedDevices[o].mtu=a?185:20,wx.getBLEMTU&&wx.getBLEMTU({deviceId:o,writeType:"write",success:function(e){c.BLE.connectedDevices[o].mtu=e.mtu-3}}),c.getBLEDeviceServices(e,(function(e){if(e.errCode===c.ble_error.ble_connect_success){if(s.errCode=c.ble_error.ble_connect_success,s.errMsg="连接成功",s.data=e.data,r&&(wx.onBLEMTUChange((function(e){console.log("onBLEMTUChange",e),c.BLE.connectedDevices[e.deviceId].mtu=e.mtu-3})),wx.setBLEMTU))return void wx.setBLEMTU({deviceId:o,mtu:185,success:function(e){console.log("setBLEMTU success!",e),c.BLE.connectedDevices[o].mtu=e.mtu-3},fail:function(e){wx.getBLEMTU({deviceId:o,writeType:"write",success:function(e){console.log("setBLEMTU fail! getBLEMTU again ->",e),c.BLE.connectedDevices[o].mtu<e.mtu-3&&(c.BLE.connectedDevices[o].mtu=e.mtu-3)},fail:function(e){console.log("getBLEMTU fail! 强制设置 ->",e),c.BLE.connectedDevices[o].mtu=185}})},complete:function(e){console.log(e),"function"==typeof t&&t(s)}});"function"==typeof t&&t(s)}else console.log("断开连接",e),wx.closeBLEConnection({deviceId:o,success:function(e){c.BLE.connectedDevices[o].connectStatus=!1}})}))},fail:function(e){console.log("连接设备失败"+e),s.errCode=c.ble_error.ble_connect_error,s.errMsg="连接设备失败",c.BLE.connectedDevices[o].connectStatus=!1,"function"==typeof t&&t(s)},complete:function(e){console.log(e)}}))}},{key:"getBLEDeviceServices",value:function(e,t){var n=this,r=e.deviceId,a=e.serviceUUID;wx.getBLEDeviceServices({deviceId:r,success:function(c){for(var s=!1,o=0;o<c.services.length;o++){var i,l=c.services[o];(null===(i=l.uuid===a)||void 0===i||i)&&(n.BLE.connectedDevices[r].serviceId=l.uuid,n.getBLEDeviceCharacteristics(e,t),s=!0)}if(!s){var u={errCode:n.ble_error.get_services_error,errMsg:"获取不到Services"};"function"==typeof t&&t(u)}},fail:function(e){var r={errCode:n.ble_error.get_services_error,errMsg:"获取Services失败"};"function"==typeof t&&t(r)}})}},{key:"getBLEDeviceCharacteristics",value:function(e,t){var n=this,r=e.deviceId,a=e.characteristicsWriteUUID,c=e.characteristicsNotifyUUID,s={errCode:n.ble_error.unkonwn,errMsg:"",data:null};wx.getBLEDeviceCharacteristics({deviceId:r,serviceId:n.BLE.connectedDevices[r].serviceId,success:function(e){for(var o,i,l=0;l<e.characteristics.length;l++){var u,d,f=e.characteristics[l];(null===(u=f.uuid===a)||void 0===u||u)&&f.properties.write&&(i=f.uuid),(null===(d=f.uuid===c)||void 0===d||d)&&f.properties.notify&&(o=f.uuid)}null!=o&&null!=i?(n.BLE.connectedDevices[r].notifyCharacteristicsId=o,n.BLE.connectedDevices[r].writeCharacteristicsId=i,n.BLE.connectedDevices[r].readCharacteristicsId=void 0,n.opennotify(r,o),s.errCode=n.ble_error.ble_connect_success,s.errMsg="",s.data=r,"function"==typeof t&&t(s)):(s.errCode=n.ble_error.get_characteristics_error,s.errMsg="获取不到合适的Characteristics","function"==typeof t&&t(s))},fail:function(e){s.errCode=n.ble_error.get_characteristics_error,s.errMsg="获取Characteristics失败","function"==typeof t&&t(s)}})}},{key:"opennotify",value:function(e,t){wx.notifyBLECharacteristicValueChange({state:!0,deviceId:e,serviceId:this.BLE.connectedDevices[e].serviceId,characteristicId:t,success:function(e){console.log("notifyBLECharacteristicValueChange success",e.errMsg)}})}},{key:"stopBLEDeviceDiscoveryTask",value:function(){this.stopBluetoothDevicesDiscovery(),wx.offBluetoothDeviceFound(),this.BLE.setBluetoothDeviceFound=!1}},{key:"closeBluetoothAdapter",value:function(e){var t=this;wx.closeBluetoothAdapter({success:function(e){console.log(e),wx.offBLEConnectionStateChange(),wx.offBluetoothAdapterStateChange(),wx.offBLECharacteristicValueChange(),t.BLE.setBLEConnectionStateChange=!1,t.BLE.setBluetoothAdapterStateChange=!1,t.BLE.setBLECharacteristicValueChange=!1,t.BLE.adapterOpend=!1},complete:function(t){var n={errCode:t.errno,errMsg:t.errMsg};"function"==typeof e&&e(n)}})}},{key:"closeBLEConnection",value:function(e,t){e&&wx.closeBLEConnection({deviceId:e,success:function(e){},complete:function(e){console.log(e);var n={errCode:e.errno,errMsg:e.errMsg};"function"==typeof t&&t(n)}})}},{key:"closeBluetooth",value:function(e){this.stopBLEDeviceDiscoveryTask(),this.BLE.connectedDevices&&this.BLE.connectedDevices.forEach((function(e){var t=e.deviceId;t&&wx.closeBLEConnection({deviceId:t})})),this.closeBluetoothAdapter(e)}},{key:"BLEConnection",value:function(e,t,n,r,a,c){var o=this,i={services:["00003333-2018-0115-2023-102618001001"],deviceId:"",serviceData:"0000534E-0000-1000-8000-00805F9B34FB",serviceUUID:"00003333-2018-0115-2023-102618001001",characteristicsWriteUUID:"00003333-2018-0115-2023-102618000001",characteristicsNotifyUUID:"00003333-2018-0115-2023-102618000002"};function l(c){o.ble_error.adapter_success===c.errCode&&o.BLEConnection(e,t,n,r,a,!1),"function"==typeof t&&t(c)}if(c&&o.BLE.adapterOpend){o.closeBluetooth((function(c){o.BLEConnection(e,t,n,r,a,!1)}))}else if(o.BLE.adapterOpend)(0,s.stringIsEmpty)(e.deviceId)?function(e,t){o.startBluetoothDevicesDiscovery(i,t,e)}(t,(function(e){if(console.log("bluetoothDeviceFound->",e),!o.BLE.connecting&&"function"==typeof t){var n={errCode:o.ble_error.select_one_ble,errMsg:"选择需要连接的设备",data:e};t(n)}})):function(e){console.log("连接设备"),i.deviceId=e.deviceId,o.createBLEConnection(i,(function(e){if(e.errCode===o.ble_error.ble_connecting){if(o.BLE.connecting=!0,"function"==typeof t){var n={errCode:o.ble_error.ble_connecting,errMsg:"正在连接...",data:e.data};t(n)}}else if(o.BLE.connecting=!1,e.errCode===o.ble_error.ble_connect_success){if(console.log("连接成功",e),"function"==typeof t){n={errCode:o.ble_error.ble_connect_success,errMsg:"连接成功",data:e.data};t(n)}o.stopBluetoothDevicesDiscovery(t)}else if("function"==typeof t){var r={errCode:o.ble_error.ble_connect_error,errMsg:e.errMsg};t(r)}}))}(e);else{o.getLocation(!1,(function(e){if(e.msg.length>0&&"function"==typeof t){var c={errCode:o.ble_error.get_userLocation_msg,errMsg:e.msg};t(c)}o.init(l,n,r,a)}))}}},{key:"packAnalysis",value:function(e,t){var n={errCode:this.ble_error.unkonwn,cmd:0,ans:-1,value:[]};if(t&&t.length>0)if(t[0]===this.protocol_head)if(t.length>3){var r=t[1]+2;if(t.length<r)n.errCode=this.ble_error.data_recv_incomplete;else if(this.checkDataXor(t,r)){var a=t.slice(2,-1),c=(0,s.RC4_Crypt_UnLength)(a,this.rc4_key);if(null!=c){n.cmd=c[1],n.ans=c[2];var o=c.slice(3);n.value=o,n.errCode=this.ble_error.data_recv_completed}else n.errCode=this.ble_error.data_recv_error}else n.errCode=this.ble_error.data_recv_error}else n.errCode=this.ble_error.data_recv_incomplete;else n.errCode=this.ble_error.data_recv_error;return n}},{key:"packCommand",value:function(e,t,n){var r,a,c=[];r=this.BLE.connectedDevices[e].mtu-5,a=this.protocol_head;var o=0;n&&(o=n.length);var i=Math.ceil(o/r);0===i&&(i=1);for(var l=0,u=0;u<i;u++){var d=o-l>r?r:o-l,f=new Array(d+5);f[0]=a,f[1]=d+3;var _=this.BLE.connectedDevices[e].data.Id;this.BLE.connectedDevices[e].data.Id=_+1>255?0:_+1;var v=new Array(d+2);if(v[0]=_,v[1]=t,d>0)for(var m=0;m<d;m++)v[m+2]=n[l+m];var h=(0,s.RC4_Crypt_UnLength)(v,this.rc4_key);if(h)for(var b=0;b<d+2;b++)f[b+2]=h[b];var p=this.setDataXor(f);f[d+5-1]=p;var k=new Uint8Array(f).buffer;c.push(k),l+=d}return c}},{key:"sendBLEData",value:function(e,t,n,r){this.BLE.connectedDevices[e].data.send_buffer=t,this.BLE.connectedDevices[e].data.recv_buffer=[],this.BLE.connectedDevices[e].data.recv_callback=r,this.BLE.connectedDevices[e].data.send_buffer&&this.BLE.connectedDevices[e].data.send_buffer.length>0&&this.writeBLECharacteristicValue(e,this.BLE.connectedDevices[e].data.send_buffer[0],n)}},{key:"sendBLEDataWaitAsync",value:(F=n(t().mark((function e(n,r){var a,c,o,i,l,u=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>2&&void 0!==u[2]?u[2]:3e4,c=!(u.length>3&&void 0!==u[3])||u[3],o=this,e.prev=3,!(0,s.stringIsEmpty)(n)&&o.BLE.connectedDevices[n].connectStatus){e.next=6;break}return e.abrupt("return",{errCode:o.ble_error.ble_disconnect,deviceId:n,cmd:-1,ans:o.ble_ans.err_ble_disconnect,value:[]});case 6:if(0==o.BLE.connectedDevices[n].data.state||3==o.BLE.connectedDevices[n].data.state){e.next=23;break}if(console.log("蓝牙正在占用,等待蓝牙空闲",o.BLE.connectedDevices[n].data.state,o.BLE.connectedDevices[n].data.timeout),!c){e.next=22;break}i=o.BLE.connectedDevices[n].data.timeout;case 10:if(0!==o.BLE.connectedDevices[n].data.state&&3!==o.BLE.connectedDevices[n].data.state){e.next=13;break}return e.abrupt("break",19);case 13:if(!(i--<=0)){e.next=15;break}return e.abrupt("break",19);case 15:return e.next=17,(0,s.sleep)(1);case 17:e.next=10;break;case 19:console.log("蓝牙已可用"),e.next=23;break;case 22:return e.abrupt("return",{errCode:o.ble_error.ble_data_busy,deviceId:n,cmd:-1,ans:o.ble_ans.err_ble_data_busy,value:[]});case 23:return e.next=25,new Promise((function(e){o.sendBLEData(n,r,(function(t){1===t?(o.BLE.connectedDevices[n].data.timeout=a,o.BLE.connectedDevices[n].data.timerId=setTimeout((function(){o.BLE.connectedDevices[n].data.state=3,o.BLE.connectedDevices[n].data.timerId=0,o.BLE.connectedDevices[n].data.recv_callback=null;var t={errCode:o.ble_error.read_timeout,deviceId:n,cmd:-1,ans:o.ble_ans.err_ble_recvtimeout,value:[]};e(t),console.log("接收超时(ms)",a)}),a)):e({errCode:o.ble_error.write_error,deviceId:n,cmd:-1,ans:o.ble_ans.err_ble_send,value:[]})}),(function(t){clearTimeout(o.BLE.connectedDevices[n].data.timerId),o.BLE.connectedDevices[n].data.timerId=0,e(t)}))}));case 25:return l=e.sent,e.abrupt("return",l);case 29:return e.prev=29,e.t0=e.catch(3),console.log("sendBLEDataWaitAsync",e.t0),e.abrupt("return",{errCode:o.ble_error.write_error,cmd:-1,ans:o.ble_ans.err_ble_send,value:[]});case 33:case"end":return e.stop()}}),e,this,[[3,29]])}))),function(e,t){return F.apply(this,arguments)})},{key:"writeBLECharacteristicValue",value:function(e,t,n){var r=this;!(0,s.stringIsEmpty)(e)&&r.BLE.connectedDevices[e].connectStatus?(r.BLE.connectedDevices[e].data.state=1,wx.writeBLECharacteristicValue({deviceId:e,serviceId:r.BLE.connectedDevices[e].serviceId,characteristicId:r.BLE.connectedDevices[e].writeCharacteristicsId,value:t,success:function(t){r.BLE.connectedDevices[e].data.state=2,"function"==typeof n&&n(1)},fail:function(e){"function"==typeof n&&n(0),console.log("writeBLECharacteristicValue fail",e)},complete:function(e){}})):"function"==typeof r.BLE.connectedDevices[e].data.recv_callback&&r.BLE.connectedDevices[e].data.recv_callback({errCode:r.ble_error.ble_disconnect,deviceId:e,cmd:-1,ans:r.ble_ans.err_ble_disconnect,value:[]})}},{key:"StopBLERecvAsync",value:(O=n(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this,!(0,s.stringIsEmpty)(n)&&r.BLE.connectedDevices[n].connectStatus){e.next=3;break}return e.abrupt("return");case 3:if(0==r.BLE.connectedDevices[n].data.state||3==r.BLE.connectedDevices[n].data.state){e.next=16;break}a=300;case 5:if(0!==r.BLE.connectedDevices[n].data.state&&3!==r.BLE.connectedDevices[n].data.state){e.next=8;break}return e.abrupt("break",16);case 8:if(!(a--<=0)){e.next=12;break}return"function"==typeof r.BLE.connectedDevices[n].data.recv_callback&&(r.BLE.connectedDevices[n].data.state=3,r.BLE.connectedDevices[n].data.recv_callback({errCode:r.ble_error.read_timeout,deviceId:n,cmd:-1,ans:r.ble_ans.err_ble_recvtimeout,value:[]})),console.log("等待超时"),e.abrupt("break",16);case 12:return e.next=14,(0,s.sleep)(1);case 14:e.next=5;break;case 16:case"end":return e.stop()}}),e,this)}))),function(e){return O.apply(this,arguments)})},{key:"IsDeviceLink",value:function(e){return!!(this.BLE.connectedDevices[e]&&this.BLE.connectedDevices[e].connectStatus&&this.BLE.connectedDevices[e].LinkInfo)&&this.BLE.connectedDevices[e].LinkInfo.link}},{key:"GetDeviceInfo",value:function(e){return this.BLE.connectedDevices[e]&&this.BLE.connectedDevices[e].connectStatus&&this.BLE.connectedDevices[e].LinkInfo?this.BLE.connectedDevices[e].LinkInfo.Info:""}},{key:"recvCallback",value:function(e,t,n,r){var a={ans:-1,data:{}};try{if(null==e||0!==e.errCode)throw e.errCode;if(e.cmd!==t)throw this.ble_ans.err_cmd;switch(a.ans=e.ans,e.cmd){case this.ble_command.link:if(0===e.ans){for(var c=new Array(4),o=new Array(4),i=0;i<4;i++)c[i]=e.value[i],o[i]=e.value[4+i];var l={ency_rand:c,dev_rand:o};a.data=l}break;case this.ble_command.unlink:break;case this.ble_command.deviceInfo:if(0===e.ans){var u={MCUUID:e.value.slice(0,12),version:e.value.slice(12,20),lang:e.value[20],CDKEY:e.value.slice(21,25),ChipSN:e.value.slice(25,29)};a.data=u}break;case this.ble_command.getSOC:0===e.ans&&(a.data=e.value[0]);break;case this.ble_command.update:0===e.ans&&(a.data=this.ble_command.update);break;case this.ble_command.restart:case this.ble_command.antennaSwitch:case this.ble_command.mf_half:break;case this.ble_command.mf_dataTransmission:if(0===e.ans){var d={frame:e.value[0],length:e.value[1],data:e.value.slice(2)};a.data=d}break;case this.ble_command.mf_getTagNonces:0===e.ans&&(a.data=e.value);break;case this.ble_command.mf_selectCard:if(0===e.ans){var f=e.value[10]>10||e.value[10]<4?10:e.value[10],_={size:f,UID:e.value.slice(0,f),ATQA:256*e.value[11]+e.value[12],SAK:e.value[13],num_sectors:0,data:[],card_data:[],card_hash:[],tem_key:{}};a.data=_}break;case this.ble_command.lhf_IDRead:if(0===e.ans){var v={freq:e.value.slice(0,12),type:e.value.slice(12,24),size:e.value[24],UID:e.value.slice(25),data:e.value};a.data=v}break;case this.ble_command.lhf_IDWrite:case this.ble_command.mf_authKey:break;case this.ble_command.mf_authKeyBatch:if(0===e.ans){var m={block:e.value[0],type:e.value[1],key:e.value.slice(2)};a.data=m}break;case this.ble_command.mf_readBlock:0===e.ans&&(a.data=e.value);break;case this.ble_command.mf_writeBlock:break;case this.ble_command.mf_get_darksideNonces:if(0===e.ans){var h={nt:e.value.slice(1,5),par_list:e.value.slice(5,13),ks_list:e.value.slice(13,21),nr:e.value.slice(21,25),ar:e.value.slice(25,29)};a.data=h}else a.data=e.value[0];break;case this.ble_command.mf_get_nested_1nt:if(0===e.ans){var b={nt:e.value.slice(0,4),nt_nested:e.value.slice(4,8),nt_enc:e.value.slice(8,12),nt_par_enc:e.value[12]};a.data=b}break;case this.ble_command.mf_get_nested:if(0===e.ans||e.ans===this.ble_ans.nested_fixed){var p={fixed_nt:e.value.slice(0,4),nt1:e.value.slice(4,8),ks1:e.value.slice(8,12),nt2:e.value.slice(12,16),ks2:e.value.slice(16,20)};a.data=p}break;case this.ble_command.mf_get_thridtagNonces:if(0===e.ans){var k={uid:e.value.slice(0,4),nt:e.value.slice(4,8),nt_enc:e.value.slice(8,12),nt_par_enc:e.value[12]};a.data=k}break;case this.ble_command.mf_get_hardnested:if(0===e.ans){var y=e.value.slice(0,4),g=e.value.slice(4,8),B={taskID:this.ble_command.mf_get_hardnested,dataSize:(0,s.bytes_to_num)(y),checkValue:(0,s.bytes_to_num)(g)};a.data=B}break;case this.ble_command.mf_setTagData:0===e.ans&&(a.data=this.ble_command.mf_setTagData);break;case this.ble_command.mf_getTagData:if(0===e.ans){var L=e.value.slice(0,4),E=e.value.slice(4,8),C={taskID:this.ble_command.mf_getTagData,dataSize:(0,s.bytes_to_num)(L),checkValue:(0,s.bytes_to_num)(E)};a.data=C}break;case this.ble_command.mf_detectionTag:if(0===e.ans||2===e.ans){var D={count:e.value[0],writecard:e.value[2]<<8|e.value[1],data:e.value.slice(3)};a.data=D}break;case this.ble_command.mf_simulateTag:break;case this.ble_command.mf_write2Tag:if(0===e.ans){var w={T:e.value[0],B:e.value.slice(1)};a.data=w}break;case this.ble_command.set_data:break;case this.ble_command.get_data:if(0===e.ans){var x={offset:e.value.slice(0,4),dataLength:e.value[4],data:e.value.slice(5)};a.data=x}}}catch(t){e.errCode===this.ble_error.ble_disconnect?a.ans=this.ble_ans.err_ble_disconnect:e.errCode===this.ble_error.read_timeout?a.ans=this.ble_ans.err_ble_recvtimeout:a.ans=this.ble_ans.err_recv,a.data=e,"function"==typeof r&&r(a)}return"function"==typeof n&&n(a),a}},{key:"cmdLinkDeviceAsync",value:(N=n(t().mark((function e(n,r,a){var c,s,o,i,l,u,d,f,_,v,m,h;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c=this,s={ans:-1,data:{}},o=new Array(4),i=0;i<4;i++)o[i]=Math.floor(255*Math.random());return l=c.packCommand(n,c.ble_command.link,o),e.next=7,c.sendBLEDataWaitAsync(n,l);case 7:if(u=e.sent,0!==(d=c.recvCallback(u,c.ble_command.link,void 0,a)).ans){e.next=25;break}if(f=c.Encryption_function(o,c.ble_connect_ency_key),JSON.stringify(f)!=JSON.stringify(d.data.ency_rand)){e.next=21;break}return _=c.Encryption_function(d.data.dev_rand,c.ble_connect_ency_key),v=c.packCommand(n,c.ble_command.link,_),e.next=16,c.sendBLEDataWaitAsync(n,v);case 16:m=e.sent,0===(h=c.recvCallback(m,c.ble_command.link,void 0,a)).ans&&(console.log("握手成功"),c.BLE.connectedDevices[n].LinkInfo.link=!0,s=h),e.next=23;break;case 21:console.log("获取错误的随机数"),s.ans=c.ble_ans.err_rand_mismatch;case 23:e.next=27;break;case 25:console.log("获取随机数失败"),s=d;case 27:return"function"==typeof r&&r(s),e.abrupt("return",s);case 29:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return N.apply(this,arguments)})},{key:"cmdUnLinkDeviceAsync",value:(U=n(t().mark((function e(n,r,a){var c,s,o,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(c=this).packCommand(n,c.ble_command.unlink,null),e.next=4,c.sendBLEDataWaitAsync(n,s);case 4:return o=e.sent,0===(i=c.recvCallback(o,c.ble_command.unlink,r,a)).ans&&(c.BLE.connectedDevices[n].LinkInfo.link=!1),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return U.apply(this,arguments)})},{key:"cmdDeviceInfoAsync",value:(W=n(t().mark((function e(n,r,a){var c,s,o,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(c=this).packCommand(n,c.ble_command.deviceInfo,null),e.next=4,c.sendBLEDataWaitAsync(n,s);case 4:return o=e.sent,console.log(o),0===(i=c.recvCallback(o,c.ble_command.deviceInfo,r,a)).ans&&(c.BLE.connectedDevices[n].LinkInfo.Info=i.data,console.log("获取设备信息",i.data)),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return W.apply(this,arguments)})},{key:"cmdGetAtteryValueAsync",value:(M=n(t().mark((function e(n,r,a){var c,s,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(c=this).packCommand(n,c.ble_command.getSOC,null),e.next=4,c.sendBLEDataWaitAsync(n,s,1e3,!1);case 4:return o=e.sent,e.abrupt("return",c.recvCallback(o,c.ble_command.getSOC,r,a));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return M.apply(this,arguments)})},{key:"cmdDeviceRestartAsync",value:(T=n(t().mark((function e(n,r,a,c){var s,o,i,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this,(o=new Array(1))[0]=r,i=s.packCommand(n,s.ble_command.restart,o),e.next=6,s.sendBLEDataWaitAsync(n,i);case 6:return l=e.sent,e.abrupt("return",s.recvCallback(l,s.ble_command.restart,a,c));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return T.apply(this,arguments)})},{key:"cmdAntennaSwitchAsync",value:(S=n(t().mark((function e(n,r,a,c){var s,o,i,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this,(o=new Array(1))[0]=r,i=s.packCommand(n,s.ble_command.antennaSwitch,o),e.next=6,s.sendBLEDataWaitAsync(n,i,1e3,!1);case 6:return l=e.sent,e.abrupt("return",s.recvCallback(l,s.ble_command.antennaSwitch,a,c));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return S.apply(this,arguments)})},{key:"cmdSetDeviceUpdateDataAsync",value:(I=n(t().mark((function e(n,r,a,c,o){var i,l,u,d,f,_,v;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=this,l=new Array(8).fill(0),u=(0,s.num_to_bytes)(r),d=(0,s.num_to_bytes)(a),f=0;f<4;f++)l[f]=u[f],l[4+f]=d[f];return _=i.packCommand(n,i.ble_command.update,l),e.next=8,i.sendBLEDataWaitAsync(n,_);case 8:return v=e.sent,e.abrupt("return",i.recvCallback(v,i.ble_command.update,c,o));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a){return I.apply(this,arguments)})},{key:"cmdMifareClassicHaltAsync",value:(A=n(t().mark((function e(n,r,a){var c,s,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(c=this).packCommand(n,c.ble_command.mf_half,null),e.next=4,c.sendBLEDataWaitAsync(n,s);case 4:return o=e.sent,e.abrupt("return",c.recvCallback(o,c.ble_command.mf_half,r,a));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return A.apply(this,arguments)})},{key:"cmdGetTagNonces",value:(x=n(t().mark((function e(n,r,a,c,s,o,i){var l,u,d,f;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=this,(u=new Array(5))[0]=r,u[1]=a,u[2]=c<<8,u[3]=255&c,u[4]=s,d=l.packCommand(n,l.ble_command.mf_getTagNonces,u),e.next=10,l.sendBLEDataWaitAsync(n,d);case 10:return f=e.sent,e.abrupt("return",l.recvCallback(f,l.ble_command.mf_getTagNonces,o,i));case 12:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a,c,s){return x.apply(this,arguments)})},{key:"cmdTransmissionDataAsync",value:(w=n(t().mark((function e(n,r,a,c,s,o){var i,l,u,d,f;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this,(l=new Array(3))[0]=r,l[1]=a,l[2]=c.length,u=l.concat(c),d=i.packCommand(n,i.ble_command.mf_dataTransmission,u),e.next=9,i.sendBLEDataWaitAsync(n,d);case 9:return f=e.sent,e.abrupt("return",i.recvCallback(f,i.ble_command.mf_dataTransmission,s,o));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a,c){return w.apply(this,arguments)})},{key:"cmdSelectMifareCardAsync",value:(D=n(t().mark((function e(n,r,a,c){var s,o,i,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(s=this).packCommand(n,s.ble_command.mf_selectCard,null),e.next=4,s.sendBLEDataWaitAsync(n,o);case 4:return i=e.sent,l=s.recvCallback(i,s.ble_command.mf_selectCard,a,c),null!=r&&0===l.ans&&JSON.stringify(r)!=JSON.stringify(l.data.UID)&&(console.log("卡片变更"),l.ans=s.ble_ans.err_uid_change),e.abrupt("return",l);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return D.apply(this,arguments)})},{key:"cmdReadLHFCardAsync",value:(C=n(t().mark((function e(n,r,a){var c,s,o,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=this,s=new Array(12).fill(0),o=c.packCommand(n,c.ble_command.lhf_IDRead,s),e.next=5,c.sendBLEDataWaitAsync(n,o);case 5:return i=e.sent,e.abrupt("return",c.recvCallback(i,c.ble_command.lhf_IDRead,r,a));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return C.apply(this,arguments)})},{key:"cmdWriteLHFCardAsync",value:(E=n(t().mark((function e(n,r,a,c,s,o,i){var l,u,d,f,_,v;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l=this,u=new Array(57).fill(0),d=0;d<12;d++)u[d]=r[d],u[12+d]=a[d];for(u[24]=c,f=0;f<32;f++)u[25+f]=s[f];return _=l.packCommand(n,l.ble_command.lhf_IDWrite,u),e.next=8,l.sendBLEDataWaitAsync(n,_);case 8:return v=e.sent,e.abrupt("return",l.recvCallback(v,l.ble_command.lhf_IDWrite,o,i));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a,c,s){return E.apply(this,arguments)})},{key:"cmdMifareAuthAsync",value:(L=n(t().mark((function e(n,r,a,c,s,o,i){var l,u,d,f,_,v;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=this,u=new Array(6),d=r.slice(r.length-4),u[0]=d[0],u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=a,u[5]=c,f=u.concat(s),_=l.packCommand(n,l.ble_command.mf_authKey,f),e.next=13,l.sendBLEDataWaitAsync(n,_);case 13:return v=e.sent,e.abrupt("return",l.recvCallback(v,l.ble_command.mf_authKey,o,i));case 15:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a,c,s){return L.apply(this,arguments)})},{key:"cmdMifareAuthBatchAsync",value:(B=n(t().mark((function e(n,r,a,c,s,o){var i,l,u,d,f;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this,(l=new Array(3))[0]=r,l[1]=a,l[2]=c.length/6,u=l.concat(c),d=i.packCommand(n,i.ble_command.mf_authKeyBatch,u),e.next=9,i.sendBLEDataWaitAsync(n,d);case 9:return f=e.sent,e.abrupt("return",i.recvCallback(f,i.ble_command.mf_authKeyBatch,s,o));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a,c){return B.apply(this,arguments)})},{key:"cmdMifareReadBlockAsync",value:(g=n(t().mark((function e(n,r,a,c){var s,o,i,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this,(o=new Array(1))[0]=r,i=s.packCommand(n,s.ble_command.mf_readBlock,o),e.next=6,s.sendBLEDataWaitAsync(n,i);case 6:return l=e.sent,e.abrupt("return",s.recvCallback(l,s.ble_command.mf_readBlock,a,c));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return g.apply(this,arguments)})},{key:"cmdMifareWriteBlockAsync",value:(y=n(t().mark((function e(n,r,a,c,s){var o,i,l,u,d;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this,(i=new Array(1))[0]=r,l=i.concat(a),u=o.packCommand(n,o.ble_command.mf_writeBlock,l),e.next=7,o.sendBLEDataWaitAsync(n,u);case 7:return d=e.sent,e.abrupt("return",o.recvCallback(d,o.ble_command.mf_writeBlock,c,s));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a){return y.apply(this,arguments)})},{key:"cmdMifareDarksideAttackAsync",value:(k=n(t().mark((function e(n,r,a,c){var s,o,i,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this,(o=new Array(1))[0]=r,i=s.packCommand(n,s.ble_command.mf_get_darksideNonces,o),e.next=6,s.sendBLEDataWaitAsync(n,i,12e4);case 6:return l=e.sent,e.abrupt("return",s.recvCallback(l,s.ble_command.mf_get_darksideNonces,a,c));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return k.apply(this,arguments)})},{key:"cmdGetMifareThirdTagNoncesAsync",value:(p=n(t().mark((function e(n,r,a,c,s,o){var i,l,u,d,f;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=this,(l=new Array(8))[0]=r,l[1]=a,u=0;u<6;u++)l[2+u]=c[u];return d=i.packCommand(n,i.ble_command.mf_get_thridtagNonces,l),e.next=8,i.sendBLEDataWaitAsync(n,d);case 8:return f=e.sent,e.abrupt("return",i.recvCallback(f,i.ble_command.mf_get_thridtagNonces,s,o));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a,c){return p.apply(this,arguments)})},{key:"cmdGetMifareNested1NtAsync",value:(b=n(t().mark((function e(n,r,a,c,s,o,i,l,u){var d,f,_,v,m;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(d=this,(f=new Array(11))[0]=r,f[1]=a,_=0;_<6;_++)f[2+_]=c[_];return f[8]=s,f[9]=o,f[10]=i,v=d.packCommand(n,d.ble_command.mf_get_nested_1nt,f),e.next=11,d.sendBLEDataWaitAsync(n,v);case 11:return m=e.sent,e.abrupt("return",d.recvCallback(m,d.ble_command.mf_get_nested_1nt,l,u));case 13:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a,c,s,o,i){return b.apply(this,arguments)})},{key:"cmdGetMifareNestedAsync",value:(h=n(t().mark((function e(n,r,a,c,s,o,i,l,u){var d,f,_,v,m;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(d=this,(f=new Array(11))[0]=r,f[1]=a,_=0;_<6;_++)f[2+_]=c[_];return f[8]=s,f[9]=o,f[10]=i,v=d.packCommand(n,d.ble_command.mf_get_nested,f),e.next=11,d.sendBLEDataWaitAsync(n,v);case 11:return m=e.sent,e.abrupt("return",d.recvCallback(m,d.ble_command.mf_get_nested,l,u));case 13:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a,c,s,o,i){return h.apply(this,arguments)})},{key:"cmdGetMifareHardNestedAsync",value:(m=n(t().mark((function e(n,r,a,c,s,o,i,l,u,d,f,_){var v,m,h,b,p;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(v=this,(m=new Array(14))[0]=r,m[1]=a,h=0;h<6;h++)m[2+h]=c[h];return m[8]=s,m[9]=o,m[10]=i,m[11]=l,m[12]=u,m[13]=d,b=v.packCommand(n,v.ble_command.mf_get_hardnested,m),e.next=14,v.sendBLEDataWaitAsync(n,b);case 14:return p=e.sent,e.abrupt("return",v.recvCallback(p,v.ble_command.mf_get_hardnested,f,_));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a,c,s,o,i,l,u,d){return m.apply(this,arguments)})},{key:"cmdSetHFTagDataAsync",value:(v=n(t().mark((function e(n,r,a,c,o,i,l){var u,d,f,_,v,m,h,b;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u=this,d=new Array(19).fill(0),f=0;f<a;f++)d[f]=r[f];for(d[10]=a,_=(0,s.num_to_bytes)(c),v=(0,s.num_to_bytes)(o),m=0;m<4;m++)d[11+m]=_[m],d[15+m]=v[m];return h=u.packCommand(n,u.ble_command.mf_setTagData,d),e.next=10,u.sendBLEDataWaitAsync(n,h);case 10:return b=e.sent,e.abrupt("return",u.recvCallback(b,u.ble_command.mf_setTagData,i,l));case 12:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a,c,s){return v.apply(this,arguments)})},{key:"cmdGetHFTagDataAsync",value:(_=n(t().mark((function e(n,r,a,c,s,o){var i,l,u,d,f;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=this,l=new Array(12).fill(0),u=0;u<a;u++)l[u]=r[u];return l[10]=a,l[11]=c,d=i.packCommand(n,i.ble_command.mf_getTagData,l),e.next=8,i.sendBLEDataWaitAsync(n,d);case 8:return f=e.sent,e.abrupt("return",i.recvCallback(f,i.ble_command.mf_getTagData,s,o));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a,c){return _.apply(this,arguments)})},{key:"cmdWriteData2TagAsync",value:(f=n(t().mark((function e(n,r,a,c,s,o,i){var l,u,d,f,_,v;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l=this,u=new Array(16).fill(0),d=0;d<a;d++)u[d]=r[d];for(u[10]=a,f=0;f<4;f++)u[11+f]=c[f];return u[15]=s,_=l.packCommand(n,l.ble_command.mf_write2Tag,u),e.next=9,l.sendBLEDataWaitAsync(n,_);case 9:return v=e.sent,e.abrupt("return",l.recvCallback(v,l.ble_command.mf_write2Tag,o,i));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a,c,s){return f.apply(this,arguments)})},{key:"cmdDetectionTagAsync",value:(d=n(t().mark((function e(n,r,a,c,s,o,i,l,u,d){var f,_,v,m,h,b,p;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(f=this,(_=new Array(22).fill(0))[0]=s,v=0;v<a;v++)_[v+1]=r[v];for(_[11]=a,m=0;m<4;m++)_[12+m]=c[m];if(_[16]=o,_[17]=i,l.length>=4)for(h=0;h<4;h++)_[18+h]=l[h];return b=f.packCommand(n,f.ble_command.mf_detectionTag,_),e.next=12,f.sendBLEDataWaitAsync(n,b);case 12:return p=e.sent,e.abrupt("return",f.recvCallback(p,f.ble_command.mf_detectionTag,u,d));case 14:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a,c,s,o,i,l){return d.apply(this,arguments)})},{key:"cmdSimulateTagAsync",value:(u=n(t().mark((function e(n,r,a,c,s,o){var i,l,u,d,f,_;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=this,l=new Array(15).fill(0),u=0;u<a;u++)l[u]=r[u];for(l[10]=a,d=0;d<4;d++)l[11+d]=c[d];return f=i.packCommand(n,i.ble_command.mf_simulateTag,l),e.next=8,i.sendBLEDataWaitAsync(n,f);case 8:return _=e.sent,e.abrupt("return",i.recvCallback(_,i.ble_command.mf_simulateTag,s,o));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a,c){return u.apply(this,arguments)})},{key:"cmdSetDataAsync",value:(l=n(t().mark((function e(n,r,a,c,o,i){var l,u,d,f,_,v,m,h,b,p,k,y,g,B,L;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=this,u={ans:-1},!((d=a.length)>0)){e.next=38;break}f=Math.floor((d+127)/128),_=0,v=0;case 7:if(!(v<f)){e.next=37;break}if(!c.stop){e.next=12;break}return console.log("终止下载"),u.ans=l.ble_error.data_cancel,e.abrupt("break",37);case 12:return m=d-_>128?128:d-_,h=a.slice(_,_+m),b=new Array(6),p=(0,s.num_to_bytes)(_),b[0]=r,b[1]=p[0],b[2]=p[1],b[3]=p[2],b[4]=p[3],b[5]=m,k=b.concat(h),y=l.packCommand(n,l.ble_command.set_data,k),e.next=26,l.sendBLEDataWaitAsync(n,y);case 26:if(g=e.sent,0==(B=l.recvCallback(g,l.ble_command.set_data,void 0,i)).ans){e.next=32;break}return u.ans=l.ble_error.data_set_error,console.log("下发失败",B),e.abrupt("break",37);case 32:_+=m,"function"==typeof o&&(L=Math.floor(100*_/d),o({ans:0,progress:L}));case 34:v++,e.next=7;break;case 37:_>=d&&(u.ans=0);case 38:return e.abrupt("return",u);case 39:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a,c){return l.apply(this,arguments)})},{key:"cmdGetDataAsync",value:(c=n(t().mark((function n(r,a,c,o,i,l,u){var d,f,_,v,m,h,b,p,k,y,g,B,L;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d=this,f={ans:-1,data:[]},!((_=c)>0)){t.next=40;break}v=0,m=0,h=[];case 7:if(!d.BLE.connectedDevices[r].connectStatus){t.next=40;break}if(!i.stop){t.next=12;break}return console.log("终止读取"),f.ans=d.ble_error.data_cancel,t.abrupt("break",40);case 12:return b=_-v>128?128:_-v,p=new Array(6),k=(0,s.num_to_bytes)(v),p[0]=a,p[1]=k[0],p[2]=k[1],p[3]=k[2],p[4]=k[3],p[5]=b,y=d.packCommand(r,d.ble_command.get_data,p),t.next=24,d.sendBLEDataWaitAsync(r,y);case 24:if(g=t.sent,0==(B=d.recvCallback(g,d.ble_command.get_data,void 0,u)).ans){t.next=30;break}return console.log("读取失败",B),f.ans=d.ble_error.data_get_error,t.abrupt("break",40);case 30:if(m+=d.getDataCheckSum(B.data.data),v+=B.data.dataLength,h.push.apply(h,e(B.data.data)),"function"==typeof l&&(L=Math.floor(100*v/_),l({ans:0,progress:L})),!(v>=_)){t.next=38;break}return f.data=h,o===m?f.ans=0:(f.ans=2,console.log("读取完成,校验失败")),t.abrupt("break",40);case 38:t.next=7;break;case 40:return t.abrupt("return",f);case 41:case"end":return t.stop()}}),n,this)}))),function(e,t,n,r,a,s,o){return c.apply(this,arguments)})}]);var c,l,u,d,f,_,v,m,h,b,p,k,y,g,B,L,E,C,D,w,x,A,I,S,T,M,W,U,N,O,F}();
},{isPage:false,isComponent:false,currentFile:'utils/bluetooth_util.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("utils/cardUtil.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cardUtil=void 0;var r=require("../@babel/runtime/helpers/toConsumableArray"),e=require("../@babel/runtime/helpers/classCallCheck"),t=require("../@babel/runtime/helpers/createClass"),a=require("./util"),i=require("./aes_util");require("./AES.js"),exports.cardUtil=function(){return t((function r(){e(this,r),this.card_type={MF:1,id:2,ULEV1:3,Other:4},this.UL_TYPES_ARRAY=[0,1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,4194304,8388608,16777216,33554432,67108864,134217728,270532608,538968064,1075838976,2147483648,2097153,2097154],this.UL_MEMORY_ARRAY=[15,15,47,19,40,41,41,19,40,44,134,230,15,255,37,37,15,233,233,233,233,15,44,230,19,10,44,44,15,15,230,19,15,47]}),[{key:"isPrime",value:function(r){var e=0;if(r<2)return 0;for(e=2;e<r;e++)if(r%e==0)return 0;return 1}},{key:"Encyrpt",value:function(r,e,t){var a=new Array(e),i=0,s=0,n=0;for(i=0;i<e;i++)1==this.isPrime(i)?(s=r[i]>>4&7,n=(7&r[i])<<4,a[i]=136&r[i]|s|n,a[i]^=t[i%10]):i%2==0?(s=(1&r[i])<<1|(4&r[i])<<1|(16&r[i])<<1|(64&r[i])<<1,n=(2&r[i])>>1|(8&r[i])>>1|(32&r[i])>>1|(128&r[i])>>1,a[i]=s|n,a[i]^=t[i%10]):(s=(1&r[i])<<4|(4&r[i])<<3|(16&r[i])<<2|(64&r[i])<<1,n=(2&r[i])>>1|(8&r[i])>>2|(32&r[i])>>3|(128&r[i])>>4,a[i]=s|n,a[i]^=t[i%10]);for(i=1;i<e;i++)a[i]^=a[i-1];return a}},{key:"blockToSector",value:function(r){return Math.trunc(r>128?32+(r-128)/16:r/4)}},{key:"sectorToFirstBlock",value:function(r){return r<=32?4*r:128+16*(r-32)}},{key:"numberOfBlocks",value:function(r){return r<32?4:16}},{key:"trailer_block",value:function(r){return r<128?(r+1)%4==0:(r+1)%16==0}},{key:"data2HexData",value:function(r){var e=[];if("string"==typeof r){var t=(0,i.Base64Decode)(r);(0,a.stringIsEmpty)(t)||(e=(0,a.string2Hex)(t))}return e}},{key:"isRightMFTagData",value:function(r){var e=r.length;if(e>64&&e%16==0){var t=Math.trunc(e/16);return this.trailer_block(t-1)}return!1}},{key:"isRightULEV1TagData",value:function(r){if(r.length>74&&(r.length-74)%4==0){var e=new Array(4);e[0]=r[70],e[1]=r[71],e[2]=r[72],e[3]=r[73];var t=e[0]|e[1]<<8|e[2]<<16|e[3]<<24;return(r.length-74)/4===t||r.length-74==4096}return!1}},{key:"isMFTagDataEmpty",value:function(r){var e=r.concat();if(e.length>0&&this.isRightMFTagData(e)){var t=new Array(16).fill(0),a=new Array(16).fill(255);a[6]=255,a[7]=7,a[8]=128,a[9]=105;for(var i=e.length/16,s=1;s<i;s++){var n=e.slice(16*s,16*s+16),l=t;if(this.trailer_block(s)&&(l=a),JSON.stringify(n)!=JSON.stringify(l))return!1}}return!0}},{key:"GetIDType",value:function(r){var e="";return-1!==r.indexOf("NSC")?e="NSC":-1!==r.indexOf("ID")&&-1===r.indexOf("HID")?e="ID":-1!==r.indexOf("HID")?e="HID":-1!==r.indexOf("SID64")?e="SID64":-1!==r.indexOf("SID5O")?e="SID5O":-1!==r.indexOf("SID40")?e="SID40":-1!==r.indexOf("SID32")?e="SID32":-1!==r.indexOf("GID64")?e="GID64":-1!==r.indexOf("GID5O")?e="GID5O":-1!==r.indexOf("GID40")?e="GID40":-1!==r.indexOf("GID32")&&(e="GID32"),e}},{key:"GetIDFreq",value:function(r){var e="";return-1!==r.indexOf("13.56MHz")?e="13.56MHz":-1!==r.indexOf("125KHz")?e="125KHz":-1!==r.indexOf("175KHz")?e="175KHz":-1!==r.indexOf("250KHz")?e="250KHz":-1!==r.indexOf("300KHz")?e="300KHz":-1!==r.indexOf("375KHz")?e="375KHz":-1!==r.indexOf("500KHz")&&(e="500KHz"),e}},{key:"GetTxtData",value:function(e){for(var t=-1,i="",s=[],n=[],l=0,o=e.replace(/\r/g,"\n");;){var f=o.indexOf("\n",l),c=f;f<0&&(c=o.length);var h=o.substring(l,c);if((0,a.stringIsEmpty)(h)||n.push(h),(l=c+1)>=o.length)break}var v=!1;if(3===n.length){var g=new Array(57).fill(0),y=n[0],u=n[1],p=n[2],d=this.GetIDType(y),b=this.GetIDFreq(u),m=(0,a.string2Hex)(p);if(!(0,a.stringIsEmpty)(d)&&!(0,a.stringIsEmpty)(b)&&m.length>0){for(var _=(0,a.string2byte)(d),A=(0,a.string2byte)(b),T=0;T<A.length;T++)g[T]=A[T];for(var k=0;k<_.length;k++)g[k+12]=_[k];g[24]=m.length;for(var N=0;N<m.length;N++)g[N+25]=m[N];t=this.card_type.id,s=g,i=(0,a.hex2string)(g,57),i+="_"+(0,a.hex2string)(m,m.length)+"_"+b+"_"+d,v=!0}}if(!v){for(var I=!1,D=[],F=0;F<n.length;F++){var U=(0,a.string2Hex)(n[F]);16===U.length&&D.push.apply(D,r(U))}if(D.length>0&&this.isRightMFTagData(D)&&(t=this.card_type.MF,s=D,i=(0,a.hex2string)(D,16),I=!0),!I&&n.length>5){var x=(0,a.string2Hex)(n[0]),C=(0,a.string2Hex)(n[1]),E=(0,a.string2Hex)(n[2]),M=(0,a.string2Hex)(n[3]),S=(0,a.string2Hex)(n[4]);if(4===x.length&&3===E.length&&32===M.length){x[0],x[1];for(var R=x[2]|x[3]<<8,H=[],L=5;L<n.length;L++){var G=(0,a.string2Hex)(n[L]);4===G.length&&H.push.apply(H,r(G))}if(H.length===4*R){var O=new Array(74);O.fill(0);for(var w=C.slice(C.length-4),K=0;K<4;K++)O[K]=w[K];O[4]=E[0],O[5]=E[1],O[6]=E[2];for(var z=0;z<C.length;z++)O[7+z]=C[z];O[18]=C.length,O[19]=S[0];var B=O[19];B=B>16?16:B;for(var V=0;V<B;V++)O[20+V]=S[V+1];var q=M.length;q=q>32?32:q;for(var P=0;P<q;P++)O[36+P]=M[P];O[68]=x[0],O[69]=x[1],O[70]=x[2],O[71]=x[3],t=this.card_type.ULEV1,s=O.concat(H),i=(0,a.hex2string)(O,36)}}}}return{card_type:t,card_info:i,card_buffer:s}}},{key:"SetEmptyMFTagDataBySectors",value:function(e,t,a,i,s){var n=[],l=new Array(16).fill(0),o=new Array(16).fill(255);o[6]=255,o[7]=7,o[8]=128,o[9]=105;for(var f=e.length,c=new Array(16).fill(0),h=0;h<f;h++)c[h]=e[h];4===f&&(c[4]=c[0]^c[1]^c[2]^c[3],f=5),c[f]=a,c[f+1]=t[0],c[f+2]=t[1];for(var v=i.length,g=0;g<v&&g<16-f-3;g++)c[f+3+g]=i[g];for(var y=0;y<s;y++)for(var u=this.numberOfBlocks(y),p=0;p<u;p++)p+1===u?n.push.apply(n,r(o)):0===y&&0===p?n.push.apply(n,r(c)):n.push.apply(n,r(l));return n}},{key:"SetEmptyMFTagData",value:function(e){var t=[],a=e.concat();if(a.length>0&&this.isRightMFTagData(a)){var i=new Array(16).fill(0),s=new Array(16).fill(255);s[6]=255,s[7]=7,s[8]=128,s[9]=105,t=a.slice(0,16);for(var n=a.length/16,l=1;l<n;l++){var o,f=i;this.trailer_block(l)&&(f=s),(o=t).push.apply(o,r(f))}}return t}},{key:"GetMFTagDataKeys",value:function(r){var e=[],t=r.concat();if(t.length>0&&this.isRightMFTagData(t))for(var a=t.length/16,i=0;i<a;i++){if(this.trailer_block(i))for(var s=0;s<2;s++){for(var n=new Array(6),l=0===s?0:10,o=0;o<6;o++)n[o]=t[16*i+o+l];this.AddKey2Lib(e,n,-1)}}return e}},{key:"MFTagDataEncrypt",value:function(r){var e=r.concat();if(e.length>0&&this.isRightMFTagData(e)){var t=new Array(21,133,146,129,41,5),a=new Array(6);a[0]=e[0],a[1]=e[1],a[2]=e[2],a[3]=e[3],a[4]=e[4];for(var i=e.length/16,s=0;s<i;s++){if(this.trailer_block(s)){a[5]=this.blockToSector(s);for(var n=0;n<2;n++){for(var l=0;l<6;l++)a[l]^=96+n;for(var o=this.Encyrpt(a,6,t),f=!0,c=0===n?0:10,h=0;h<6;h++){var v=e[16*s+h+c];if(0!=v&&255!=v){f=!1;break}}if(f)for(var g=0;g<6;g++)e[16*s+g+c]=o[g]}}}return e}return null}},{key:"getMFTagDataEncryptKeys",value:function(r,e,t){var a=[],i=new Array(21,133,146,129,41,5),s=new Array(6);r.length>=4&&e>=4&&(s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3]),r.length>=7&&e>4?s[4]=r[4]:s[4]=r[0]^r[1]^r[2]^r[3];for(var n=0;n<t;n++){s[5]=n;for(var l=0;l<2;l++){for(var o=0;o<6;o++)s[o]^=96+l;var f=this.Encyrpt(s,6,i);a.push(f)}}return a}},{key:"getIDCardInfo",value:function(r,e,t,i){var s,n,l,o={uid:[],size:0,type:"",freq:"",type_ascii:[],freq_ascii:[]},f=(0,a.hex2string)(t,i);s=(0,a.byte2string)(r),n="UID:"+f+"  FREQ:"+(0,a.byte2string)(e);for(var c=0,h=i,v=0;v<h&&!(v>=3);v++)c|=t[h-v-1]<<8*v;return l=f+" ("+("0000000000"+c.toString()).slice(-10)+")",o.uid=t,o.size=i,o.type=s,o.freq=(0,a.byte2string)(e),o.type_ascii=r,o.freq_ascii=e,{Type:s,CardInfo:n,CardID:l,Data:o}}},{key:"getULEV1Info",value:function(r,e,t,i,s,n){var l,o,f,c={uid:[],size:0,ATQA:[],sak:0},h=this.get_ulev1_version(s,n);l=this.get_ulev1_type(h),e=e<=0||e>10?10:e;var v=(0,a.hex2string)(r,e);return o="UID:"+v+"  ATQA:"+(0,a.hex2string)(t,2,!0)+"  SAK:"+(0,a.hex2string)(i,1),f=v,c.uid=r,c.size=e,c.ATQA=t,c.sak=i[0],{Type:l,CardInfo:o,CardID:f,Data:c}}},{key:"getMFInfo",value:function(r,e,t,i){var s,n,l,o={uid:[],size:0,ATQA:[],sak:0};s=this.get_mifare_type(t[1]<<8|t[0],i[0]);var f=(0,a.hex2string)(r,e);return n="UID:"+f+"  ATQA:"+(0,a.hex2string)(t,2,!0)+"  SAK:"+(0,a.hex2string)(i,1),l=f,o.uid=r,o.size=e,o.ATQA=t,o.sak=i[0],{Type:s,CardInfo:n,CardID:l,Data:o}}},{key:"getCardInfo",value:function(r,e,t){var i="",s="",n="",l={uid:[],size:0,ATQA:[],sak:0,type:"",freq:"",type_ascii:[],freq_ascii:[]},o=(0,a.string2Hex)(e);if(r===this.card_type.id){for(var f=new Array(12),c=new Array(12),h=new Array(32),v=0;v<12;v++)f[v]=o[v];for(var g=0;g<12;g++)c[g]=o[12+g];var y=o[24];y=y<=0||y>32?32:y;for(var u=0;u<y;u++)h[u]=o[25+u];for(var p=(0,a.hex2string)(h,y),d=0,b=y,m=0;m<b&&!(m>=3);m++)d|=h[b-m-1]<<8*m;i=(0,a.byte2string)(c),s="UID:"+p+"  FREQ:"+(0,a.byte2string)(f),n=p+" ("+("0000000000"+d.toString()).slice(-10)+")",l.uid=h,l.size=y,l.type=i,l.freq=(0,a.byte2string)(f),l.type_ascii=c,l.freq_ascii=f}else if(r===this.card_type.ULEV1){for(var _=new Array(2),A=new Array(10),T=new Array(1),k=0,N=new Array(16),I=0;I<2;I++)_[I]=o[4+I];T[0]=o[6];for(var D=0;D<10;D++)A[D]=o[7+D];var F=o[18];k=(k=o[19])>16?16:k;for(var U=0;U<k;U++)N[U]=o[20+U];var x=this.get_ulev1_version(k,N);i=this.get_ulev1_type(x),F=F<=0||F>10?10:F;var C=(0,a.hex2string)(A,F);s="UID:"+C+"  ATQA:"+(0,a.hex2string)(_,2,!0)+"  SAK:"+(0,a.hex2string)(T,1),n=C,l.uid=A,l.size=F,l.ATQA=_,l.sak=T[0]}else if(r===this.card_type.MF){if(null!=t)for(var E=0;E<16;E++)o[E]=t[E];var M=new Array(2),S=new Array(1),R=this.get_mifare_uid_size(o),H=R<=0||R>10?10:R;if(4==R){for(var L=0;L<2;L++)M[L]=o[R+2+L];S[0]=o[R+1]}else{for(var G=0;G<2;G++)M[G]=o[R+1+G];S[0]=o[R]}i=this.get_mifare_type(M[1]<<8|M[0],S[0]);var O=(0,a.hex2string)(o,H);s="UID:"+O+"  ATQA:"+(0,a.hex2string)(M,2,!0)+"  SAK:"+(0,a.hex2string)(S,1),n=O,l.uid=o.slice(0,H),l.size=H,l.ATQA=M,l.sak=S[0]}return{Type:i,CardInfo:s,CardID:n,Data:l}}},{key:"getCardDataComp",value:function(r,e,t){var i="",s="",n=[],l=0;if(r===this.card_type.id);else{var o=null!=e?e:[],f=null!=t?t:[];if(r===this.card_type.ULEV1){var c=0;if(this.isRightULEV1TagData(o)){var h=new Array(4);h[0]=o[70],h[1]=o[71],h[2]=o[72],h[3]=o[73],c=h[0]|h[1]<<8|h[2]<<16|h[3]<<24;for(var v=new Array(10),g=0;g<10;g++)v[g]=o[7+g];var y=o[18];y=y<=0||y>10?10:y,i="UID:"+(0,a.hex2string)(v,y)}var u=0;if(this.isRightULEV1TagData(f)){var p=new Array(4);p[0]=f[70],p[1]=f[71],p[2]=f[72],p[3]=f[73],u=p[0]|p[1]<<8|p[2]<<16|p[3]<<24;for(var d=new Array(10),b=0;b<10;b++)d[b]=f[7+b];var m=f[18];m=m<=0||m>10?10:m,s="UID:"+(0,a.hex2string)(d,m)}for(var _={name:"",list:[]},A=c>u?c:u,T=0;T<A;T++){for(var k={id:0,html_data:"",html_cmpdata:"",block:""},N="",I="<div style='color: #0052d9;'>",D=0;D<4;D++){var F=-1,U=-1,x=!0;c>T&&(F=o[74+4*T+D]),u>T&&(U=f[74+4*T+D]),F>=0&&U>=0&&F!=U&&(x=!1);var C="";c>T?(C=("00"+F.toString(16)).slice(-2).toUpperCase(),x||(C="<span style='color: rgb(255, 0, 0);'>"+C+"</span>")):C="-",N+=C+(D<3?" ":"");var E="";u>T?(E=("00"+U.toString(16)).slice(-2).toUpperCase(),x||(E="<span style='color: rgb(255, 0, 0);'>"+E+"</span>")):E="-",I+=E+(D<3?" ":""),x||l++}I+="</div>",k.id=T,k.html_data=N,k.html_cmpdata=I,k.block=T+"块",_.list.push(k)}n.push(_)}else{var M=0;if(this.isRightMFTagData(o)){var S=o.length/16;M=this.blockToSector(S);var R=this.get_mifare_uid_size(o),H=R<=0||R>10?10:R;i="UID:"+(0,a.hex2string)(o,H)}var L=0;if(this.isRightMFTagData(f)){var G=f.length/16;L=this.blockToSector(G);var O=this.get_mifare_uid_size(f),w=O<=0||O>10?10:O;s="UID:"+(0,a.hex2string)(f,w)}for(var K=M>L?M:L,z=0;z<K;z++){for(var B={name:z+"扇区",list:[]},V=this.numberOfBlocks(z),q=0;q<V;q++){for(var P={id:0,html_data:"",html_cmpdata:"",block:""},Q="",W="<div style='color: #0052d9;'>",J=this.sectorToFirstBlock(z),Y=0;Y<16;Y++){var j=-1,X=-1,Z=!0;M>z&&(j=o[16*(J+q)+Y]),L>z&&(X=f[16*(J+q)+Y]),j>=0&&X>=0&&j!=X&&(Z=!1);var $="";M>z?($=("00"+j.toString(16)).slice(-2).toUpperCase(),Z||($="<span style='color: rgb(255, 0, 0);'>"+$+"</span>")):$="-",Q+=$+(Y<15?" ":"");var rr="";L>z?(rr=("00"+X.toString(16)).slice(-2).toUpperCase(),Z||(rr="<span style='color: rgb(255, 0, 0);'>"+rr+"</span>")):rr="-",W+=rr+(Y<15?" ":""),Z||l++}W+="</div>",P.id=J+q,P.html_data=Q,P.html_cmpdata=W,P.block=q+"区块",B.list.push(P)}n.push(B)}}}return{UID:i,CMP_UID:s,Data:n,Result:l}}},{key:"getCardDataLine",value:function(r,e){var t="",i=[],s=e;if(r===this.card_type.id){for(var n=new Array(12),l=new Array(12),o=new Array(32),f=0;f<12;f++)n[f]=s[f];for(var c=0;c<12;c++)l[c]=s[12+c];var h=s[24];h=h<=0||h>32?32:h;for(var v=0;v<h;v++)o[v]=s[25+v];var g={name:"",list:[]};t=(0,a.hex2string)(o,h);var y=(0,a.byte2string)(l)+"\r\n"+(0,a.byte2string)(n)+"\r\n"+t,u={id:0,is_edit:!1,data:[],hex_data:y,cursor:0,html_data:y};g.list.push(u),i.push(g)}else if(r===this.card_type.ULEV1){if(this.isRightULEV1TagData(s)){for(var p={name:"",list:[]},d=new Array(2),b=new Array(10),m=new Array(1),_=0;_<2;_++)d[_]=s[4+_];m[0]=s[6];for(var A=0;A<10;A++)b[A]=s[7+A];var T=s[18];t=(0,a.hex2string)(b,T);var k=new Array(4);k[0]=s[70],k[1]=s[71],k[2]=s[72],k[3]=s[73];for(var N=k[0]|k[1]<<8|k[2]<<16|k[3]<<24,I=0;I<N;I++){for(var D={id:0,is_edit:!1,data:[],hex_data:"",html_data:""},F="",U=0;U<4;U++){var x=s[74+4*I+U];F+=("00"+x.toString(16)).slice(-2).toUpperCase()+(U<3?" ":""),D.data.push(x)}D.id=I,D.hex_data=F,D.html_data=("0000"+I.toString()).slice(-4)+"(0x"+("00"+I.toString(16)).slice(-2).toUpperCase()+") "+F,p.list.push(D)}i.push(p)}}else if(this.isRightMFTagData(s)){var C=s.length/16,E=this.blockToSector(C),M=this.get_mifare_uid_size(s),S=M<=0||M>10?10:M;t=(0,a.hex2string)(s,S);for(var R=0;R<E;R++){for(var H={name:R+"扇区",list:[]},L=this.numberOfBlocks(R),G=0;G<L;G++){0===R&&0===G&&4===M&&(s[4]=s[0]^s[1]^s[2]^s[3]);for(var O={id:0,is_edit:!1,data:[],hex_data:"",html_data:""},w="",K=this.sectorToFirstBlock(R),z=0;z<16;z++){var B=s[16*(K+G)+z];w+=("00"+B.toString(16)).slice(-2).toUpperCase()+(z<15?" ":""),O.data.push(B)}O.id=K+G,O.hex_data=w,O.html_data=w,H.list.push(O)}i.push(H)}}return{UID:t,Data:i}}},{key:"getCardData",value:function(r,e,t){var a=0,i="<div class='html-data-text'><code>";if(r===this.card_type.id);else{var s=e;if(s.length>0)if(r===this.card_type.ULEV1)if(this.isRightULEV1TagData(s)){var n=new Array(4);n[0]=s[70],n[1]=s[71],n[2]=s[72],n[3]=s[73];for(var l=n[0]|n[1]<<8|n[2]<<16|n[3]<<24,o=void 0===t?-1:t.length,f=void 0===t?-1:Math.trunc((o-74)/4),c=0;c<l;c++){var h=!1;c<f&&(h=!0),i+=("0000"+c.toString()).slice(-4)+"(0x"+("00"+c.toString(16)).slice(-2).toUpperCase()+") ";for(var v="",g=0;g<4;g++)if(s.length>74+4*c+g){var y=!0,u=s[74+4*c+g];if(h)y=t[74+4*c+g]==u;var p=("00"+u.toString(16)).slice(-2).toUpperCase()+(g<3?" ":"");y||(p="<span style='color: rgb(255, 0, 0);'>"+p+"</span>"),v+=p}i+=v+"<br/>",a++}}else i+="<span style='color: rgb(255, 0, 0);'>数据长度/格式错误</span>",console.log("数据长度/格式错误");else if(r===this.card_type.MF)if(this.isRightMFTagData(s)){4===this.get_mifare_uid_size(s)&&(s[4]=s[0]^s[1]^s[2]^s[3]);for(var d=-1,b=void 0===t?-1:t.length,m=void 0===t?-1:Math.trunc(b/16),_=s.length,A=Math.trunc(_/16),T=0;T<A;T++){var k=!1;T<m&&(k=!0);var N=this.blockToSector(T);N!=d&&(i+=(T>0?"<br/>":"")+"<B>"+(d=N)+"扇区</B>",i+="<br/>");for(var I=this.trailer_block(T),D="",F=!0,U=0;U<16;U++){var x=!0,C=s[16*T+U];if(0!=C&&(F=!1),k)x=t[16*T+U]==C;var E=("00"+C.toString(16)).slice(-2).toUpperCase();x||(E=I&&U>=6&&U<=9?"<span style='color: rgb(255, 120, 120);'>"+E+"</span>":"<span style='color: rgb(255, 0, 0);'>"+E+"</span>"),I&&(6===U?E="<i style='color: #32CD32;'>"+E:9===U&&(E+="</i>")),D+=E+(U<15?" ":"")}F&&(D="<span style='color: rgb(120, 120, 120,0.9);'>"+D+"</span>"),i+=D+"<br/>",a++}}else i+="<span style='color: rgb(255, 0, 0);'>数据长度/格式错误</span>",console.log("数据长度/格式错误")}return{str_data:i+="</code></div><br/>",Block:a}}},{key:"getReadCardKeys",value:function(r,e){var t=0,a=0,i="<div class='html-data-text'><code>";if(r===this.card_type.id);else if(r===this.card_type.ULEV1);else if(r===this.card_type.MF)for(var s=e.data.num_sectors,n=0;n<s;n++){var l=[];n<e.data.data.length&&(l=e.data.data[n]),i+=(n>0?"<br/>":"")+"<B>"+n+"扇区</B>",i+="<br/>";for(var o="",f=0;f<2;f++){if(o="密码"+(0===f?"A":"B")+":",l.keys&&l.keys[f]&&l.keys[f].length>=6){for(var c=0;c<6;c++){o+=("00"+l.keys[f][c].toString(16)).slice(-2).toUpperCase()+(c<15?" ":"")}o="<span style='color: rgb(0, 240, 0);'>"+o+"</span>",t++}else o="<span style='color: rgb(240, 0, 0);'>"+(o+="未知")+"</span>";i+=o+"<br/>",a++}}return{str_data:i+="</code></div><br/>",Total:a,Success:t}}},{key:"getReadCardData",value:function(r,e,t){var a=0,i=0,s="<div class='html-data-text'><code>";if(r===this.card_type.id);else{var n=e;if(n.length>0)if(r===this.card_type.ULEV1)if(this.isRightULEV1TagData(n)){var l=new Array(4);l[0]=n[70],l[1]=n[71],l[2]=n[72],l[3]=n[73];for(var o=l[0]|l[1]<<8|l[2]<<16|l[3]<<24,f=0;f<o;f++){for(var c=("0000"+f.toString()).slice(-4)+"(0x"+("00"+f.toString(16)).slice(-2).toUpperCase()+") ",h=0;h<4;h++){if(n.length>74+4*f+h)c+=("00"+n[74+4*f+h].toString(16)).slice(-2).toUpperCase()+(h<3?" ":"")}s+=(c="<span style='color: rgb(0, 240, 0);'>"+c+"</span>")+"<br/>",i++,a++}}else a=0,s+="<span style='color: rgb(255, 0, 0);'>数据未获取完整。请重新获取</span>";else if(r===this.card_type.MF)if(this.isRightMFTagData(n)){4===this.get_mifare_uid_size(n)&&(n[4]=n[0]^n[1]^n[2]^n[3]);for(var v=n.length,g=Math.trunc(v/16),y=this.blockToSector(g),u=0;u<y;u++){var p=[];u<t.data.data.length&&(p=t.data.data[u]),s+=(u>0?"<br/>":"")+"<B>"+u+"扇区</B>",s+="<br/>";for(var d=this.numberOfBlocks(u),b=0;b<d;b++){var m=this.sectorToFirstBlock(u)+b,_=this.trailer_block(m),A="",T=!1;p.data&&p.data[b]&&p.data[b].length>0&&(T=!0);for(var k=!0,N=0;N<16;N++){var I=("00"+n[16*m+N].toString(16)).slice(-2).toUpperCase();_&&(p.foundKey[0]||(0===N?I="<i style='color: rgb(120, 0, 0);'>"+I:5===N&&(I+="</i>"),k=!1),6===N?I=T?"<i style='color: #32CD32;'>"+I:"<i style='color: rgb(120, 0, 0);'>"+I:9===N&&(I+="</i>"),p.foundKey[1]||(10===N?I="<i style='color: rgb(120, 0, 0);'>"+I:15===N&&(I+="</i>"),k=!1)),A+=I+(N<15?" ":"")}s+=(A=T?t.isMagicTags?"<span style='color: rgb(40, 40, 40);'>"+A+"</span>":"<span style='color: rgb(0, 240, 0);'>"+A+"</span>":"<span style='color:  rgb(240, 0, 0);'>"+A+"</span>")+"<br/>",T&&k&&a++,i++}}}else a=0,s+="<span style='color: rgb(255, 0, 0);'>数据未获取完整。请重新获取</span>"}return{str_data:s+="</code></div><br/>",Total:i,Success:a}}},{key:"getWriteCardData",value:function(r,e,t){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=0,s=0,n="<div class='html-data-text'><code>";if(r===this.card_type.id);else if(r===this.card_type.Other)s=0,i=0;else{var l=e;if(l.length>0)if(r===this.card_type.ULEV1){if(l.length>74){var o=new Array(4);o[0]=l[70],o[1]=l[71],o[2]=l[72],o[3]=l[73];for(var f=o[0]|o[1]<<8|o[2]<<16|o[3]<<24,c=0;c<f;c++){var h=!1,v="",g=Math.floor(c/8),y=c%8;if(g<t.B.length){var u=t.B[g],p=u>>7-y&1;1===p&&(h=!0)}v+=h?"✓":"•",v+=("0000"+c.toString()).slice(-4)+"(0x"+("00"+c.toString(16)).slice(-2).toUpperCase()+") ";for(var d=0;d<4;d++)if(l.length>74+4*c+d){var b=l[74+4*c+d];v+=("00"+b.toString(16)).slice(-2).toUpperCase()+(d<3?" ":"")}n+=(v=h?"<span style='color: rgb(0, 240, 0);'>"+v+"</span>":"<span style='color:  rgb(240, 0, 0);'>"+v+"</span>")+"<br/>",i++,h&&s++}}}else if(r===this.card_type.MF){var m=this.get_mifare_uid_size(l);4===m&&(l[4]=l[0]^l[1]^l[2]^l[3]);for(var _="扇区",A=l.length,T=Math.trunc(A/16),k=this.blockToSector(T),N=0;N<k;N++){n+=(N>0?"<br/>":"")+"<B>"+N+_+"</B>",n+="<br/>";for(var I=this.numberOfBlocks(N),D=0;D<I;D++)if(!a||0!==N||0!==D){var F=this.sectorToFirstBlock(N)+D,U=this.trailer_block(F),x="",C=!1,E=Math.floor(F/8),M=F%8;if(E<t.B.length){var S=t.B[E],R=S>>7-M&1;1===R&&(C=!0)}x+=C?"✓":"•";for(var H=0;H<16;H++){var L=l[16*F+H],G=("00"+L.toString(16)).slice(-2).toUpperCase();U&&(6===H?G=C?"<i style='color: #32CD32;'>"+G:"<i style='color: rgb(120, 0, 0);'>"+G:9===H&&(G+="</i>")),x+=G+(H<15?" ":"")}n+=(x=C?"<span style='color: rgb(0, 240, 0);'>"+x+"</span>":"<span style='color:  rgb(240, 0, 0);'>"+x+"</span>")+"<br/>",i++,C&&s++}}}}return{str_data:n+="</code></div><br/>",Total:i,Success:s}}},{key:"get_ulev1_version",value:function(r,e){var t=0;switch(r){case 10:if(0==(0,a.memcmp)(e,[0,4,3,1,1,0,11],7)){t=4;break}if(0==(0,a.memcmp)(e,[0,4,3,1,2,0,11],7)){t=33554432;break}if(0==(0,a.memcmp)(e,[0,4,3,2,1,0,11],7)){t=4;break}if(0==(0,a.memcmp)(e,[0,4,3,1,1,0,14],7)){t=8;break}if(0==(0,a.memcmp)(e,[0,4,3,2,1,0,14],7)){t=8;break}if(0==(0,a.memcmp)(e,[0,52,33,1,1,0,14],7)){t=8;break}if(0==(0,a.memcmp)(e,[0,4,4,1,1,0,11],7)){t=64;break}if(0==(0,a.memcmp)(e,[0,4,4,1,2,0,11],7)){t=2147483648;break}if(0==(0,a.memcmp)(e,[0,4,4,1,1,0,14],7)){t=128;break}if(0==(0,a.memcmp)(e,[0,4,4,2,1,0,15],7)){t=256;break}if(0==(0,a.memcmp)(e,[0,83,4,2,1,0,15],7)){t=256;break}if(0==(0,a.memcmp)(e,[0,4,4,2,1,1,15],7)){t=134217728;break}if(0==(0,a.memcmp)(e,[0,4,4,2,1,0,17],7)){t=512;break}if(0==(0,a.memcmp)(e,[0,4,4,2,1,0,19],7)){t=1024;break}if(0==(0,a.memcmp)(e,[0,4,4,4,1,0,15],7)){t=4194304;break}if(0==(0,a.memcmp)(e,[0,4,4,4,1,0,19],7)){t=8388608;break}if(0==(0,a.memcmp)(e,[0,4,4,2,3,0,15],7)){t=67108864;break}if(0==(0,a.memcmp)(e,[0,4,4,5,2,1,19],7)){t=65536;break}if(0==(0,a.memcmp)(e,[0,4,4,5,2,1,21],7)){t=131072;break}if(0==(0,a.memcmp)(e,[0,4,4,5,2,2,19],7)){t=262144;break}if(0==(0,a.memcmp)(e,[0,4,4,5,2,2,21],7)){t=524288;break}if(4==e[2]){t=16;break}3==e[2]&&(t=16777216);break;case 1:t=2;break;case 0:t=1;break;case-1:t=35;break;default:t=0}return t}},{key:"get_ulev1_copytag",value:function(r){return 0!=(1&r)?"MIFARE Ultralight (MF0ICU1)":0!=(2&r)?"MIFARE Ultralight C (MF0ULC)":0!=(33554432&r)?"MIFARE Ultralight Nano 40bytes (MF0UNH00)":0!=(4&r)?"UL11":0!=(8&r)?"MIFARE Ultralight EV1 128bytes (MF0UL2101)":0!=(16777216&r)?"MIFARE Ultralight EV1 UNKNOWN":0!=(16&r)?"NTAG UNKNOWN":0!=(32&r)?"NTAG 203 144bytes (NT2H0301F0DT)":0!=(2147483648&r)?"NTAG 210u (micro) 48bytes (NT2L1001G0DU)":0!=(64&r)?"NTAG 210 48bytes (NT2L1011G0DU)":0!=(128&r)?"NTAG 212 128bytes (NT2L1211G0DU)":0!=(256&r)?"N213":0!=(4194304&r)?"NTAG 213F 144bytes (NT2H1311F0DTL)":0!=(134217728&r)?"NTAG 213C 144bytes (NT2H1311C1DTL)":0!=(67108864&r)?"NTAG 213TT 144bytes (NT2H1311TTDU)":0!=(512&r)?"N215":0!=(1024&r)?"N216":0!=(8388608&r)?"NTAG 216F 888bytes (NT2H1611F0DTL)":0!=(65536&r)?"NTAG I2C 888bytes (NT3H1101FHK)":0!=(131072&r)?"NTAG I2C 1904bytes (NT3H1201FHK)":0!=(262144&r)?"NTAG I2C plus 888bytes (NT3H2111FHK)":0!=(524288&r)?"NTAG I2C plus 1912bytes (NT3H2211FHK)":0!=(2048&r)?"INFINEON my-d (SLE 66RxxS)":0!=(4096&r)?"INFINEON my-d NFC (SLE 66RxxP)":0!=(8192&r)?"INFINEON my-d move (SLE 66R01P)":0!=(16384&r)?"INFINEON my-d move NFC (SLE 66R01P)":0!=(32768&r)?"INFINEON my-d move lean (SLE 66R01L)":0!=(1048576&r)?"FUDAN Ultralight Compatible (or other compatible)":"Unknown"}},{key:"get_ulev1_type",value:function(r){return 0!=(1&r)?"MIFARE Ultralight (MF0ICU1)":0!=(2&r)?"MIFARE Ultralight C (MF0ULC)":0!=(33554432&r)?"MIFARE Ultralight Nano 40bytes (MF0UNH00)":0!=(4&r)?"MIFARE Ultralight EV1 48bytes (MF0UL1101)":0!=(8&r)?"MIFARE Ultralight EV1 128bytes (MF0UL2101)":0!=(16777216&r)?"MIFARE Ultralight EV1 UNKNOWN":0!=(16&r)?"NTAG UNKNOWN":0!=(32&r)?"NTAG 203 144bytes (NT2H0301F0DT)":0!=(2147483648&r)?"NTAG 210u (micro) 48bytes (NT2L1001G0DU)":0!=(64&r)?"NTAG 210 48bytes (NT2L1011G0DU)":0!=(128&r)?"NTAG 212 128bytes (NT2L1211G0DU)":0!=(256&r)?"NTAG 213 144bytes (NT2H1311G0DU)":0!=(4194304&r)?"NTAG 213F 144bytes (NT2H1311F0DTL)":0!=(134217728&r)?"NTAG 213C 144bytes (NT2H1311C1DTL)":0!=(67108864&r)?"NTAG 213TT 144bytes (NT2H1311TTDU)":0!=(512&r)?"NTAG 215 504bytes (NT2H1511G0DU)":0!=(1024&r)?"NTAG 216 888bytes (NT2H1611G0DU)":0!=(8388608&r)?"NTAG 216F 888bytes (NT2H1611F0DTL)":0!=(65536&r)?"NTAG I2C 888bytes (NT3H1101FHK)":0!=(131072&r)?"NTAG I2C 1904bytes (NT3H1201FHK)":0!=(262144&r)?"NTAG I2C plus 888bytes (NT3H2111FHK)":0!=(524288&r)?"NTAG I2C plus 1912bytes (NT3H2211FHK)":0!=(2048&r)?"INFINEON my-d (SLE 66RxxS)":0!=(4096&r)?"INFINEON my-d NFC (SLE 66RxxP)":0!=(8192&r)?"INFINEON my-d move (SLE 66R01P)":0!=(16384&r)?"INFINEON my-d move NFC (SLE 66R01P)":0!=(32768&r)?"INFINEON my-d move lean (SLE 66R01L)":0!=(1048576&r)?"FUDAN Ultralight Compatible (or other compatible)":"Unknown"}},{key:"get_mifare_uid_size",value:function(r){for(var e=Array(2),t=0;t<2;t++)e[t]=r[6+t];var a=16*e[1]+e[0],i=this.get_mifare_uid_size_by_atqa(a),s=!1;if((4==i||0==i)&&r[4]==(r[0]^r[1]^r[2]^r[3]))return 4;4==i&&(s=!0);for(var n=Array(2),l=0;l<2;l++)n[l]=r[8+l];if(a=16*n[1]+n[0],7==(i=this.get_mifare_uid_size_by_atqa(a)))return 7;for(var o=Array(2),f=0;f<2;f++)o[f]=r[11+f];return a=16*o[1]+o[0],10==(i=this.get_mifare_uid_size_by_atqa(a))?10:s?4:10}},{key:"get_mifare_uid_size_by_atqa",value:function(r){return 0!=(31&r)&&0==(192&r)?4:0!=(31&r)&&64==(192&r)?7:0!=(31&r)&&128==(192&r)?10:0}},{key:"get_mifare_type",value:function(r,e){var t,a,i;return t=1&e,e>>2&1,a=e>>4&1,i=e>>5&1,e>>6&1,e>>7&1,1==(e>>1&1)?"RFU":1==(e>>3&1)?1==a?1==t?"MIFARE Classic 2K":1==i?"SmartMX with MIFARE Classic 4K":64==(192&r)?"MIFARE Classic 4K CL2":"MIFARE Classic 4K":1==t?"MIFARE Mini":1==i?"SmartMX with MIFARE Classic 1K":64==(192&r)?"MIFARE Classic 1K CL2":3==r?"SM7":"MIFARE Classic 1K":1==a?1==t?"MIFARE Plus 4K in SL2":"MIFARE Plus 2K in SL2":1==t?"TagNPlay":1==i?8==(31&r)?"CPU":"Other 14443-4":"MIFARE UltraLight/NTAG"}},{key:"cpukModel",value:function(r,e,t){var a=new Array(6),i=new Array(8);r[0]<=85?(i[3]=67,i[6]=165):r[0]<=170?(i[3]=123,i[6]=194):(i[3]=45,i[6]=182),i[0]=e,i[1]=t,i[2]=r[0],i[3]+=r[3],i[3]&=255,i[4]=r[1],i[5]=r[2],i[6]+=r[0],i[6]&=255,i[7]=r[3],i[2]^=52,i[4]^=210;for(var s=5;s>0;s--){var n=128&i[2];i[2]=i[2]<<1&255;var l=128&i[3];i[3]=i[3]<<1&255,n>>=7,i[3]=i[3]|n,n=128&i[4],i[4]=i[4]<<1&255,l>>=7,i[4]=i[4]|l,n>>=7,i[2]=i[2]|n}i[5]=i[5]>>4|i[5]<<4&255;var o=i[5];i[5]=15&i[7]|240&o,i[7]=240&i[7]|15&o;for(var f=3;f>0;f--){var c=1&i[5];i[5]=i[5]>>1;var h=1&i[6];i[6]=i[6]>>1,c=c<<7&255,i[6]=i[6]|c,c=1&i[7],i[7]=i[7]>>1,h=h<<7&255,i[7]|=h,c=c<<7&255,i[5]|=c}for(i[5]^=22,i[7]^=104,o=i[5],i[5]=15&i[3]|240&o,i[3]=240&i[3]|15&o,i[4]=255&(i[4]>>4|i[4]<<4),o=i[4],i[4]=15&i[6]|240&o,i[6]=240&i[6]|15&o,i[2]=167&i[2],i[7]=76|i[7],i[7]--,o=0;o<6;o++)a[o]=i[o+2];return a}},{key:"getCpukIIIBase",value:function(r){return this.cpukModel(r,97,7)}},{key:"getCpukIIIKeys",value:function(r,e,t){for(var a=[],i=this.getCpukIIIBase(r),s=0;s<t;s++)for(var n=0;n<2;n++){for(var l=new Array(6),o=0;o<6;o++)l[o]=i[o];l[5]+=s,l[5]&=255,a.push(l)}return a}},{key:"AddKey2Lib",value:function(r,e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=!1,i=0;i<r.length;i++)if(JSON.stringify(e)===JSON.stringify(r[i])){a=!0;break}return a||(0===t?r.unshift(e):r.push(e)),r}}])}();
},{isPage:false,isComponent:false,currentFile:'utils/cardUtil.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("utils/deviceUtil.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deviceUtil=void 0;var e=require("../@babel/runtime/helpers/toConsumableArray"),a=require("../@babel/runtime/helpers/regeneratorRuntime"),t=require("../@babel/runtime/helpers/asyncToGenerator"),s=require("../@babel/runtime/helpers/classCallCheck"),n=require("../@babel/runtime/helpers/createClass"),r=require("./util"),c=require("./cardUtil"),o=require("./fileUtil"),d=require("./aes_util"),i=getApp();exports.deviceUtil=function(){return n((function e(){s(this,e),this.NR_TRAILERS_1k=16,this.NR_TRAILERS_4k=40,this._RC4_Key=[21,133,146,129,41,80,103,135],this.device_model={copykey_mini_pro:24833,copykey_mini_plus:24834,copykey_mini_se:24835,copykey_mini_std:24836},this.decode_control={readonly:0,readonly_fast:16,readonly_auth:32,decode:1,format:2},this.decode_message={decode_success:0,readonly_success:1,format_success:2,writecard_success:3,simulate_success:4,detection_success:5,other_hf_tag:6,data_sync_success:7,decode_no_has_all_keys:17,no_read_all_data:18,decode_no_has_keys:19,start:160,test_reading_ID:161,test_readed_ID:417,test_reading_ULEV1:162,test_readed_ULEV1:418,test_reading_MF:163,test_readed_MF:419,test_mf_decoding:164,test_mf_key:165,test_mf_read:166,test_mf_format:167,test_set_data:168,test_write_tag:169,test_temp_keylist:170,write_data_err:176,err_writecard:177,err_simulate:178,is_C50:192,is_thirdTag:193,test_mf_C50:194,test_mf_darkside:195,test_mf_nested:196,is_MagicTags:197,test_mf_thrid_nonce:198,test_mf_static_nonce:199,dt_gotoDetect:208,dt_wait:209,dt_putinTag:210,dt_tagChange:211,dt_countKey:212,dt_authKey:213,dt_readDeviceTag:214,dt_neste:215,dt_getNestedKey:216,dt_testKeys:217,dt_getAllKeys:218,dt_noSupportDetectNested:219,dt_nothirdcard:222,dt_error:223,card_read_err:224,card_uid_change:225,set_data_err:226,format_no_mf:227,no_card_read:228,no_all_decode:229,no_mf_card:230,no_ULEV1_card:231,cancel:238,end:255},this.decode_key_color={no_control:"#C0C0C0",decoding:"#0288DD55",get:"#00B26A",no_found:"#C42828",doing:"#005894"},this.decode_read_color={no_control:"#C6C6C6",doing:"#005A90",get:"#00C260",no_read:"#C52020",formating:"#005A9022",format_succ:"#218DF9",format_fail:"#FFBA23"},this.stop_decoding={stop:!1,state:0},this.ByteMirror=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255]}),[{key:"mirror",value:function(e){return this.ByteMirror[e]}},{key:"pn53x_wrap_frame",value:function(e,a,t){var s=new Array(225).fill(0),n=0,r=0,c=0,o=0,d=a,i=0;if(0==d)return{pbtFrame:s,szFrameBits:i};if(d<9)return{pbtFrame:s=e,szFrameBits:i=a};i=a+a/8;for(var u=0;;){for(n=0,c=0;c<8;c++){n|=(r=this.mirror(e[o]))>>c;var l=this.mirror(255&n);s[u]=l,n=r<<8-c,n|=(1&t[o])<<7-c,u++;var f=this.mirror(255&n);if(s[u]=f,o++,d<9)return{pbtFrame:s,szFrameBits:i};d-=8}u++}}},{key:"pn53x_unwrap_frame",value:function(e,a){var t=new Array(225).fill(0),s=new Array(225).fill(0),n=0,r=0,c=0,o=0,d=0,i=e,u=a,l=0;if(0==u)return{pbtRx:t,pbtRxPar:s,szRxBits:l};if(u<9)return{pbtRx:t=e,pbtRxPar:s,szRxBits:l=a};for(l=a-a/9;;){for(c=0;c<8;c++){if(r=(n=this.mirror(i[d]))<<c,r|=(n=this.mirror(i[d+1]))>>8-c,t[o]=this.mirror(255&r),s[o]=n>>7-c&1,o++,d++,u<9)return{pbtRx:t,pbtRxPar:s,szRxBits:l};u-=9}d++}}},{key:"hex2MCUUID",value:function(e){var a="";if(e&&e.length>=12){for(var t=new Array(4),s=new Array(4),n=new Array(4),c=0;c<4;c++)t[c]=e[c],s[c]=e[4+c],n[c]=e[8+c];a=(0,r.hex2string)(t,4)+"-"+(0,r.hex2string)(s,4)+"-"+(0,r.hex2string)(n,4)}return a}},{key:"is_has_all_password",value:function(e){for(var a=0;a<e.num_sectors;a++)for(var t=0;t<2;t++)if(null===e.data[a]||null===e.data[a].foundKey||!e.data[a].foundKey[t])return!1;return!0}},{key:"find_exploit_sector",value:function(e){if(this.is_has_all_password(e))return-1;for(var a=0;a<e.num_sectors;a++)for(var t=0;t<2;t++)if(null!=e.data[a]&&null!=e.data[a].foundKey&&e.data[a].foundKey[t])return a;return-2}},{key:"GetDeviceDate",value:function(e){var a=0;return e&&e.length>=6&&(a=256*e[5]+e[4]),a}},{key:"GetDeviceTEID",value:function(e){var a=0;return e&&e.length>=6&&(a=256*e[0]+e[1]),a}},{key:"GetDeviceModeName",value:function(e){var a="";if(e&&e.length>=6)switch(256*e[0]+e[1]){case this.device_model.copykey_mini_pro:a="CopyKEY MINI Pro";break;case this.device_model.copykey_mini_plus:a="CopyKEY MINI Plus";break;case this.device_model.copykey_mini_se:a="CopyKEY MINI SE";break;case this.device_model.copykey_mini_std:a="CopyKEY MINI";break;default:a="Unknown"}return a}},{key:"GetVersionString",value:function(e){if(e&&e.length>=6){var a=e[2],t=e[3],s=256*e[5]+e[4],n=s>>9&127,r=s>>5&15,c=31&s;return("00"+a.toString(16)).slice(-2)+"."+("00"+t.toString(16)).slice(-2)+"."+("00"+n.toString(10)).slice(-2)+("00"+r.toString(10)).slice(-2)+("00"+c.toString(10)).slice(-2)}return""}},{key:"GetDeviceVersion",value:function(e){var a="";e&&e.length>=6&&(a="PID:"+("00"+e[0].toString(16)).slice(-2)+("00"+e[1].toString(16)).slice(-2)+"  "+("VER:"+this.GetVersionString(e)));return a}},{key:"DeviceUpdateAsync",value:(de=t(a().mark((function e(t,s,n,r){var c,o,d,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c={ans:-1},e.prev=1,!(s&&s.length>0)){e.next=15;break}return o=i.globalData.data.bluetooth.getDataCheckSum(s),e.next=6,i.globalData.data.bluetooth.cmdSetDeviceUpdateDataAsync(t,s.length,o,r);case 6:if(0!==(d=e.sent).ans){e.next=14;break}return e.next=10,i.globalData.data.bluetooth.cmdSetDataAsync(t,d.data,s,n,r);case 10:0===(u=e.sent).ans?(l=function(e){0!=e.ans&&"function"==typeof r&&r({ans:238})},"function"==typeof r&&r({ans:1,progress:100}),i.globalData.data.bluetooth.cmdDeviceRestartAsync(t,0,l),c.ans=0):c.ans=u.ans,e.next=15;break;case 14:c.ans=d.ans;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),c.ans=e.t0;case 20:return e.abrupt("return",c);case 21:case"end":return e.stop()}}),e,null,[[1,17]])}))),function(e,a,t,s){return de.apply(this,arguments)})},{key:"SelectMifareCardAsync",value:(oe=t(a().mark((function e(t,s,n){var r,c,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={ans:-1,data:{}},c=0;case 2:if(!(c<1)){e.next=17;break}return e.next=5,i.globalData.data.bluetooth.cmdSelectMifareCardAsync(t,s,n);case 5:if(0!==(o=e.sent).ans){e.next=10;break}return e.abrupt("return",o);case 10:if(o.ans!==i.globalData.data.bluetooth.ble_ans.err_uid_change){e.next=12;break}throw this.decode_message.card_uid_change;case 12:r.ans=o.ans,r.data=o.data;case 14:c++,e.next=2;break;case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,this)}))),function(e,a,t){return oe.apply(this,arguments)})},{key:"ReadMifareCardAsync",value:(ce=t(a().mark((function e(t,s){var n,r,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,r={ans:-1,data:{}},e.prev=2,n.SetDecoding(t,!0),e.next=6,n.SelectMifareCardAsync(t,null,void 0);case 6:if(0!==(c=e.sent).ans){e.next=14;break}return e.next=10,n.TestHideSectorsAsync(t,c.data,void 0);case 10:if(!(c.data.num_sectors<=0)){e.next=13;break}throw console.log("非IC卡"),n.decode_message.no_mf_card;case 13:r=c;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),r.ans=e.t0;case 19:return n.SetDecoded(),e.abrupt("return",r);case 21:case"end":return e.stop()}}),e,this,[[2,16]])}))),function(e,a){return ce.apply(this,arguments)})},{key:"TestULEV1Async",value:(re=t(a().mark((function t(s,n,r,o){var d,u,l,f,k,y,_,b,p,h,x,g,m,v,A,D,w,T,S,M,U,I,K,F,C,H;return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return d=this,u=n.data,l=new c.cardUtil,f={ans:-1,data:{signature:[],verlength:0,version:[],num_blocks:0,data:[]}},k={data:{type:l.card_type.ULEV1,control:0,data:u,verlength:0,version:[],progress:0}},a.next=7,d.SelectMifareCardAsync(s,u.UID,void 0);case 7:if(0!==a.sent.ans){a.next=109;break}return a.next=11,d.MifareTransmissionShortAsync(s,60,0);case 11:if(!(0===(y=a.sent).ans&&y.data.length>32)){a.next=16;break}f.data.signature=y.data.data.slice(0,32),a.next=21;break;case 16:return a.next=18,d.SelectMifareCardAsync(s,u.UID,void 0);case 18:if(0==a.sent.ans){a.next=21;break}throw d.decode_message.card_read_err;case 21:return _=[96],a.next=24,i.globalData.data.bluetooth.cmdTransmissionDataAsync(s,0,5,_,null);case 24:if(0!==(b=a.sent).ans){a.next=72;break}k.data.control=0,k.data.verlength=b.data.length,k.data.version=b.data.data,d.SendMessage(d.decode_message.test_readed_ULEV1,k,o),p=b.data.length,f.data.verlength=p,f.data.version=b.data.data,h=l.get_ulev1_version(p,f.data.version),x=0,g=0;case 36:if(!(g<l.UL_TYPES_ARRAY.length)){a.next=43;break}if(!(h&l.UL_TYPES_ARRAY[g])){a.next=40;break}return x=l.UL_MEMORY_ARRAY[g],a.abrupt("break",43);case 40:g++,a.next=36;break;case 43:if(f.data.num_blocks=x+1,!r){a.next=69;break}m=0,v=0;case 47:if(!(v<f.data.num_blocks)){a.next=69;break}if(!d.IsStop(s)){a.next=50;break}throw d.decode_message.cancel;case 50:return a.next=52,d.MifareTransmissionShortAsync(s,48,v);case 52:if(!(0===(A=a.sent).ans&&A.data.length>=16)){a.next=58;break}w=A.data.data.slice(0,4),(D=f.data.data).push.apply(D,e(w)),a.next=64;break;case 58:return a.next=60,d.SelectMifareCardAsync(s,u.UID,void 0);case 60:if(0==a.sent.ans){a.next=63;break}throw this.decode_message.card_read_err;case 63:return a.abrupt("break",69);case 64:T=Math.floor(100*(v+1)/f.data.num_blocks),m!=T&&(m=T,k.data.control=1,k.data.progress=m,d.SendMessage(d.decode_message.test_readed_ULEV1,k,o));case 66:v++,a.next=47;break;case 69:f.ans=0,a.next=107;break;case 72:return a.next=74,d.SelectMifareCardAsync(s,u.UID,void 0);case 74:if(0==a.sent.ans){a.next=77;break}throw this.decode_message.card_read_err;case 77:S=0,M=256,U=0;case 80:if(!(U<M)){a.next=106;break}if(!d.IsStop(s)){a.next=83;break}throw d.decode_message.cancel;case 83:return a.next=85,d.MifareTransmissionShortAsync(s,48,U);case 85:if(!(0===(I=a.sent).ans&&I.data.length>=16)){a.next=93;break}console.log(I.data),S++,F=I.data.data.slice(0,4),(K=f.data.data).push.apply(K,e(F)),a.next=99;break;case 93:return a.next=95,d.SelectMifareCardAsync(s,u.UID,void 0);case 95:if(0==a.sent.ans){a.next=98;break}throw this.decode_message.card_read_err;case 98:return a.abrupt("break",106);case 99:C=4*S,k.data.control=3,k.data.progress=C,d.SendMessage(d.decode_message.test_readed_ULEV1,k,o);case 103:U++,a.next=80;break;case 106:S>=15&&(f.ans=0,f.data.num_blocks=S,f.data.verlength=10,(H=new Array(10)).fill(0),H[0]=0,H[1]=0,H[2]=0,H[3]=0,H[4]=0,H[5]=0,H[6]=0,H[7]=3,f.data.version=H,console.log(f));case 107:a.next=110;break;case 109:throw this.decode_message.card_read_err;case 110:return a.abrupt("return",f);case 111:case"end":return a.stop()}}),t,this)}))),function(e,a,t,s){return re.apply(this,arguments)})},{key:"SetNdefULEV1TagAsync",value:(ne=t(a().mark((function e(t,s,n,r){var c,o,d,u,l,f,k,y,_;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=this,o={ans:-1,data:{}},d=s.data,e.next=5,c.SelectMifareCardAsync(t,d.UID,void 0);case 5:if(0!==e.sent.ans){e.next=32;break}if(u=0,l=Math.ceil(n.length/4),!(d.data.num_blocks-5>=l)){e.next=31;break}(f=new Array(6))[0]=162,k=4;case 13:if(!(k<4+l)){e.next=24;break}for(y=n.slice(4*(k-4),4*(k-4)+4),f[1]=k,_=0;_<4;_++)f[2+_]=y[_];return e.next=19,i.globalData.data.bluetooth.cmdTransmissionDataAsync(t,0,5,f,null);case 19:0===e.sent.ans&&u++;case 21:k++,e.next=13;break;case 24:if(u!==l){e.next=28;break}o.ans=c.decode_message.writecard_success,e.next=29;break;case 28:throw c.decode_message.err_writecard;case 29:e.next=32;break;case 31:throw c.decode_message.err_writecard;case 32:return e.abrupt("return",o);case 33:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s){return ne.apply(this,arguments)})},{key:"SetNdefMifareTagAsync",value:(se=t(a().mark((function t(s,n,r,o){var d,u,l,f,k,y,_,b,p,h,x,g,m,v,A,D,w,T,S;return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return d=this,u=new c.cardUtil,l={ans:-1,data:{}},f=n.data,a.next=6,d.SelectMifareCardAsync(s,f.UID,void 0);case 6:if(0!==a.sent.ans){a.next=62;break}return k=[255,255,255,255,255,255,0,0,0,0,0,0,160,161,162,163,164,165],a.next=11,d.MifareAuthBatchAsync(s,0,0,k,!0,o);case 11:if(0!==a.sent.ans){a.next=61;break}return a.next=15,i.globalData.data.bluetooth.cmdMifareReadBlockAsync(s,0,null);case 15:if(0!==(y=a.sent).ans){a.next=58;break}for(_=function(e){},(b=[]).push.apply(b,e(y.data)),b.push.apply(b,[20,1,3,225,3,225,3,225,3,225,3,225,3,225,3,225]),b.push.apply(b,[3,225,3,225,3,225,3,225,3,225,3,225,3,225,3,225]),b.push.apply(b,[160,161,162,163,164,165,120,119,136,193,255,255,255,255,255,255]),p=new Array(16).fill(0),(h=new Array(16).fill(255))[0]=211,h[1]=247,h[2]=211,h[3]=247,h[4]=211,h[5]=247,h[6]=127,h[7]=7,h[8]=136,h[9]=64,x=0,g=f.num_sectors,m=1;m<g;m++)for(v=u.numberOfBlocks(m),A=0;A<v;A++)if(A+1===v)b.push.apply(b,e(h));else if(D=new Array(16).fill(0),x<r.length){for(w=0;w<16&&x<r.length;w++)D[w]=r[x++];b.push.apply(b,e(D))}else b.push.apply(b,e(p));return a.next=40,d.SendHFTagDataAsync(s,n,b,0,_);case 40:if(0!==(T=a.sent).ans){a.next=55;break}return console.log(n.data.UID,n.data.size),a.next=45,i.globalData.data.bluetooth.cmdWriteData2TagAsync(s,n.data.UID,n.data.size,T.hash,0,null);case 45:if(S=a.sent,console.log("写卡完成",S),0!==S.ans){a.next=52;break}l.ans=d.decode_message.writecard_success,l.data=S.data,a.next=53;break;case 52:throw d.decode_message.err_writecard;case 53:a.next=56;break;case 55:throw d.decode_message.err_writecard;case 56:a.next=59;break;case 58:throw d.decode_message.err_writecard;case 59:a.next=62;break;case 61:throw d.decode_message.err_writecard;case 62:return a.abrupt("return",l);case 63:case"end":return a.stop()}}),t,this)}))),function(e,a,t,s){return se.apply(this,arguments)})},{key:"TestHideSectorsAsync",value:(te=t(a().mark((function e(t,s,n){var r,o,d,u,l,f,k,y,_,b,p,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this,o={data:{mf:s,sector:-1}},d=new c.cardUtil,u=r.NR_TRAILERS_4k,l=0,f=0,k=0;case 7:if(!(k<u)){e.next=38;break}if(!r.IsStop(t)){e.next=10;break}throw r.decode_message.cancel;case 10:return y=d.sectorToFirstBlock(k)+d.numberOfBlocks(k)-1,e.next=13,i.globalData.data.bluetooth.cmdGetTagNonces(t,y,0,0,0===k?0:1,void 0);case 13:if(0===e.sent.ans){e.next=31;break}return e.next=17,r.SelectMifareCardAsync(t,s.UID,void 0);case 17:if(0==e.sent.ans){e.next=20;break}throw this.decode_message.card_read_err;case 20:if(!(++f>3)){e.next=29;break}return e.next=24,r.MifareTransmissionShortAsync(t,96,y);case 24:if(0==(_=e.sent).ans&&4==_.data.length){e.next=27;break}return e.abrupt("break",38);case 27:e.next=31;break;case 29:return k--,e.abrupt("continue",35);case 31:f=0,l++,o.data.sector=k,r.SendMessage(r.decode_message.test_readed_MF,o,n);case 35:k++,e.next=7;break;case 38:if(s.num_sectors=l,l>0)for(s.data=new Array(l),b=0;b<l;b++)p=d.numberOfBlocks(b),h={sector:b,foundKey:[!1,!1],keys:new Array(2),data:new Array(p)},s.data[b]=h;return e.abrupt("return",s);case 41:case"end":return e.stop()}}),e,this)}))),function(e,a,t){return te.apply(this,arguments)})},{key:"MifareTransmissionShortAsync",value:(ae=t(a().mark((function e(t,s,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Array(2))[0]=s,r[1]=n,e.next=7,i.globalData.data.bluetooth.cmdTransmissionDataAsync(t,0,5,r,null);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)}))),function(e,a,t){return ae.apply(this,arguments)})},{key:"MifareTransmissionBitAsync",value:(ee=t(a().mark((function e(t,s,n){var r,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Array(1))[0]=s[0],c=n,e.next=6,i.globalData.data.bluetooth.cmdTransmissionDataAsync(t,c,4,r,null);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),function(e,a,t){return ee.apply(this,arguments)})},{key:"TransmissionDataAsync",value:($=t(a().mark((function e(t,s,n,r,c,o){var d,u,l,f,k,y,_,b,p,h,x;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d={ans:-1,data:{data:[],parity:[],sizeBits:0}},u=this.pn53x_wrap_frame(s,n,r),!((l=u.szFrameBits)>0)){e.next=12;break}return k=l/8+(0==(f=l%8)?0:1),y=u.pbtFrame.slice(0,k),e.next=9,i.globalData.data.bluetooth.cmdTransmissionDataAsync(t,f,c,y,null);case 9:_=e.sent,d.ans=_.ans,0===_.ans&&(b=_.data.length,p=_.data.frame,l=8*(b-(0==(f=7&p)?0:1))+f,h=this.pn53x_unwrap_frame(_.data.data,l),d.data.sizeBits=h.szRxBits,h.szRxBits>0&&(x=Math.ceil(h.szRxBits/8),d.data.data=h.pbtRx.slice(0,x),d.data.parity=h.pbtRxPar.slice(0,x)));case 12:return e.abrupt("return",d);case 13:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s,n,r){return $.apply(this,arguments)})},{key:"GetMifareHardNestedAsync",value:(Z=t(a().mark((function e(t,s,n,r,c,o,d,u,l,f,k){var y,_;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y={ans:-1,data:[]},e.next=3,i.globalData.data.bluetooth.cmdGetMifareHardNestedAsync(t,s,n,r,c,o,d,u,l,f);case 3:if(0!==(_=e.sent).ans){e.next=8;break}return e.next=7,i.globalData.data.bluetooth.cmdGetDataAsync(t,_.data.taskID,_.data.dataSize,_.data.checkValue,this.stop_decoding,null);case 7:y=e.sent;case 8:return e.abrupt("return",y);case 9:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s,n,r,c,o,d,i,u){return Z.apply(this,arguments)})},{key:"GetMifareDecodeTpyeAsync",value:(X=t(a().mark((function e(t,s,n,c,o,d,u){var l,f,k,y,_,b,p,h,x,g;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=-1,f=0,k=0,y=0,_=0,b=0,p=0;case 7:if(!(p<6)){e.next=15;break}return e.next=10,i.globalData.data.bluetooth.cmdGetMifareNested1NtAsync(t,s,n,c,o,d,p+1,u);case 10:0===(h=e.sent).ans&&(x=(0,r.bytes_to_num)(h.data.nt),g=(0,r.bytes_to_num)(h.data.nt_nested),_!==x?_=x:k++,b!==g?b=g:y++,f++);case 12:p++,e.next=7;break;case 15:if(!(f<=0)){e.next=17;break}return e.abrupt("return",-1);case 17:return l=k<5&&y<5?1:5==k&&0==y?2:5==k&&5==y?3:4,e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),function(e,a,t,s,n,r,c){return X.apply(this,arguments)})},{key:"isThirdTagAsync",value:(j=t(a().mark((function e(t,s,n,r,c,o,d,u,l){var f,k,y,_,b,p,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.globalData.data.bluetooth.cmdGetMifareHardNestedAsync(t,s,n,r,c,o,1,0,d,u,l);case 2:if(!(0===(f=e.sent).ans&&f.data.dataSize>0)){e.next=13;break}return e.next=6,i.globalData.data.bluetooth.cmdGetDataAsync(t,f.data.taskID,f.data.dataSize,f.data.checkValue,this.stop_decoding,null);case 6:if(!(0===(k=e.sent).ans&&k.data.length>0)){e.next=13;break}for(y=!0,_=Math.floor(k.data.length/5),b=0,p=0;p<_;p++)h=k.data.slice(5*p,5*p+5),0===p?b=h:JSON.stringify(b)!=JSON.stringify(h)&&(y=!1);return e.abrupt("return",y?1:0);case 13:return e.abrupt("return",-1);case 14:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s,n,r,c,o,d){return j.apply(this,arguments)})},{key:"GetThirdTagEncryptNoncesAsync",value:(J=t(a().mark((function e(t,s,n,r,c,o,d,u){var l,f,k;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={ans:-1,nonce:[],parity:0},e.next=3,i.globalData.data.bluetooth.cmdGetMifareHardNestedAsync(t,s,n,r,c,o,1,0,0,1,null);case 3:if(!(0===(f=e.sent).ans&&f.data.dataSize>0)){e.next=9;break}return e.next=7,i.globalData.data.bluetooth.cmdGetDataAsync(t,f.data.taskID,f.data.dataSize,f.data.checkValue,this.stop_decoding,null);case 7:0===(k=e.sent).ans&&k.data.length>0&&(l.ans=0,l.nonce=k.data.slice(0,4),l.parity=k.data[4]);case 9:return e.abrupt("return",l);case 10:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s,n,r,c,o){return J.apply(this,arguments)})},{key:"DetectionAuthAsync",value:(W=t(a().mark((function e(t,s,n,o,d,u){var l,f,k,y,_,b;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=new c.cardUtil,f=this,k={ans:-1,data:{}},y=!1;case 4:if(!f.IsStop(t)){e.next=7;break}throw f.decode_message.cancel;case 7:return e.prev=7,e.next=10,f.SelectMifareCardAsync(t,s.data.UID,void 0);case 10:if(0!==e.sent.ans){e.next=28;break}return e.next=14,this.MifareAuthBatchAsync(t,n,o,d,!0,u);case 14:if(0!==(_=e.sent).ans){e.next=24;break}return b=l.blockToSector(n),s.data.data[b].foundKey[o]=!0,s.data.data[b].keys[o]=_.key,e.next=21,f.TestKnowKeysAsync(t,s.data,_.key,u);case 21:y=!0,e.next=25;break;case 24:y=!1;case 25:return e.abrupt("break",46);case 28:k.ans=0,f.SendMessage(f.decode_message.dt_authKey,k,u),console.log("请放上需要侦测的IC卡");case 31:e.next=42;break;case 33:if(e.prev=33,e.t0=e.catch(7),e.t0!==this.decode_message.card_uid_change){e.next=41;break}k.ans=0,f.SendMessage(f.decode_message.dt_tagChange,k,u),console.log("卡片变更，请放上需要侦测的IC卡"),e.next=42;break;case 41:throw e.t0;case 42:return e.next=44,(0,r.sleep)(1e3);case 44:e.next=4;break;case 46:return e.next=48,i.globalData.data.bluetooth.cmdAntennaSwitchAsync(t,0,null);case 48:return e.abrupt("return",y);case 49:case"end":return e.stop()}}),e,this,[[7,33]])}))),function(e,a,t,s,n,r){return W.apply(this,arguments)})},{key:"DetectionReadDeviceTagAsync",value:(Q=t(a().mark((function e(t,s,n,r){var o,d,i,u,l,f,k,y,_,b,p,h,x,g,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this,d=0,i=new c.cardUtil,!s.has){e.next=8;break}return e.next=6,o.GetHFTagDataAsync(t,s.data.UID,s.data.size,2,n,r);case 6:if(0===(u=e.sent).ans)for(l=u.data.slice(32),f=l.length,k=f/16,y=i.blockToSector(k),_=s.data.data.length,y=y>_?_:y,b=0;b<y;b++)if((p=s.data.data[b]).foundKey[0]||p.foundKey[1])for(h=i.sectorToFirstBlock(b),x=i.numberOfBlocks(b),g=0;g<x-1;g++)p.data[g]&&p.data[g].length>0&&(m=l.slice(16*(h+g),16*(h+g)+16),JSON.stringify(m)!=JSON.stringify(p.data[g])&&(p.data[g]=m,d++));case 8:return s.isGDM=d>0,e.abrupt("return",d);case 10:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s){return Q.apply(this,arguments)})},{key:"DefaultTagData",value:function(e,a,t){var s=new c.cardUtil,n={size:e.size,UID:e.uid,ATQA:e.ATQA[0]<<8|e.ATQA[1],SAK:e.sak,num_sectors:e.num_sectors,data:[],card_data:[],card_hash:[]};n.data=new Array(n.num_sectors);for(var r=0;r<n.num_sectors;r++){var o=s.numberOfBlocks(r),d={sector:r,foundKey:[!1,!1],keys:new Array(2),data:new Array(o)};n.data[r]=d}a.has=!0,a.data=n,a.type=s.card_type.MF;for(var i={data:{mf:n,sector:-1}},u=0;u<n.num_sectors;u++)i.data.sector=u,this.SendMessage(this.decode_message.test_readed_MF,i,t);return!0}},{key:"DetectionReadTagAsync",value:(V=t(a().mark((function e(t,s,n,o){var d,u,l,f,k,y,_,b;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=!1,u=new c.cardUtil,f={ans:-1,data:{control:0,data:{}}},(l=this).SendMessage(l.decode_message.test_reading_MF,f,o),k=null,s.has&&(k=s.data.UID);case 7:if(!l.IsStop(t)){e.next=10;break}throw l.decode_message.cancel;case 10:return e.prev=10,e.next=13,l.SelectMifareCardAsync(t,k,void 0);case 13:if(0!==(y=e.sent).ans){e.next=39;break}if(s.has){e.next=25;break}return e.next=18,l.TestHideSectorsAsync(t,y.data,o);case 18:if(!(y.data.num_sectors<=0)){e.next=21;break}throw console.log("非IC卡"),l.decode_message.no_mf_card;case 21:return e.next=23,l.SelectMifareCardAsync(t,y.data.UID,void 0);case 23:if(0===e.sent.ans)for(s.has=!0,s.data=y.data,s.type=u.card_type.MF,s.detection=new Array(s.data.num_sectors),_=0;_<s.data.num_sectors;_++)s.detection[_]=new Array(2);case 25:if(!s.has){e.next=36;break}return e.next=28,l.DoDecodeingMifareAsync(t,s.data,n?l.decode_control.readonly_auth:l.decode_control.readonly_fast,[],[],o);case 28:if((b=e.sent)!==this.decode_message.decode_success&&b!==this.decode_message.is_MagicTags){e.next=34;break}return e.next=32,l.ReadMifareTagAsync(t,s.data,!!n,o);case 32:e.next=35;break;case 34:throw b;case 35:d=!0;case 36:return e.abrupt("break",57);case 39:f.ans=0,l.SendMessage(l.decode_message.dt_putinTag,f,o),console.log("请放上需要侦测的IC卡");case 42:e.next=53;break;case 44:if(e.prev=44,e.t0=e.catch(10),e.t0!==this.decode_message.card_uid_change){e.next=52;break}f.ans=0,l.SendMessage(l.decode_message.dt_tagChange,f,o),console.log("卡片变更，请放上需要侦测的IC卡"),e.next=53;break;case 52:throw e.t0;case 53:return e.next=55,(0,r.sleep)(1e3);case 55:e.next=7;break;case 57:return e.next=59,i.globalData.data.bluetooth.cmdAntennaSwitchAsync(t,0,null);case 59:return e.abrupt("return",d);case 60:case"end":return e.stop()}}),e,this,[[10,44]])}))),function(e,a,t,s){return V.apply(this,arguments)})},{key:"TestNestedAuthexAsync",value:(L=t(a().mark((function e(t,s,n,u,l,f,k){var y,_,b,p,h,x,g,m,v,A,D,w,T,S,M,U,I,K,F,C,H,B,N;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y=new c.cardUtil,_=this,b={ans:-1,data:{}},p=(0,r.getUUID)(),h=0,!((x=_.find_exploit_sector(s.data))>=0)){e.next=134;break}g=y.sectorToFirstBlock(x)+y.numberOfBlocks(x)-1,m=0,v=[],s.data.data[x].foundKey[0]?(m=0,v=s.data.data[x].keys[0]):s.data.data[x].foundKey[1]&&(m=1,v=s.data.data[x].keys[1]);case 11:if(!_.IsStop(t)){e.next=14;break}throw _.decode_message.cancel;case 14:return e.prev=14,e.next=17,_.SelectMifareCardAsync(t,s.data.UID,void 0);case 17:if(0!==e.sent.ans){e.next=116;break}if(b.ans=0,_.SendMessage(_.decode_message.dt_neste,b,k),0!==s.isThridTag){e.next=35;break}return e.next=24,i.globalData.data.bluetooth.cmdGetMifareNestedAsync(t,g,m,v,n,u,1,null);case 24:if(4!==e.sent.ans){e.next=33;break}return e.next=28,_.isThirdTagAsync(t,g,m,v,n,u,1,6,k);case 28:if(1===e.sent){e.next=31;break}throw _.decode_message.dt_nothirdcard;case 31:e.next=34;break;case 33:throw _.decode_message.dt_nothirdcard;case 34:s.isThridTag=1;case 35:if(A=i.globalData.data.bluetooth.GetDeviceInfo(t).version,D=this.GetDeviceTEID(A),_.SupportDetectionNested(D)){e.next=40;break}throw console.log("不支持嵌套认证"),_.decode_message.dt_noSupportDetectNested;case 40:return e.next=42,_.GetThirdTagEncryptNoncesAsync(t,g,m,v,n,u,0,k);case 42:if(0!==(w=e.sent).ans){e.next=111;break}if(T=y.blockToSector(n),!(s.detection[T]&&s.detection[T][u]&&s.detection[T][u].has)){e.next=105;break}return e.next=48,_.TransmissionDataAsync(t,l,64,f,0,k);case 48:if(0!==(S=e.sent).ans){e.next=101;break}return M={taskUuid:p,MCUUID:i.globalData.data.bluetooth.GetDeviceInfo(t).MCUUID,uid:s.data.UID.slice(s.data.UID.length-4),control:0,start:0,end:65535,nt_enc:s.detection[T][u].nonce,nt_parity:s.detection[T][u].parity,nr_ar_enc:l,nr_ar_parity:(0,r.bits2byte)(f),at_enc:S.data.data,at_parity:(0,r.bits2byte)(S.data.parity)},b.ans=0,b.data={control:0,sector:T,type:u,data:0},_.SendMessage(_.decode_message.dt_getNestedKey,b,k),e.next=56,(0,r.requestAsync)("GET","CopyKEY/MifareDetectionNested",M,void 0,15e3);case 56:if(0!==(U=e.sent).code||0!==U.data.nBK){e.next=97;break}case 58:if(!_.IsStop(t)){e.next=63;break}throw M.control=255,(0,r.requestAsync)("GET","CopyKEY/MifareDetectionNested",M),_.decode_message.cancel;case 63:return e.next=65,(0,r.sleep)(3e3);case 65:return M.control=1,e.next=68,(0,r.requestAsync)("GET","CopyKEY/MifareDetectionNested",M,void 0,15e3);case 68:if(I=e.sent,console.log(I.data),0!==I.code||0!==I.data.nBK){e.next=91;break}if(2!==I.data.state){e.next=77;break}b.ans=0,b.data={control:1,sector:T,type:u,data:I.data.progress},_.SendMessage(_.decode_message.dt_getNestedKey,b,k),e.next=91;break;case 77:if(1!==I.data.state){e.next=91;break}if(!(I.data.keyCount>0)){e.next=91;break}return K=(0,d.Base64Decode)(I.data.data),F=(0,r.string2Hex)(K),C={ans:0,data:{uid:s.data.UID,block:n,type:u,keys:F}},_.SendMessage(_.decode_message.dt_testKeys,C,k),console.log("侦测出密钥，请放上卡片验证..",n,u),e.next=86,_.DetectionAuthAsync(t,s,n,u,F,k);case 86:return e.sent?(h=1,H=new o.fileUtil,console.log("密钥验证成功 保存临时文件"),B=(0,r.json2Bytes)(s.data.data),H.writeCardTempFile(s.data.UID,s.data.size,0,B)):(console.log("密钥验证失败"),h=255),M.control=255,(0,r.requestAsync)("GET","CopyKEY/MifareDetectionNested",M),e.abrupt("break",95);case 91:return e.next=93,(0,r.sleep)(3e3);case 93:e.next=58;break;case 95:e.next=99;break;case 97:h=239,console.log("网络异常");case 99:e.next=103;break;case 101:console.log("获取at_enc失败"),h=255;case 103:e.next=109;break;case 105:N={has:1,nonce:w.nonce,parity:w.parity},s.detection[T][u]=N,h=2,console.log("保存嵌套认证获取的at_enc",N);case 109:e.next=113;break;case 111:console.log("获取加密随机数失败"),h=3;case 113:return e.abrupt("break",134);case 116:b.ans=0,_.SendMessage(_.decode_message.dt_authKey,b,k),console.log("请放上需要侦测的IC卡");case 119:e.next=130;break;case 121:if(e.prev=121,e.t0=e.catch(14),e.t0!==this.decode_message.card_uid_change){e.next=129;break}b.ans=0,_.SendMessage(_.decode_message.dt_tagChange,b,k),console.log("卡片变更，请放上需要侦测的IC卡"),e.next=130;break;case 129:throw e.t0;case 130:return e.next=132,(0,r.sleep)(1e3);case 132:e.next=11;break;case 134:return e.next=136,i.globalData.data.bluetooth.cmdAntennaSwitchAsync(t,0,null);case 136:return e.abrupt("return",h);case 137:case"end":return e.stop()}}),e,this,[[14,121]])}))),function(e,a,t,s,n,r,c){return L.apply(this,arguments)})},{key:"TestDetectionTagAsync",value:(Y=t(a().mark((function t(s,n,u,l,f){var k,y,_,b,p,h,x,g,m,v,A,D,w,T,S,M,U,I,K,F,C,H,B,N,E,G,R,z,P,O,q,Y,L,V,Q,W,J,j,X,Z,$;return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:k=this,y=new c.cardUtil,_={ans:-1,data:{}},b=new Array(4).fill(0),p=Array(4).fill(0),h=0,x=0,g=-1,m=2,v=!1,A=0;case 11:if(!k.IsStop(s)){a.next=14;break}throw k.decode_message.cancel;case 14:return m>14&&(m=14),a.next=17,i.globalData.data.bluetooth.cmdDetectionTagAsync(s,n.data.UID,n.data.size,n.hash,x,m,h,p,null);case 17:if(0!==(D=a.sent).ans){a.next=118;break}if(0!==x){a.next=26;break}x=1,console.log("提示去侦测"),_.ans=0,k.SendMessage(k.decode_message.dt_gotoDetect,_,f),a.next=116;break;case 26:w=new Array(n.data.num_sectors),T=0;case 28:if(!(T<D.data.count)){a.next=35;break}if(!k.IsStop(s)){a.next=31;break}throw k.decode_message.cancel;case 31:if(D.data.data.length>=12*T+12&&(S=D.data.data.slice(12*T,12*T+12),M=S[1],U=S[0],I=(128&U)>>7,K=(30&U)>>1,U&=97,(F=y.blockToSector(M))<n.data.num_sectors)){if(C={type:U,nt_parity:K,block:M,data:S.slice(3,11),data_parity:S[11],nt:S[2]},!w[F]||w[F].length<=0)for(w[F]=new Array(2),H=0;H<2;H++)w[F][H]={data:[],nested:I};w[F][96===U?0:1].data.push(C)}case 32:T++,a.next=28;break;case 35:B=0;case 36:if(!(B<w.length)){a.next=111;break}if(!k.IsStop(s)){a.next=39;break}throw k.decode_message.cancel;case 39:N=0;case 40:if(!(N<2)){a.next=108;break}if(!k.IsStop(s)){a.next=43;break}throw k.decode_message.cancel;case 43:if(!(w[B]&&w[B][N]&&w[B][N].data.length>0)){a.next=105;break}if(!n.data.data[B].foundKey[N]){a.next=47;break}return g=1,a.abrupt("break",108);case 47:if(_.ans=0,_.data={sector:B,type:N,control:this.decode_key_color.decoding},k.SendMessage(k.decode_message.dt_countKey,_,f),E=y.sectorToFirstBlock(B)+y.numberOfBlocks(B)-1,G=N,R=[],0!==w[B][N].nested){a.next=73;break}for(z=0;z<w[B][N].data.length;z++)b[3]=w[B][N].data[z].nt,R.push.apply(R,e(b)),R.push.apply(R,e(w[B][N].data[z].data));return P={MCUUID:i.globalData.data.bluetooth.GetDeviceInfo(s).MCUUID,uid:n.data.UID.slice(n.data.UID.length-4),count:w[B][N].data.length,data:R},a.next=58,(0,r.requestAsync)("GET","CopyKEY/MifareDetection",P,void 0,6e4);case 58:if(0!==(O=a.sent).code||0!==O.data.nBK){a.next=71;break}if(!(O.data.keyCount>0)){a.next=71;break}if(q=(0,d.Base64Decode)(O.data.data),Y=(0,r.string2Hex)(q),L={ans:0,data:{uid:n.data.UID,block:E,type:G,keys:Y}},k.SendMessage(k.decode_message.dt_testKeys,L,f),l){a.next=71;break}return console.log("侦测出密钥，请放上卡片验证..",E,G),a.next=69,k.DetectionAuthAsync(s,n,E,G,Y,f);case 69:a.sent&&(g=1,V=new o.fileUtil,console.log("密钥验证成功 保存临时文件"),Q=(0,r.json2Bytes)(n.data.data),V.writeCardTempFile(n.data.UID,n.data.size,0,Q));case 71:a.next=103;break;case 73:W=0;case 74:if(!(W<w[B][N].data.length)){a.next=102;break}return J=w[B][N].data[W].data,j=w[B][N].data[W].data_parity,X=(0,r.byte2bits)(j),a.next=80,k.TestNestedAuthexAsync(s,n,E,G,J,X,f);case 80:if(2!==(Z=a.sent)){a.next=88;break}return p=n.detection[B][N].nonce,h=128|n.detection[B][N].parity,console.log("填充嵌套认证信息",p,h),a.abrupt("break",102);case 88:if(1!==Z){a.next=94;break}return console.log("嵌套获取密钥验证成功"),g=1,a.abrupt("break",102);case 94:if(255!==Z){a.next=97;break}a.next=99;break;case 97:return console.log("嵌套获取密钥其他错误",Z),a.abrupt("break",102);case 99:W++,a.next=74;break;case 102:v=!0;case 103:_.data={sector:-1,control:this.decode_key_color.decoding},k.SendMessage(k.decode_message.dt_countKey,_,f);case 105:N++,a.next=40;break;case 108:B++,a.next=36;break;case 111:if(1!==g){a.next=113;break}return a.abrupt("break",137);case 113:v||m<14&&(m+=2),x=0,console.log("重新开始",m);case 116:a.next=135;break;case 118:if(2!==D.ans){a.next=132;break}if(D.data.writecard,$=32768==(32768&D.data.writecard),A++,_.ans=0,_.data={times:A,count:D.data.count,writecard:D.data.writecard,needAuthorWrite:$&&u.test},k.SendMessage(k.decode_message.dt_wait,_,f),!$||!u.test){a.next=127;break}return a.abrupt("return",2);case 127:return console.log("等待侦测",D.ans,D.data.count,D.data.writecard),a.next=130,(0,r.sleep)(2500);case 130:a.next=135;break;case 132:return console.log("侦测失败",D.ans),a.next=135,(0,r.sleep)(1500);case 135:a.next=11;break;case 137:return a.abrupt("return",g);case 138:case"end":return a.stop()}}),t,this)}))),function(e,a,t,s,n){return Y.apply(this,arguments)})},{key:"DetectionDataSyncAsync",value:(q=t(a().mark((function e(t,s,n){var c,o,d,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=this,o={ans:-1,errCode:0,data:{},write:{}},e.prev=2,o.ans=0,c.SendMessage(c.decode_message.start,o,n),c.SetDecoding(t,!0);case 6:if(!c.IsStop(t)){e.next=9;break}throw c.decode_message.cancel;case 9:return e.prev=9,e.next=12,c.SelectMifareCardAsync(t,s.HF.data.UID,void 0);case 12:if(0!==e.sent.ans){e.next=41;break}return e.next=16,c.DetectionReadDeviceTagAsync(t,s.HF,this.stop_decoding,n);case 16:if(!c.IsStop(t)){e.next=18;break}throw c.decode_message.cancel;case 18:return d=c.GetHFTagData(s.HF,null,n),e.next=21,c.SendHFTagDataAsync(t,s.HF,d,0,n);case 21:if(0!==(u=e.sent).ans){e.next=37;break}return o.ans=0,c.SendMessage(c.decode_message.test_write_tag,o,n),e.next=27,i.globalData.data.bluetooth.cmdWriteData2TagAsync(t,s.HF.data.UID,s.HF.data.size,u.hash,0,null);case 27:if(0!==(l=e.sent).ans){e.next=34;break}o.write=l.data,o.ans=c.decode_message.data_sync_success,o.data=s,e.next=35;break;case 34:throw c.decode_message.err_writecard;case 35:e.next=38;break;case 37:throw c.decode_message.set_data_err;case 38:return e.abrupt("break",60);case 41:o.ans=0,c.SendMessage(c.decode_message.dt_putinTag,o,n),console.log("请放上需要同步的IC卡");case 44:e.next=56;break;case 46:if(e.prev=46,e.t0=e.catch(9),console.log(e.t0),e.t0!==this.decode_message.card_uid_change){e.next=55;break}o.ans=0,c.SendMessage(c.decode_message.dt_tagChange,o,n),console.log("卡片变更，请放上需要侦测的IC卡"),e.next=56;break;case 55:throw e.t0;case 56:return e.next=58,(0,r.sleep)(1e3);case 58:e.next=6;break;case 60:e.next=68;break;case 62:e.prev=62,e.t1=e.catch(2),o.ans=c.decode_message.dt_error,o.errCode=e.t1,o.data=s,console.log("DetectionDataSyncAsync 中断",e.t1);case 68:i.globalData.data.bluetooth.cmdAntennaSwitchAsync(t,0,null),c.SendMessage(c.decode_message.end,o,n),c.SetDecoded();case 71:case"end":return e.stop()}}),e,this,[[2,62],[9,46]])}))),function(e,a,t){return q.apply(this,arguments)})},{key:"DetectionTagAsync",value:(O=t(a().mark((function e(t,s,n,c,o,d,u){var l,f,k,y,_,b,p,h,x,g,m,v=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=this,f={ans:-1,errCode:0,data:{}},k={HF:{has:!1,type:-1,hash:[],data:{},model:-1,detection:[],isThridTag:0,isMagicTags:!1,isGDM:!1},ID:{has:!1,type:-1,data:{}}},e.prev=3,f.ans=0,l.SendMessage(l.decode_message.start,f,u),l.SetDecoding(t,!0),y=!0,_=!0,b=!1,p=!1,h=a().mark((function e(){var s,c,i,h,x,g,m,A,D;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.IsStop(t)){e.next=2;break}throw l.decode_message.cancel;case 2:if(!b){e.next=10;break}if(!o.test){e.next=9;break}return e.next=6,(0,r.sleep)(1500);case 6:return e.abrupt("return",0);case 9:p=o.authz;case 10:if(s=!1,!y&&!p){e.next=43;break}if(k.HF.has&&-1===l.find_exploit_sector(k.HF.data)&&(f.ans=0,l.SendMessage(l.decode_message.dt_getAllKeys,f,u),console.log("已经全部读取，不需要侦测，去读取数据")),c=!1,_||d){e.next=17;break}return e.next=17,l.DetectionReadDeviceTagAsync(t,k.HF,v.stop_decoding,u);case 17:if(!y){e.next=25;break}if(!d){e.next=22;break}c=l.DefaultTagData(n,k.HF,u),e.next=25;break;case 22:return e.next=24,l.DetectionReadTagAsync(t,k.HF,!_,u);case 24:c=e.sent;case 25:if(p&&(c=!0),!c){e.next=43;break}if(i=function(e){},-2==(h=l.find_exploit_sector(k.HF.data))){e.next=35;break}if(-1!==h){e.next=35;break}return f.ans=l.decode_message.detection_success,f.data=k,console.log("已经全部读取，退出侦测"),e.abrupt("return",1);case 35:return x=[216,245,226,63,106,123],g=l.GetHFTagData(k.HF,x,u),m=o.authz?0:2,d&&(m=0),e.next=41,l.SendHFTagDataAsync(t,k.HF,g,m,i);case 41:0===(A=e.sent).ans?(console.log("下发数据成功",A.hash),k.HF.hash=A.hash,s=!0):console.log("下发数据错误");case 43:if(y&&!0!==s){e.next=55;break}if(-1!==l.find_exploit_sector(k.HF.data)){e.next=49;break}console.log("已经全部读取，不需要侦测"),e.next=55;break;case 49:return y=!1,_=!1,e.next=53,l.TestDetectionTagAsync(t,k.HF,o,d,u);case 53:1===(D=e.sent)?y=!0:2===D&&(b=!0);case 55:case"end":return e.stop()}}),e)}));case 12:return e.delegateYield(h(),"t0",14);case 14:if(0!==(x=e.t0)){e.next=17;break}return e.abrupt("continue",12);case 17:if(1!==x){e.next=19;break}return e.abrupt("break",21);case 19:e.next=12;break;case 21:e.next=34;break;case 23:if(e.prev=23,e.t1=e.catch(3),g={stop:!1},setTimeout((function(){g.stop=!0}),6e3),d){e.next=30;break}return e.next=30,l.DetectionReadDeviceTagAsync(t,k.HF,g,u);case 30:f.ans=l.decode_message.dt_error,f.errCode=e.t1,f.data=k,console.log("DetectionTagAsync侦测中断",e.t1);case 34:m=l.GetHFTagData(k.HF,null,u),k.HF.data.card_data=m,i.globalData.data.bluetooth.cmdAntennaSwitchAsync(t,0,null),l.SendMessage(l.decode_message.end,f,u),l.SetDecoded();case 39:case"end":return e.stop()}}),e,this,[[3,23]])}))),function(e,a,t,s,n,r,c){return O.apply(this,arguments)})},{key:"SimulateTagAsync",value:(P=t(a().mark((function e(t,s,n,r,o,d,u){var l,f,k,y,_,b,p,h,x,g,m,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=this,f=new c.cardUtil,k={ans:-1,data:{type:s}},e.prev=3,l.SendMessage(l.decode_message.start,k,u),l.SetDecoding(t,!0),o&&!(r&&r.length>0)){e.next=44;break}if(s!==f.card_type.MF){e.next=44;break}if(_=!1,b=[],!o){e.next=24;break}return p=function(e){},y=r,h={type:s,data:{UID:n.uid,size:n.size,SAK:n.sak,ATQA:256*n.ATQA[0]+n.ATQA[1],num_sectors:0,data:{num_blocks:0,version:[]}}},x=Math.trunc(r.length/16),g=f.blockToSector(x),h.data.num_sectors=g,e.next=20,l.SendHFTagDataAsync(t,h,y,d,p);case 20:0===(m=e.sent).ans&&(_=!0,b=m.hash),e.next=25;break;case 24:_=!0;case 25:if(!_){e.next=43;break}if(v=-1,!o){e.next=33;break}return e.next=30,i.globalData.data.bluetooth.cmdSimulateTagAsync(t,n.uid,n.size,b,null);case 30:v=e.sent,e.next=36;break;case 33:return e.next=35,i.globalData.data.bluetooth.cmdSimulateTagAsync(t,[],0,[],null);case 35:v=e.sent;case 36:if(0!==v.ans){e.next=40;break}k.ans=l.decode_message.simulate_success,e.next=41;break;case 40:throw l.decode_message.err_simulate;case 41:e.next=44;break;case 43:throw l.decode_message.set_data_err;case 44:e.next=50;break;case 46:e.prev=46,e.t0=e.catch(3),k.ans=e.t0,console.log("模拟中断",e.t0);case 50:return l.SendMessage(l.decode_message.end,k,u),l.SetDecoded(),e.abrupt("return",k);case 53:case"end":return e.stop()}}),e,this,[[3,46]])}))),function(e,a,t,s,n,r,c){return P.apply(this,arguments)})},{key:"TestSimulateTagAsync",value:(z=t(a().mark((function e(t,s,n,o,d){var u,l,f,k,y,_,b,p,h,x,g,m,v,A;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this,l=new c.cardUtil,f={ans:-1,data:{type:s}},e.prev=3,u.SendMessage(u.decode_message.start,f,d),u.SetDecoding(t,!0),!(o&&o.length>0)){e.next=50;break}if(s!==l.card_type.MF){e.next=50;break}return y=function(e){},_=[],k=o,b={type:s,data:{UID:n.uid,size:n.size,SAK:n.sak,ATQA:256*n.ATQA[0]+n.ATQA[1],num_sectors:0,data:{num_blocks:0,version:[]}}},p=Math.trunc(o.length/16),h=l.blockToSector(p),b.data.num_sectors=h,e.next=18,u.SendHFTagDataAsync(t,b,k,2,y);case 18:if(0!==(x=e.sent).ans){e.next=23;break}_=x.hash,e.next=24;break;case 23:throw u.decode_message.set_data_err;case 24:g=Array(4).fill(0),m=0,v=0;case 27:if(!u.IsStop(t)){e.next=30;break}throw u.decode_message.cancel;case 30:return e.next=32,i.globalData.data.bluetooth.cmdDetectionTagAsync(t,n.uid,n.size,_,v,14,m,g,null);case 32:if(0!==(A=e.sent).ans){e.next=37;break}0===v?(v=1,console.log("提示去刷卡"),f.ans=0,u.SendMessage(u.decode_message.simulate_success,f,d)):console.log(detect_data),e.next=48;break;case 37:if(2!==A.ans){e.next=45;break}return f.ans=0,f.data={count:A.data.count,writecard:A.data.writecard},u.SendMessage(u.decode_message.dt_wait,f,d),e.next=43,(0,r.sleep)(1e3);case 43:e.next=48;break;case 45:return console.log("侦测失败",A.ans),e.next=48,(0,r.sleep)(1500);case 48:e.next=27;break;case 50:e.next=56;break;case 52:e.prev=52,e.t0=e.catch(3),f.ans=e.t0,console.log("模拟中断",e.t0);case 56:return u.SendMessage(u.decode_message.end,f,d),u.SetDecoded(),e.abrupt("return",f);case 59:case"end":return e.stop()}}),e,this,[[3,52]])}))),function(e,a,t,s,n){return z.apply(this,arguments)})},{key:"CardDataSetAsync",value:(R=t(a().mark((function e(t,s,n,o,d,u){var l,f,k,y,_,b,p,h,x,g,m,v,A,D,w,T,S,M;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=this,f=new c.cardUtil,k={ans:-1,data:{type:s,T:0,B:[]}},e.prev=3,l.SendMessage(l.decode_message.start,k,u),l.SetDecoding(t,!0),s!==f.card_type.id){e.next=13;break}return e.next=9,i.globalData.data.bluetooth.cmdWriteLHFCardAsync(t,n.freq_ascii,n.type_ascii,n.size,n.uid,null);case 9:y=e.sent,k.ans=0===y.ans?l.decode_message.writecard_success:l.decode_message.err_writecard,e.next=61;break;case 13:if(!(o&&o.length>0||s===f.card_type.Other)){e.next=60;break}if(_=[],s===f.card_type.MF?_=o:s===f.card_type.ULEV1?_=o.slice(74):(b=f.SetEmptyMFTagDataBySectors(n.uid,n.ATQA,n.sak,[],16),_=b),p=!0,!(d&&d.length>0)){e.next=38;break}if(h=d,x=(0,r.crc32)(_),g=(0,r.num_to_bytes)(x),JSON.stringify(h)!==JSON.stringify(g)){e.next=38;break}return e.next=25,i.globalData.data.bluetooth.cmdWriteData2TagAsync(t,n.uid,n.size,h,0,null);case 25:if(0!==(m=e.sent).ans){e.next=32;break}p=!1,k.ans=l.decode_message.writecard_success,k.data=m.data,e.next=38;break;case 32:if(m.ans!==i.globalData.data.bluetooth.ble_ans.err_cardCRC){e.next=36;break}p=!0,e.next=38;break;case 36:throw p=!1,l.decode_message.err_writecard;case 38:if(!p){e.next=58;break}return v=function(e){},A={type:s,data:{UID:n.uid,size:n.size,SAK:n.sak,ATQA:256*n.ATQA[0]+n.ATQA[1],num_sectors:0,data:{num_blocks:0,version:[]}}},s===f.card_type.MF||s===f.card_type.Other?(D=Math.trunc(o.length/16),w=f.blockToSector(D),A.data.num_sectors=w):(A.data.data.num_blocks=o[70]+256*o[71],T=(T=o[19])>16?16:T,A.data.data.version=o.slice(20,20+T)),e.next=44,l.SendHFTagDataAsync(t,A,_,0,v);case 44:if(0!==(S=e.sent).ans){e.next=57;break}return e.next=48,i.globalData.data.bluetooth.cmdWriteData2TagAsync(t,n.uid,n.size,S.hash,0,null);case 48:if(0!==(M=e.sent).ans){e.next=54;break}k.ans=l.decode_message.writecard_success,k.data=M.data,e.next=55;break;case 54:throw l.decode_message.err_writecard;case 55:e.next=58;break;case 57:throw l.decode_message.set_data_err;case 58:e.next=61;break;case 60:throw l.decode_message.write_data_err;case 61:e.next=67;break;case 63:e.prev=63,e.t0=e.catch(3),k.ans=e.t0,console.log("写卡中断",e.t0);case 67:return l.SendMessage(l.decode_message.end,k,u),l.SetDecoded(),e.abrupt("return",k);case 70:case"end":return e.stop()}}),e,this,[[3,63]])}))),function(e,a,t,s,n,r){return R.apply(this,arguments)})},{key:"SetNdefTagDataAsync",value:(G=t(a().mark((function e(t,s,n){var o,d,u,l,f,k;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=this,d=new c.cardUtil,u={HF:{has:!1,type:-1,isMagicTags:!1,data:{}}},l={ans:-1,data:{control:0,data:{}}},e.prev=4,o.SendMessage(o.decode_message.start,l,n),o.SetDecoding(t,!0);case 7:if(!o.IsStop(t)){e.next=10;break}throw o.decode_message.cancel;case 10:return e.next=12,o.SelectMifareCardAsync(t,null,void 0);case 12:if(0!==(f=e.sent).ans){e.next=40;break}return u.HF.has=!0,u.HF.data=f.data,e.next=18,o.TestHideSectorsAsync(t,f.data,void 0);case 18:if(!(f.data.num_sectors>0)){e.next=25;break}return u.HF.type=d.card_type.MF,e.next=22,o.SetNdefMifareTagAsync(t,u.HF,s,n);case 22:l=e.sent,e.next=37;break;case 25:return e.next=27,o.TestULEV1Async(t,u.HF,!1,n);case 27:if(0!==(k=e.sent).ans){e.next=36;break}return u.HF.type=d.card_type.ULEV1,u.HF.data.data=k.data,e.next=33,o.SetNdefULEV1TagAsync(t,u.HF,s,n);case 33:l=e.sent,e.next=37;break;case 36:u.HF.type=d.card_type.Other;case 37:return e.abrupt("break",45);case 40:return console.log("请放上卡"),e.next=43,(0,r.sleep)(1e3);case 43:e.next=7;break;case 45:e.next=51;break;case 47:e.prev=47,e.t0=e.catch(4),l.ans=e.t0,console.log("中断",e.t0);case 51:return i.globalData.data.bluetooth.cmdAntennaSwitchAsync(t,0,null),o.SendMessage(o.decode_message.end,l,n),o.SetDecoded(),e.abrupt("return",l);case 55:case"end":return e.stop()}}),e,this,[[4,47]])}))),function(e,a,t){return G.apply(this,arguments)})},{key:"CardDataDecodeAsync",value:(E=t(a().mark((function e(t,s,n,d,u){var l,f,k,y,_,b,p,h,x,g,m,v,A,D,w,T,S;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=this,f=new c.cardUtil,k={ID:{has:!1,type:-1,data:{}},HF:{has:!1,type:-1,isMagicTags:!1,data:{}}},y={ans:-1,data:{control:0,data:{}}},e.prev=4,l.SendMessage(l.decode_message.start,y,u),l.SetDecoding(t,!0),s==l.decode_control.format){e.next=13;break}return l.SendMessage(l.decode_message.test_reading_ID,y,u),e.next=11,i.globalData.data.bluetooth.cmdReadLHFCardAsync(t,null);case 11:0===(_=e.sent).ans&&(k.ID.has=!0,k.ID.type=f.card_type.id,k.ID.data=_.data,y.data.data=_.data,l.SendMessage(l.decode_message.test_readed_ID,y,u));case 13:return l.SendMessage(l.decode_message.test_reading_MF,y,u),e.next=16,l.SelectMifareCardAsync(t,null,void 0);case 16:if(0!==(b=e.sent).ans){e.next=53;break}return k.HF.has=!0,k.HF.data=b.data,e.next=22,l.TestHideSectorsAsync(t,k.HF.data,u);case 22:if(!(k.HF.data.num_sectors>0)){e.next=49;break}return k.HF.type=f.card_type.MF,e.next=26,l.SelectMifareCardAsync(t,b.data.UID,void 0);case 26:if(0!==e.sent.ans){e.next=46;break}return e.next=30,l.DoDecodeingMifareAsync(t,k.HF.data,s,n,d,u);case 30:if((p=e.sent)!==this.decode_message.is_MagicTags){e.next=35;break}k.HF.isMagicTags=!0,e.next=44;break;case 35:if(p!==this.decode_message.decode_success){e.next=40;break}return e.next=38,l.ReadMifareTagAsync(t,k.HF.data,!1,u);case 38:e.next=44;break;case 40:if(p===this.decode_message.card_uid_change||p===this.decode_message.cancel||p===this.decode_message.card_read_err){e.next=43;break}return e.next=43,l.ReadMifareTagAsync(t,k.HF.data,!1,void 0);case 43:throw p;case 44:e.next=47;break;case 46:throw this.decode_message.card_read_err;case 47:e.next=53;break;case 49:return e.next=51,l.TestULEV1Async(t,k.HF,!0,u);case 51:0===(h=e.sent).ans?(k.HF.type=f.card_type.ULEV1,k.HF.data.data=h.data):k.HF.type=f.card_type.Other;case 53:if(k.ID.has||k.HF.has){e.next=55;break}throw this.decode_message.no_card_read;case 55:if(!k.HF.has){e.next=79;break}if(k.HF.type!==f.card_type.Other){e.next=60;break}y.ans=l.decode_message.other_hf_tag,e.next=77;break;case 60:if(x=1,k.HF.type===f.card_type.MF&&(g=l.find_exploit_sector(k.HF.data),x=-1===g?1:-2===g?-1:0),m=l.GetHFTagData(k.HF,null,u),s!==l.decode_control.decode){e.next=75;break}if(1!==x){e.next=71;break}return e.next=67,l.SendHFTagDataAsync(t,k.HF,m,0,u);case 67:0===(v=e.sent).ans?(y.ans=l.decode_message.decode_success,k.HF.data.card_data=v.data,k.HF.data.card_hash=v.hash):(y.ans=l.decode_message.set_data_err,k.HF.data.card_data=v.data,k.HF.data.card_hash=v.hash),e.next=73;break;case 71:y.ans=0===x?l.decode_message.decode_no_has_all_keys:l.decode_message.decode_no_has_keys,k.HF.data.card_data=m;case 73:e.next=77;break;case 75:k.HF.data.card_data=m,y.ans=s===l.decode_control.format?k.HF.type===f.card_type.ULEV1?l.decode_message.format_no_mf:l.decode_message.format_success:1===x?l.decode_message.readonly_success:l.decode_message.no_read_all_data;case 77:e.next=80;break;case 79:s===l.decode_control.decode?y.ans=l.decode_message.decode_success:s===l.decode_control.format?y.ans=l.decode_message.format_no_mf:y.ans=l.decode_message.readonly_success;case 80:e.next=87;break;case 82:e.prev=82,e.t0=e.catch(4),y.ans=e.t0,console.log("解码中断",e.t0),e.t0!==this.decode_message.card_uid_change&&e.t0!==this.decode_message.cancel&&e.t0!==this.decode_message.card_read_err&&k.HF.has&&k.HF.type!==f.card_type.Other&&(A=l.GetHFTagData(k.HF,null,u),k.HF.data.card_data=A);case 87:return s===l.decode_control.decode&&k.HF.has&&k.HF.type===f.card_type.MF&&(D=new o.fileUtil,-1!=(w=l.find_exploit_sector(k.HF.data))&&k.HF.data.tem_key&&k.HF.data.tem_key.getall&&k.HF.data.tem_key.total>0&&(T=(0,r.json2Bytes)(k.HF.data.tem_key),D.writeCardTempFile(k.HF.data.UID,k.HF.data.size,32,T)),-2!=w&&(S=(0,r.json2Bytes)(k.HF.data.data),D.writeCardTempFile(k.HF.data.UID,k.HF.data.size,0,S))),y.data.data=k,l.SendMessage(l.decode_message.end,y,u),l.SetDecoded(),e.next=93,i.globalData.data.bluetooth.cmdAntennaSwitchAsync(t,0,null);case 93:case"end":return e.stop()}}),e,this,[[4,82]])}))),function(e,a,t,s,n){return E.apply(this,arguments)})},{key:"DoDecodeingMifareAsync",value:(N=t(a().mark((function e(s,n,d,i,u,l){var f,k,y,_,b,p,h,x,g,m,v,A,D,w,T,S,M,U,I,K,F,C,H,B=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=this,k=-1,e.prev=2,y=new c.cardUtil,d==f.decode_control.readonly_auth){e.next=18;break}return e.next=7,f.TestMagicTagsAsync(s,n,d,l);case 7:if(1!==e.sent){e.next=11;break}return console.log("MagicTags",n),e.abrupt("return",this.decode_message.is_MagicTags);case 11:return e.next=13,f.SelectMifareCardAsync(s,n.UID,void 0);case 13:if(0==e.sent.ans){e.next=16;break}throw this.decode_message.card_read_err;case 16:return e.next=18,f.TestKnowFileDataAsync(s,n,d,null!=i?i:[],u,l);case 18:if(f.is_has_all_password(n)){e.next=123;break}if(_=new o.fileUtil,d!==f.decode_control.decode){e.next=38;break}if(!((b=_.readCardTempFile(n.UID,n.size,32))&&b.length>0)){e.next=38;break}if(!((p=(0,r.bytes2Json)(b))&&p.getall&&p.keylist&&p.keylist.length>0)){e.next=38;break}if(h=y.blockToSector(p.trgBlockNo),x=0===p.trgKeyType?0:1,!n.data[h]||n.data[h].foundKey[x]){e.next=37;break}return g=function(){var e=t(a().mark((function e(){var t,r,c,o,d,i,u,k;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.tem_key=p,t=y.blockToSector(n.tem_key.trgBlockNo),r=0===n.tem_key.trgKeyType?0:1,!n.data[t]||n.data[t].foundKey[r]){e.next=33;break}if(f.UpdateDecodeProgress(t,r,l),!n.tem_key.is_thirdtag){e.next=16;break}return e.next=8,f.TestThirdTagNestedAsync(s,n,n.tem_key.trgBlockNo,r,!0,l);case 8:if(0!==(c=e.sent).ans){e.next=14;break}return n.data[t].foundKey[r]=!0,n.data[t].keys[r]=c.key,e.next=14,f.TestKnowKeysAsync(s,n,c.key,l);case 14:e.next=30;break;case 16:if(!((o=f.find_exploit_sector(n))>=0)){e.next=30;break}return d=y.sectorToFirstBlock(o)+y.numberOfBlocks(o)-1,i=0,u=[],n.data[o].foundKey[0]?(i=0,u=n.data[o].keys[0]):n.data[o].foundKey[1]&&(i=1,u=n.data[o].keys[1]),e.next=24,f.Test4439PlusNestedAsync(s,n,d,i,u,n.tem_key.trgBlockNo,i,!0,l);case 24:if(0!==(k=e.sent).ans){e.next=30;break}return n.data[t].foundKey[i]=!0,n.data[t].keys[i]=k.key,e.next=30,f.TestKnowKeysAsync(s,n,k.key,l);case 30:f.UpdateDecodeProgress(-1,-1,l),e.next=34;break;case 33:n.tem_key={};case 34:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=31,new Promise(function(){var e=t(a().mark((function e(n){var c,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=function(){return(o=t(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(e){return o.apply(this,arguments)},B.SendMessage(B.decode_message.test_temp_keylist,c,l);case 3:if(!f.IsStop(s)){e.next=7;break}return n(!1),e.abrupt("break",11);case 7:return e.next=9,(0,r.sleep)(200);case 9:e.next=3;break;case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 31:if(!e.sent){e.next=35;break}return e.next=35,g();case 35:e.next=38;break;case 37:n.tem_key={};case 38:return e.next=40,f.TestReadAllKeyBAsync(s,n,l);case 40:if(d!==f.decode_control.decode){e.next=123;break}m=0;case 42:if(!(m<5)){e.next=123;break}if(!f.IsStop(s)){e.next=45;break}throw f.decode_message.cancel;case 45:if(f.is_has_all_password(n)){e.next=119;break}if(d!==f.decode_control.decode){e.next=117;break}if(-2!==(v=f.find_exploit_sector(n))){e.next=70;break}return console.log("全加密卡"),f.UpdateDecodeProgress(0,0,l),e.next=53,f.TestThirdTagNestedAsync(s,n,0,0,!1,l);case 53:if(0!==(A=e.sent).ans){e.next=59;break}return n.data[0].foundKey[0]=!0,n.data[0].keys[0]=A.key,e.next=59,f.TestKnowKeysAsync(s,n,A.key,l);case 59:if(-2!==(v=f.find_exploit_sector(n))){e.next=69;break}return e.next=63,f.TestDarksideAsync(s,n,l);case 63:if(0!==(D=e.sent).ans){e.next=69;break}return n.data[0].foundKey[0]=!0,n.data[0].keys[0]=D.key,e.next=69,f.TestKnowKeysAsync(s,n,D.key,l);case 69:f.UpdateDecodeProgress(-1,-1,l);case 70:if(!((v=f.find_exploit_sector(n))>=0)){e.next=117;break}w=y.sectorToFirstBlock(v)+y.numberOfBlocks(v)-1,T=0,S=[],n.data[v].foundKey[0]?(T=0,S=n.data[v].keys[0]):n.data[v].foundKey[1]&&(T=1,S=n.data[v].keys[1]),M=n.num_sectors,U=0;case 78:if(!(U<M)){e.next=117;break}if(!f.IsStop(s)){e.next=81;break}throw f.decode_message.cancel;case 81:I=y.sectorToFirstBlock(U)+y.numberOfBlocks(U)-1,K=0;case 83:if(!(K<2)){e.next=114;break}if(!f.IsStop(s)){e.next=86;break}throw f.decode_message.cancel;case 86:if(n.data[U].foundKey[K]){e.next=111;break}if(f.UpdateDecodeProgress(U,K,l),1!==K||!n.data[U].foundKey[0]){e.next=91;break}return e.next=91,f.TestReadKeyBAsync(s,n,U,n.data[U].keys[0],l);case 91:if(n.data[U].foundKey[K]){e.next=109;break}return e.next=94,f.TestThirdTagNestedAsync(s,n,I,K,!1,l);case 94:if(0!==(F=e.sent).ans){e.next=100;break}return n.data[U].foundKey[K]=!0,n.data[U].keys[K]=F.key,e.next=100,f.TestKnowKeysAsync(s,n,F.key,l);case 100:if(n.data[U].foundKey[K]){e.next=109;break}return e.next=103,f.TestFastNestedAsync(s,n,w,T,S,I,K,l);case 103:if(0!==(C=e.sent).ans){e.next=109;break}return n.data[U].foundKey[K]=!0,n.data[U].keys[K]=C.key,e.next=109,f.TestKnowKeysAsync(s,n,C.key,l);case 109:f.UpdateDecodeProgress(-1,-1,l),n.data[U].foundKey[K]&&(H=(0,r.json2Bytes)(n.data),_.writeCardTempFile(n.UID,n.size,0,H));case 111:K++,e.next=83;break;case 114:U++,e.next=78;break;case 117:e.next=120;break;case 119:return e.abrupt("break",123);case 120:m++,e.next=42;break;case 123:if(d!==f.decode_control.format){e.next=126;break}return e.next=126,f.TestDoFormatAsync(s,n,l);case 126:k=this.decode_message.decode_success,e.next=132;break;case 129:e.prev=129,e.t0=e.catch(2),k=e.t0;case 132:return e.abrupt("return",k);case 133:case"end":return e.stop()}}),e,this,[[2,129]])}))),function(e,a,t,s,n,r){return N.apply(this,arguments)})},{key:"TestDoFormatAsync",value:(B=t(a().mark((function e(t,s,n){var r,c,o,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=this).is_has_all_password(s)){e.next=3;break}throw r.decode_message.no_all_decode;case 3:c=s.num_sectors,o=0;case 5:if(!(o<c)){e.next=16;break}if(!r.IsStop(t)){e.next=8;break}throw r.decode_message.cancel;case 8:return r.UpdateFormatTag(o,r.decode_read_color.formating,0,n),e.next=11,r.AuthFormatMifareTagSectorAsync(t,s.UID,o,s.data[o],n);case 11:d=e.sent,r.UpdateFormatTag(o,0===d.ans?r.decode_read_color.format_succ:r.decode_read_color.format_fail,0,n);case 13:o++,e.next=5;break;case 16:case"end":return e.stop()}}),e,this)}))),function(e,a,t){return B.apply(this,arguments)})},{key:"TestDarksideAsync",value:(H=t(a().mark((function e(t,s,n){var c,o,u,l,f,k,y,_,b,p,h,x,g,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=this,o={ans:-1,block:3,type:0,key:[]},u={state:0,trycount:0,per:0},l=(0,r.getUUID)(),f=120,k=0,y=1;case 7:if(!f--){e.next=77;break}if(!c.IsStop(t)){e.next=10;break}throw c.decode_message.cancel;case 10:return u.trycount=120-f,u.state=1,u.per=0,c.UpdateDarksideDecodeProgress(u,n),e.next=16,i.globalData.data.bluetooth.cmdMifareDarksideAttackAsync(t,y,null);case 16:if(0!==(_=e.sent).ans){e.next=59;break}return u.state=2,u.per=0,c.UpdateDarksideDecodeProgress(u,n),b={taskUuid:l,MCUUID:i.globalData.data.bluetooth.GetDeviceInfo(t).MCUUID,uid:s.UID.slice(s.UID.length-4),control:0,data:_.data},e.next=24,(0,r.requestAsync)("GET","CopyKEY/MifareDarkside",b,void 0,3e4);case 24:if(!(0===(p=e.sent).code&&0===p.data.nBK&&p.data.sendKeyCount>0)){e.next=52;break}if(!((h=p.data.data)&&h.length>0)){e.next=50;break}return x=(0,d.Base64Decode)(h),g=(0,r.string2Hex)(x),e.next=32,c.MifareAuthBatchAsync(t,3,0,g,!0,n);case 32:if(0!==(m=e.sent).ans){e.next=42;break}return console.log("find key",m.key),o.ans=m.ans,o.key=m.key,b.control=255,(0,r.requestAsync)("GET","CopyKEY/MifareDarkside",b),e.abrupt("break",77);case 42:if(m.ans!==i.globalData.data.bluetooth.ble_ans.err_readcard){e.next=50;break}return e.next=45,c.SelectMifareCardAsync(t,s.UID,void 0);case 45:if(0==e.sent.ans){e.next=50;break}throw b.control=255,(0,r.requestAsync)("GET","CopyKEY/MifareDarkside",b),this.decode_message.card_read_err;case 50:e.next=55;break;case 52:u.state=2,u.per=238,c.UpdateDarksideDecodeProgress(u,n);case 55:y=0,k=0,e.next=75;break;case 59:if(k++,254!==_.data&&253!==_.data){e.next=64;break}throw this.decode_message.decode_no_has_keys;case 64:if(252!==_.data){e.next=67;break}if(!(k>10)){e.next=67;break}throw this.decode_message.decode_no_has_keys;case 67:return e.next=69,c.SelectMifareCardAsync(t,s.UID,void 0);case 69:if(0==e.sent.ans){e.next=72;break}throw this.decode_message.card_read_err;case 72:u.state=238,u.per=_.data,c.UpdateDarksideDecodeProgress(u,n);case 75:e.next=7;break;case 77:return e.abrupt("return",o);case 78:case"end":return e.stop()}}),e,this)}))),function(e,a,t){return H.apply(this,arguments)})},{key:"Test4439PlusNestedAsync",value:(C=t(a().mark((function e(s,n,c,o,u,l,f,k,y){var _,b,p,h,x,g,m,v,A,D,w,T,S,M,U;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_=this,b={ans:-1,block:l,type:f,key:[]},p={state:0,total:0,scan:0,loadcount:0},h={is_thirdtag:!1,trgBlockNo:l,trgKeyType:f,loadcount:0,total:0,getall:!1,test_pos:0,test_count:0,keylist:[]},x=!1,g=0,m=0,v=!0,k&&n.tem_key.getall&&n.tem_key.keylist&&n.tem_key.keylist.length>0&&(h=n.tem_key,x=!0,v=!1,g=h.test_pos,m=h.test_count,p.total=h.total,p.loadcount=h.loadcount,p.state=2,p.scan=m,_.UpdateAuthKeysProgress(l,f,p,_.decode_message.test_mf_static_nonce,y),m>=h.total&&h.getall&&(console.log("需要重新获取"),g=0,m=0,v=!0)),!v){e.next=22;break}return A=function(){var e=t(a().mark((function e(){var t,c,o,u,k,b,x,g;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,c=0,p.state=1,p.total=0,p.loadcount=0,_.UpdateAuthKeysProgress(l,f,p,_.decode_message.test_mf_static_nonce,y),o=(0,r.getUUID)(),u={taskUuid:o,MCUUID:i.globalData.data.bluetooth.GetDeviceInfo(s).MCUUID,uid:n.UID.slice(n.UID.length-4),control:t,block:l,keytype:f,data:S,pos:c};case 8:if(!_.IsStop(s)){e.next=11;break}throw _.decode_message.cancel;case 11:return u.control=t,u.pos=c,e.next=15,(0,r.requestAsync)("GET","CopyKEY/MifareNested",u,void 0,3e4);case 15:if(!(0==(k=e.sent).code&&0===k.data.nBK&&k.data.sendKeyCount>0)){e.next=39;break}if(!((b=k.data.data)&&b.length>0)){e.next=37;break}if(x=(0,d.Base64Decode)(b),g=(0,r.string2Hex)(x),h.keylist.push(g),h.loadcount+=k.data.sendKeyCount,h.total=k.data.keyCount,c=h.loadcount,p.total=h.total,p.loadcount=h.loadcount,!(c<h.total)){e.next=32;break}h.getall=!1,t=1,e.next=37;break;case 32:return h.getall=!0,t=255,u.control=t,(0,r.requestAsync)("GET","CopyKEY/MifareNested",u),e.abrupt("break",46);case 37:e.next=44;break;case 39:return u.control=255,(0,r.requestAsync)("GET","CopyKEY/MifareNested",u),p.state=255,_.UpdateAuthKeysProgress(l,f,p,_.decode_message.test_mf_static_nonce,y),e.abrupt("break",46);case 44:e.next=8;break;case 46:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=13,i.globalData.data.bluetooth.cmdGetMifareNested1NtAsync(s,c,o,u,l,f,2,y);case 13:if(0===(D=e.sent).ans){e.next=16;break}return e.abrupt("return",b);case 16:for(n.tem_key=h,w=new Array(4),T=0;T<4;T++)w[T]=D.data.nt_nested[T]^D.data.nt_enc[T];S={fixed_nt:D.data.nt,nt1:D.data.nt_nested,ks1:w,nt1_par_enc:D.data.nt_par_enc,nt2:D.data.nt_nested,ks2:w,nt2_par_enc:D.data.nt_par_enc},A(),x=!0;case 22:if(!x){e.next=62;break}case 23:if(!_.IsStop(s)){e.next=26;break}throw _.decode_message.cancel;case 26:if(!(m>=h.total&&h.getall)){e.next=30;break}return console.log("已全部扫描完成"),n.tem_key={},e.abrupt("break",62);case 30:if(!(g>=h.keylist.length)){e.next=34;break}return e.next=33,(0,r.sleep)(500);case 33:return e.abrupt("continue",23);case 34:return M=h.keylist[g],e.next=37,_.MifareAuthBatchAsync(s,l,f,M,!1,y);case 37:if(0!==(U=e.sent).ans){e.next=46;break}return console.log("find key",U.key),n.tem_key={},b.ans=U.ans,b.key=U.key,e.abrupt("break",62);case 46:if(U.ans!==i.globalData.data.bluetooth.ble_ans.err_readcard){e.next=53;break}return console.log("读卡失败"),e.next=50,_.SelectMifareCardAsync(s,n.UID,void 0);case 50:if(0==e.sent.ans){e.next=53;break}throw this.decode_message.card_read_err;case 53:m+=M.length/6,g++,p.state=2,p.scan=m,n.tem_key.test_pos=g,n.tem_key.test_count=m,_.UpdateAuthKeysProgress(l,f,p,_.decode_message.test_mf_static_nonce,y),e.next=23;break;case 62:return e.abrupt("return",b);case 63:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s,n,r,c,o,d){return C.apply(this,arguments)})},{key:"TestThirdTagNestedAsync",value:(F=t(a().mark((function e(s,n,o,u,l,f){var k,y,_,b,p,h,x,g,m,v,A,D,w,T,S,M,U,I,K,F,C,H,B,N;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k=this,y={ans:-1,block:o,type:u,key:[]},_=[[163,150,239,164,226,79],[163,22,103,168,206,193]],b={state:0,total:0,scan:0,loadcount:0},p={is_thirdtag:!0,trgBlockNo:o,trgKeyType:u,loadcount:0,total:0,getall:!1,test_pos:0,test_count:0,keylist:[]},h=!1,x=0,g=0,m=!0,l&&n.tem_key.getall&&n.tem_key.keylist&&n.tem_key.keylist.length>0&&(p=n.tem_key,h=!0,m=!1,x=p.test_pos,g=p.test_count,b.total=p.total,b.loadcount=p.loadcount,b.state=2,b.scan=g,k.UpdateAuthKeysProgress(o,u,b,k.decode_message.test_mf_thrid_nonce,f),g>=p.total&&p.getall&&(console.log("需要重新获取"),x=0,g=0,m=!0)),!m){e.next=50;break}v=!1,A=_[0],D=0;case 14:if(!(D<_.length)){e.next=40;break}return e.next=17,i.globalData.data.bluetooth.cmdGetMifareThirdTagNoncesAsync(s,o,0,_[D],null);case 17:if(0!==(w=e.sent).ans){e.next=37;break}T=0,S=0,T=(0,r.bytes_to_num)(w.data.nt_enc),M=0;case 23:if(!(M<1)){e.next=31;break}return e.next=26,i.globalData.data.bluetooth.cmdGetMifareThirdTagNoncesAsync(s,o,0,_[D],null);case 26:0===(U=e.sent).ans&&(I=(0,r.bytes_to_num)(U.data.nt_enc),T!==I?T=I:S++);case 28:M++,e.next=23;break;case 31:if(1===S){e.next=34;break}return y.ans=-2,e.abrupt("return",y);case 34:return A=_[D],v=!0,e.abrupt("break",40);case 37:D++,e.next=14;break;case 40:if(v){e.next=43;break}return y.ans=-3,e.abrupt("return",y);case 43:return e.next=45,i.globalData.data.bluetooth.cmdGetMifareThirdTagNoncesAsync(s,o,0,A,null);case 45:return K=e.sent,e.next=48,i.globalData.data.bluetooth.cmdGetMifareThirdTagNoncesAsync(s,o,1,A,null);case 48:F=e.sent,0===K.ans&&0===F.ans&&(C=function(){var e=t(a().mark((function e(){var t,l,y,_,h,x,g,m,v,A,D,w,T;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,l=0,b.state=1,b.total=0,b.loadcount=0,k.UpdateAuthKeysProgress(o,u,b,k.decode_message.test_mf_thrid_nonce,f),y=new c.cardUtil,_=y.blockToSector(o),h=!1,x=void 0,g=void 0,n.data[_].foundKey[1==u?0:1]&&(h=!0,x=1==u?H.nt1:H.nt2,g=n.data[_].keys[1==u?0:1],console.log(h,x,g)),m=(0,r.getUUID)(),v={taskUuid:m,MCUUID:i.globalData.data.bluetooth.GetDeviceInfo(s).MCUUID,uid:n.UID.slice(n.UID.length-4),control:t,block:o,keytype:u,data:H,pos:l,has_key:h,nt_nested:x,key:g};case 14:if(!k.IsStop(s)){e.next=17;break}throw k.decode_message.cancel;case 17:return v.control=t,v.pos=l,e.next=21,(0,r.requestAsync)("GET","CopyKEY/MifareStaticNested",v,void 0,3e4);case 21:if(!(0==(A=e.sent).code&&0===A.data.nBK&&A.data.sendKeyCount>0)){e.next=45;break}if(!((D=A.data.data)&&D.length>0)){e.next=43;break}if(w=(0,d.Base64Decode)(D),T=(0,r.string2Hex)(w),p.keylist.push(T),p.loadcount+=A.data.sendKeyCount,p.total=A.data.keyCount,l=p.loadcount,b.total=p.total,b.loadcount=p.loadcount,!(l<p.total)){e.next=38;break}p.getall=!1,t=1,e.next=43;break;case 38:return p.getall=!0,t=255,v.control=t,(0,r.requestAsync)("GET","CopyKEY/MifareStaticNested",v),e.abrupt("break",52);case 43:e.next=50;break;case 45:return v.control=255,(0,r.requestAsync)("GET","CopyKEY/MifareStaticNested",v),b.state=255,k.UpdateAuthKeysProgress(o,u,b,k.decode_message.test_mf_thrid_nonce,f),e.abrupt("break",52);case 50:e.next=14;break;case 52:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.tem_key=p,H={fixed_nt:[],nt1:K.data.nt,ks1:K.data.nt_enc,nt1_par_enc:K.data.nt_par_enc,nt2:F.data.nt,ks2:F.data.nt_enc,nt2_par_enc:F.data.nt_par_enc},C(),h=!0);case 50:if(!h){e.next=90;break}case 51:if(!k.IsStop(s)){e.next=54;break}throw k.decode_message.cancel;case 54:if(!(g>=p.total&&p.getall)){e.next=58;break}return console.log("已全部扫描完成"),n.tem_key={},e.abrupt("break",90);case 58:if(!(x>=p.keylist.length)){e.next=62;break}return e.next=61,(0,r.sleep)(500);case 61:return e.abrupt("continue",51);case 62:return B=p.keylist[x],e.next=65,k.MifareAuthBatchAsync(s,o,u,B,!1,f);case 65:if(0!==(N=e.sent).ans){e.next=74;break}return console.log("find key",N.key),n.tem_key={},y.ans=N.ans,y.key=N.key,e.abrupt("break",90);case 74:if(N.ans!==i.globalData.data.bluetooth.ble_ans.err_readcard){e.next=81;break}return console.log("读卡失败"),e.next=78,k.SelectMifareCardAsync(s,n.UID,void 0);case 78:if(0==e.sent.ans){e.next=81;break}throw this.decode_message.card_read_err;case 81:g+=B.length/6,x++,b.state=2,b.scan=g,n.tem_key.test_pos=x,n.tem_key.test_count=g,k.UpdateAuthKeysProgress(o,u,b,k.decode_message.test_mf_thrid_nonce,f),e.next=51;break;case 90:return e.abrupt("return",y);case 91:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s,n,r){return F.apply(this,arguments)})},{key:"TestFastNestedAsync",value:(K=t(a().mark((function e(t,s,n,c,o,u,l,f){var k,y,_,b,p,h,x,g,m,v,A,D,w,T,S,M,U,I,K;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k=this,y={ans:-1,block:u,type:l,key:[]},_={state:0,trycount:0,per:0},b=c,p=(0,r.getUUID)(),h=120,x=1,g=0;case 8:if(!h--){e.next=124;break}if(!k.IsStop(t)){e.next=11;break}throw k.decode_message.cancel;case 11:return _.trycount=120-h,_.state=1,k.UpdateNestedDecodeProgress(u,l,_,f),e.next=16,i.globalData.data.bluetooth.cmdGetMifareNestedAsync(t,n,b,o,u,l,x,null);case 16:if(0!==(m=e.sent).ans&&5!==m.ans){e.next=59;break}return v={taskUuid:p,MCUUID:i.globalData.data.bluetooth.GetDeviceInfo(t).MCUUID,uid:s.UID.slice(s.UID.length-4),control:0,block:u,keytype:l,data:m.data},_.state=2,_.per=0,k.UpdateNestedDecodeProgress(u,l,_,f),e.next=24,(0,r.requestAsync)("GET","CopyKEY/MifareNested",v,void 0,3e4);case 24:if(!(0==(A=e.sent).code&&0===A.data.nBK&&A.data.sendKeyCount>0)){e.next=52;break}if(!((D=A.data.data)&&D.length>0)){e.next=50;break}return w=(0,d.Base64Decode)(D),T=(0,r.string2Hex)(w),e.next=32,k.MifareAuthBatchAsync(t,u,l,T,!0,f);case 32:if(0!==(S=e.sent).ans){e.next=42;break}return console.log("find key",S.key),y.ans=S.ans,y.key=S.key,v.control=255,(0,r.requestAsync)("GET","CopyKEY/MifareNested",v),e.abrupt("break",124);case 42:if(S.ans!==i.globalData.data.bluetooth.ble_ans.err_readcard){e.next=50;break}return e.next=45,k.SelectMifareCardAsync(t,s.UID,void 0);case 45:if(0==e.sent.ans){e.next=50;break}throw v.control=255,(0,r.requestAsync)("GET","CopyKEY/MifareNested",v),this.decode_message.card_read_err;case 50:e.next=55;break;case 52:_.state=2,_.per=238,k.UpdateNestedDecodeProgress(u,l,_,f);case 55:x=h%10==0?1:0,g=0,e.next=122;break;case 59:if(4!==m.ans){e.next=110;break}return e.next=62,k.GetMifareDecodeTpyeAsync(t,n,b,o,u,l,f);case 62:if(1!==(M=e.sent)){e.next=67;break}return e.abrupt("return",k.TestHardNestedAsync(t,s,n,b,o,u,l,f));case 67:if(2!==M&&3!==M){e.next=78;break}return e.next=70,k.Test4439PlusNestedAsync(t,s,n,b,o,u,l,!1,f);case 70:if(U=e.sent,console.log(U),0!==U.ans){e.next=76;break}return y.ans=U.ans,y.key=U.key,e.abrupt("break",124);case 76:e.next=108;break;case 78:if(4!==M){e.next=82;break}throw k.decode_message.is_thirdTag;case 82:return e.next=84,k.isThirdTagAsync(t,n,b,o,u,l,1,6,f);case 84:if(1!==e.sent){e.next=107;break}return e.next=88,k.TestThirdTagNestedAsync(t,s,u,l,!1,f);case 88:if(0!==(I=e.sent).ans){e.next=95;break}return y.ans=I.ans,y.key=I.key,e.abrupt("break",124);case 95:return e.next=97,k.Test4439PlusNestedAsync(t,s,n,b,o,u,l,!1,f);case 97:if(0!==(K=e.sent).ans){e.next=104;break}return y.ans=K.ans,y.key=K.key,e.abrupt("break",124);case 104:throw k.decode_message.is_thirdTag;case 105:e.next=108;break;case 107:return e.abrupt("return",k.TestHardNestedAsync(t,s,n,b,o,u,l,f));case 108:e.next=115;break;case 110:return e.next=112,k.SelectMifareCardAsync(t,s.UID,void 0);case 112:if(0==e.sent.ans){e.next=115;break}throw this.decode_message.card_read_err;case 115:if(x=1,!(++g>=3)){e.next=119;break}return e.abrupt("break",124);case 119:_.state=238,_.per=m.ans,k.UpdateNestedDecodeProgress(u,l,_,f);case 122:e.next=8;break;case 124:return e.abrupt("return",y);case 125:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s,n,r,c,o){return K.apply(this,arguments)})},{key:"TestGetEncryptNoncesAsync",value:(I=t(a().mark((function e(t,s,n,r,c,o,d,i,u,l){var f,k,y,_,b,p,h,x;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=this,k=[],e.next=4,f.GetMifareHardNestedAsync(t,c,o,d,i,u,s,n,0,r,void 0);case 4:if(!(0===(y=e.sent).ans&&y.data.length>0)){e.next=10;break}for(_=Math.floor(y.data.length/10),b=0;b<_;b++){for(p=new Array(9),x=0;x<4;x++)p[x]=y.data[5*b+x],p[x+4]=y.data[5*b+5+x];h=y.data[5*b+4]<<4|15&y.data[5*b+9],p[8]=h,k.push.apply(k,p)}e.next=15;break;case 10:return e.next=12,f.SelectMifareCardAsync(t,null,void 0);case 12:if(0==e.sent.ans){e.next=15;break}throw this.decode_message.card_read_err;case 15:return e.abrupt("return",k);case 16:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s,n,r,c,o,d,i){return I.apply(this,arguments)})},{key:"TestHardNestedAsync",value:(U=t(a().mark((function e(t,s,n,c,o,u,l,f){var k,y,_,b,p,h,x,g,m,v,A,D,w,T,S,M,U,I,K,F,C,H,B,N,E,G,R,z,P,O,q,Y,L,V,Q;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k={ans:-1,block:u,type:l,key:[]},y=(0,r.getUUID)(),_={taskUuid:y,MCUUID:i.globalData.data.bluetooth.GetDeviceInfo(t).MCUUID,uid:s.UID.slice(s.UID.length-4),control:1,trgBlockNo:u,trgKeyType:l,count:0,nonces:[]},b={state:0,trycount:0,per:0},h=!1,x=-1,g=!0,(p=this).UpdateHardNestedDecodeProgress(u,l,b,f),e.prev=9,m=null,v=0;case 12:if(!(v<5)){e.next=197;break}if(A=[],!p.IsStop(t)){e.next=16;break}throw p.decode_message.cancel;case 16:if(!h){e.next=25;break}return g=!0,_.control=3,_.nonces=[],_.count=0,e.next=23,(0,r.requestAsync)("POST","CopyKEY/MifareHardNested",_,void 0,3e4);case 23:0===(D=e.sent).code&&0===D.data.nBK&&2===(x=D.data.state)&&(m=D.data.key);case 25:if(h&&3!==x){e.next=58;break}for(b.state=1,b.trycount=v+1,w=new Array(256),T=0;T<256;T++)w[T]=!1;S=0,M=0,U=0;case 33:if(!p.IsStop(t)){e.next=36;break}throw p.decode_message.cancel;case 36:return e.next=39,p.TestGetEncryptNoncesAsync(t,0===S?1:0,g?1:0,128,n,c,o,u,l,void 0);case 39:if(I=e.sent,!(S>0)){e.next=52;break}for(K=I.length/576,F=0;F<K;F++)C=I.slice(9*F*64,9*F*64+576),A.push(C);for(H=0;H<I.length;H+=9)for(B=0;B<2;B++)w[I[H+4*B]]||(w[I[H+4*B]]=!0,M++);if(256!==M){e.next=49;break}if(!(A.length>U+8)){e.next=47;break}return e.abrupt("break",58);case 47:e.next=50;break;case 49:U+=K;case 50:e.next=53;break;case 52:A.push(I);case 53:S++,b.per=S,p.UpdateHardNestedDecodeProgress(u,l,b,f),e.next=33;break;case 58:if(b.state=2,p.UpdateHardNestedDecodeProgress(u,l,b,f),b.state=3,0!==v){e.next=75;break}return _.nonces=[],_.count=0,_.control=1,e.next=67,(0,r.requestAsync)("POST","CopyKEY/MifareHardNested",_,void 0,3e4);case 67:if(0!==(N=e.sent).code||0!==N.data.nBK){e.next=74;break}h=!0,2===(x=N.data.state)&&(m=N.data.key),e.next=75;break;case 74:return e.abrupt("break",197);case 75:if(3!==x){e.next=129;break}E=0;case 77:if(!(E<A.length)){e.next=102;break}if(!p.IsStop(t)){e.next=80;break}throw p.decode_message.cancel;case 80:if(3!==x){e.next=97;break}return G=A[E],_.nonces=G,_.count=G.length/9,_.control=2,e.next=87,(0,r.requestAsync)("POST","CopyKEY/MifareHardNested",_,void 0,3e4);case 87:if(0!==(R=e.sent).code||0!==R.data.nBK){e.next=93;break}2===(x=R.data.state)&&(m=R.data.key),e.next=95;break;case 93:return console.log("提交失败",R),e.abrupt("break",102);case 95:b.per=E,p.UpdateHardNestedDecodeProgress(u,l,b,f);case 97:if(3==x){e.next=99;break}return e.abrupt("break",102);case 99:E++,e.next=77;break;case 102:if(3!==x){e.next=129;break}case 103:if(!p.IsStop(t)){e.next=106;break}throw p.decode_message.cancel;case 106:return e.next=109,p.TestGetEncryptNoncesAsync(t,0,g?1:0,128,n,c,o,u,l,void 0);case 109:return z=e.sent,_.nonces=z,_.count=z.length/9,_.control=2,e.next=115,(0,r.requestAsync)("POST","CopyKEY/MifareHardNested",_,void 0,3e4);case 115:if(0!==(P=e.sent).code||0!==P.data.nBK){e.next=121;break}2===(x=P.data.state)&&(m=P.data.key),e.next=123;break;case 121:return console.log("提交失败",P),e.abrupt("break",129);case 123:if(3==x){e.next=125;break}return e.abrupt("break",129);case 125:b.per++,p.UpdateHardNestedDecodeProgress(u,l,b,f),e.next=103;break;case 129:if(4!==x){e.next=165;break}O=0,q=0;case 132:if(!p.IsStop(t)){e.next=135;break}throw p.decode_message.cancel;case 135:return _.control=3,_.nonces=[],_.count=0,e.next=140,(0,r.requestAsync)("POST","CopyKEY/MifareHardNested",_,void 0,3e4);case 140:if(0!==(Y=e.sent).code||0!==Y.data.nBK){e.next=158;break}if(O=0,2!==(x=Y.data.state)){e.next=150;break}return m=Y.data.key,console.log("查找到密钥"),e.abrupt("break",165);case 150:if(3!==x){e.next=153;break}return console.log("继续重新提交"),e.abrupt("break",165);case 153:b.state=4,b.per=++q,p.UpdateHardNestedDecodeProgress(u,l,b,f),e.next=159;break;case 158:O++;case 159:if(!(O>5)){e.next=161;break}return e.abrupt("break",165);case 161:return e.next=163,(0,r.sleep)(1e3);case 163:e.next=132;break;case 165:if(2!==x||null===m){e.next=194;break}return L=(0,d.Base64Decode)(m),V=(0,r.string2Hex)(L),console.log(L),e.next=171,p.MifareAuthBatchAsync(t,u,l,V,!0,f);case 171:if(Q=e.sent,console.log(Q),0!==Q.ans){e.next=184;break}return console.log("find key",V),k.ans=Q.ans,k.key=Q.key,_.control=255,_.nonces=[],_.count=0,(0,r.requestAsync)("POST","CopyKEY/MifareHardNested",_,void 0,3e4),e.abrupt("return",k);case 184:if(Q.ans!==i.globalData.data.bluetooth.ble_ans.err_readcard){e.next=194;break}return e.next=187,p.SelectMifareCardAsync(t,s.UID,void 0);case 187:if(0==e.sent.ans){e.next=194;break}throw _.control=255,_.nonces=[],_.count=0,(0,r.requestAsync)("POST","CopyKEY/MifareHardNested",_,void 0,3e4),this.decode_message.card_read_err;case 194:v++,e.next=12;break;case 197:h&&(_.control=255,_.nonces=[],_.count=0,(0,r.requestAsync)("POST","CopyKEY/MifareHardNested",_,void 0,3e4)),e.next=204;break;case 200:throw e.prev=200,e.t0=e.catch(9),h&&(_.control=255,_.nonces=[],_.count=0,(0,r.requestAsync)("POST","CopyKEY/MifareHardNested",_,void 0,3e4)),e.t0;case 204:return e.abrupt("return",k);case 205:case"end":return e.stop()}}),e,this,[[9,200]])}))),function(e,a,t,s,n,r,c,o){return U.apply(this,arguments)})},{key:"TestKnowFileDataAsync",value:(M=t(a().mark((function t(s,n,d,u,l,f){var k,y,_,b,p,h,x,g,m,v,A,D,w,T,S,M,U,I,K,F,C,H,B,N,E,G,R,z,P;return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(k=this,y=new c.cardUtil,_=new o.fileUtil,b=[[255,255,255,255,255,255],[0,0,0,0,0,0],[38,18,198,222,132,202],[112,123,17,252,20,129],[117,204,181,156,155,237],[75,121,27,234,123,204],[92,143,249,153,13,162],[208,26,254,235,137,10],[216,245,226,63,106,123],[160,161,162,163,164,165],[211,247,211,247,211,247]],l&&l.length>0)for(p=0;p<l.length;p++)b=y.AddKey2Lib(b,l[p]);if(d!=k.decode_control.readonly_fast&&i.globalData.data.keyStore.list&&i.globalData.data.keyStore.list.length>0)for(h=0;h<i.globalData.data.keyStore.list.length;h++)x=i.globalData.data.keyStore.list[h].value,6===(g=(0,r.string2Hex)(null!=x?x:[])).length&&(b=y.AddKey2Lib(b,g,-1));m=[],u&&u.length>0&&m.push(u),(v=_.readCardTempFile(n.UID,n.size,y.card_type.MF))&&v.length>0&&m.push(v),A=[],(D=_.readCardTempFile(n.UID,n.size,0))&&D.length>0&&(A=(0,r.bytes2Json)(D)),w=n.num_sectors,T=[],S=y.getMFTagDataEncryptKeys(n.UID,n.size,w),T.push(S),M=i.globalData.data.bluetooth.GetDeviceInfo(s).version,U=this.GetDeviceTEID(M),this.SupportCPUKKey(U)&&(I=y.getCpukIIIKeys(n.UID,n.size,w),T.push(I)),K=0;case 21:if(!(K<w)){a.next=57;break}if(!k.IsStop(s)){a.next=24;break}throw k.decode_message.cancel;case 24:F=y.sectorToFirstBlock(K)+y.numberOfBlocks(K)-1,C=0;case 26:if(!(C<2)){a.next=54;break}if(!k.IsStop(s)){a.next=29;break}throw k.decode_message.cancel;case 29:if(!(n.data[K]&&n.data[K].foundKey&&n.data[K].foundKey[C])){a.next=31;break}return a.abrupt("continue",51);case 31:for(B in H=b.concat(),T)T[B].length>2*K+C&&(H=y.AddKey2Lib(H,T[B][2*K+C]));for(A&&A.length>K&&A[K]&&A[K].keys&&A[K].keys[C]&&A[K].keys[C].length>=6&&(H=y.AddKey2Lib(H,A[K].keys[C])),N=0;N<m.length;N++)if(m[N].length>=16*F+16){for(E=new Array(6),G=0;G<6;G++)E[G]=m[N][16*F+10*C+G];H=y.AddKey2Lib(H,E)}for(R=[],z=0;z<H.length;z++)R.push.apply(R,e(H[z]));if(!(R.length>0)){a.next=51;break}return a.next=40,k.MifareAuthBatchAsync(s,F,C,R,!0,f);case 40:if(0!==(P=a.sent).ans){a.next=46;break}n.data[K].foundKey[C]=!0,n.data[K].keys[C]=P.key,a.next=51;break;case 46:return a.next=48,k.SelectMifareCardAsync(s,n.UID,void 0);case 48:if(0==a.sent.ans){a.next=51;break}throw this.decode_message.card_read_err;case 51:C++,a.next=26;break;case 54:K++,a.next=21;break;case 57:case"end":return a.stop()}}),t,this)}))),function(e,a,t,s,n,r){return M.apply(this,arguments)})},{key:"TestKnowKeysAsync",value:(S=t(a().mark((function e(t,s,n,r){var o,d,i,u,l,f,k;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=this,d=new c.cardUtil,i=s.num_sectors,u=0;case 4:if(!(u<i)){e.next=33;break}if(!o.IsStop(t)){e.next=7;break}throw o.decode_message.cancel;case 7:l=d.sectorToFirstBlock(u)+d.numberOfBlocks(u)-1,f=0;case 9:if(!(f<2)){e.next=30;break}if(!o.IsStop(t)){e.next=12;break}throw o.decode_message.cancel;case 12:if(!(s.data[u]&&s.data[u].foundKey&&s.data[u].foundKey[f])){e.next=14;break}return e.abrupt("continue",27);case 14:return e.next=16,o.MifareAuthBatchAsync(t,l,f,n,!0,r);case 16:if(0!==(k=e.sent).ans){e.next=22;break}s.data[u].foundKey[f]=!0,s.data[u].keys[f]=k.key,e.next=27;break;case 22:return e.next=24,o.SelectMifareCardAsync(t,s.UID,void 0);case 24:if(0==e.sent.ans){e.next=27;break}throw this.decode_message.card_read_err;case 27:f++,e.next=9;break;case 30:u++,e.next=4;break;case 33:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s){return S.apply(this,arguments)})},{key:"TestReadAllKeyBAsync",value:(T=t(a().mark((function e(t,s,n){var r,c,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this,c=s.num_sectors,o=0;case 3:if(!(o<c)){e.next=12;break}if(!r.IsStop(t)){e.next=6;break}throw r.decode_message.cancel;case 6:if(!s.data[o].foundKey[0]||s.data[o].foundKey[1]){e.next=9;break}return e.next=9,r.TestReadKeyBAsync(t,s,o,s.data[o].keys[0],n);case 9:o++,e.next=3;break;case 12:case"end":return e.stop()}}),e,this)}))),function(e,a,t){return T.apply(this,arguments)})},{key:"TestReadKeyBAsync",value:(w=t(a().mark((function e(t,s,n,r,o){var d,u,l,f,k;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=this,u=new c.cardUtil,l=u.sectorToFirstBlock(n)+u.numberOfBlocks(n)-1,e.next=5,d.AuthReadMifareTagBlockAsync(t,s.UID,l,0,r,o);case 5:if(0!==(f=e.sent).ans){e.next=17;break}return k=f.data.slice(10),d.UpdateDecodeKeys(n,1,d.decode_key_color.doing,null,o),e.next=11,i.globalData.data.bluetooth.cmdMifareAuthAsync(t,s.UID,l,1,k,null);case 11:if(0!==e.sent.ans){e.next=17;break}return d.UpdateDecodeKeys(n,1,d.decode_key_color.get,k,o),s.data[n].foundKey[1]=!0,s.data[n].keys[1]=k,e.abrupt("return",!0);case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s,n){return w.apply(this,arguments)})},{key:"TestMagicTagsAsync",value:(D=t(a().mark((function e(t,s,n,r){var c,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=this,e.next=3,c.MifareCIdentAsync(t,0);case 3:if(0==(o=e.sent)){e.next=12;break}if(n!==c.decode_control.format){e.next=8;break}return e.next=8,c.TestDoFormatMagicTagsAsync(t,o,s,r);case 8:return e.next=10,c.ReadMagicTagsAsync(t,o,s,r);case 10:if(!c.is_has_all_password(s)){e.next=12;break}return e.abrupt("return",1);case 12:return e.abrupt("return",0);case 13:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s){return D.apply(this,arguments)})},{key:"GetHFTagData",value:function(a,t,s){var n=[],r=new c.cardUtil;if(a.type===r.card_type.MF){var o=a.data,d=o.num_sectors,i=new Array(6).fill(255),u=new Array(6).fill(255),l=new Array(6).fill(255);if(t&&t.length>=6)for(var f=0;f<6;f++)i[f]=t[f];for(var k=0;k<d;k++){for(var y=0;y<6;y++)u[y]=i[y],l[y]=i[y];if(o.data[k].foundKey[0])for(var _=0;_<6;_++)u[_]=o.data[k].keys[0][_];if(o.data[k].foundKey[1])for(var b=0;b<6;b++)l[b]=o.data[k].keys[1][b];for(var p=0;p<r.numberOfBlocks(k);p++){var h=[];if(o.data[k].data[p]&&o.data[k].data[p].length>0){if(h=o.data[k].data[p],p+1===r.numberOfBlocks(k))for(var x=0;x<6;x++)h[x]=u[x],h[x+10]=l[x]}else{var g=new Array(16).fill(0);if(p+1===r.numberOfBlocks(k)){for(var m=0;m<6;m++)g[m]=u[m],g[m+10]=l[m];g[6]=255,g[7]=7,g[8]=128,g[9]=105}if(0===k&&0===p){for(var v=0;v<o.size;v++)g[v]=o.UID[v];4===o.size?(g[4]=o.UID[0]^o.UID[1]^o.UID[2]^o.UID[3],g[5]=o.SAK,g[6]=o.ATQA>>8&255,g[7]=255&o.ATQA):(g[o.size]=o.SAK,g[o.size+1]=o.ATQA>>8&255,g[o.size+2]=255&o.ATQA)}h=g}n.push.apply(n,e(h))}}}else a.data&&a.data.data&&a.data.data.data&&n.push.apply(n,e(a.data.data.data));return n}},{key:"SendHFTagDataAsync",value:(A=t(a().mark((function t(s,n,o,d,u){var l,f,k,y,_,b,p,h,x,g,m,v,A,D,w;return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(k=this,y=new c.cardUtil,_={ans:-1,data:[],hash:[]},b=n.data,p=new Array(32).fill(0),h=0;h<b.size;h++)p[h]=b.UID[h];if(p[10]=b.size,p[11]=b.ATQA>>8&255,p[12]=255&b.ATQA,p[13]=b.SAK,n.type===y.card_type.MF?p[14]=1:n.type===y.card_type.ULEV1?p[14]=2:p[14]=0,p[15]=b.num_sectors,n.type===y.card_type.ULEV1&&(p[16]=255&b.data.num_blocks,p[17]=b.data.num_blocks>>8&255),p[18]=d,p[19]=0,x=(0,r.crc32)(o),g=(0,r.num_to_bytes)(x),p[20]=g[0],p[21]=g[1],p[22]=g[2],p[23]=g[3],n.type===y.card_type.ULEV1)for(m=0;m<8;m++)p[24+m]=b.data.version[m];return v=p.concat(o),A=i.globalData.data.bluetooth.getDataCheckSum(v),a.next=26,i.globalData.data.bluetooth.cmdSetHFTagDataAsync(s,b.UID,b.size,v.length,A,null);case 26:if(0!==(D=a.sent).ans){a.next=35;break}return w=function(e){if(0===e.ans){var a={data:{progress:e.progress}};k.SendMessage(k.decode_message.test_set_data,a,u)}},a.next=31,i.globalData.data.bluetooth.cmdSetDataAsync(s,D.data,v,k.stop_decoding,w);case 31:if(0===a.sent.ans&&(_.ans=0),!k.IsStop(s)){a.next=35;break}throw k.decode_message.cancel;case 35:return(l=_.data).push.apply(l,e(o)),(f=_.hash).push.apply(f,e(g)),a.abrupt("return",_);case 38:case"end":return a.stop()}}),t,this)}))),function(e,a,t,s,n){return A.apply(this,arguments)})},{key:"GetHFTagDataAsync",value:(v=t(a().mark((function e(t,s,n,r,c,o){var d,u,l,f,k;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u={ans:-1,data:[]},l={data:0},(d=this).SendMessage(d.decode_message.dt_readDeviceTag,l,o),e.next=6,i.globalData.data.bluetooth.cmdGetHFTagDataAsync(t,s,n,r,void 0);case 6:if(0!==(f=e.sent).ans){e.next=13;break}return k=function(e){l.data=e.progress,d.SendMessage(d.decode_message.dt_readDeviceTag,l,o)},e.next=12,i.globalData.data.bluetooth.cmdGetDataAsync(t,f.data.taskID,4128,f.data.checkValue,c,k);case 12:u=e.sent;case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s,n,r){return v.apply(this,arguments)})},{key:"ReadMifareTagAsync",value:(m=t(a().mark((function e(t,s,n,r){var o,d,i,u,l,f,k,y;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=this,d=new c.cardUtil,i=s.num_sectors,u=0;case 4:if(!(u<i)){e.next=25;break}if(!o.IsStop(t)){e.next=7;break}throw o.decode_message.cancel;case 7:return l=d.numberOfBlocks(u),o.UpdateReadTag(u,o.decode_read_color.doing,0,r),e.next=11,o.AuthReadMifareTagSectorAsync(t,s.UID,u,s.data[u],r);case 11:f=e.sent,k=0,y=0;case 14:if(!(y<l)){e.next=21;break}if(!o.IsStop(t)){e.next=17;break}throw o.decode_message.cancel;case 17:f&&f[y]&&f[y].length>0&&(n&&s.data[u].data[y]&&s.data[u].data[y].length>0?y===l-1&&(s.data[u].data[y]=f[y]):s.data[u].data[y]=f[y],k++);case 18:y++,e.next=14;break;case 21:o.UpdateReadTag(u,k===d.numberOfBlocks(u)?o.decode_read_color.get:o.decode_read_color.no_read,0,r);case 22:u++,e.next=4;break;case 25:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s){return m.apply(this,arguments)})},{key:"MifareCIdentAsync",value:(g=t(a().mark((function e(t,s){var n,r,c,o,d,u,l,f,k,y;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,r=0,e.next=4,n.MifareTransmissionShortAsync(t,64,0);case 4:if(c=[64],o=[67],d=[32],u=[35],!(s<=0||1===s||2===s)){e.next=21;break}return e.next=11,n.MifareTransmissionBitAsync(t,c,7);case 11:if(0!==(l=e.sent).ans||4!==l.data.frame||10!==l.data.data[0]){e.next=21;break}if(r=2,2!==s){e.next=16;break}return e.abrupt("return",r);case 16:if(!(s<=0||1===s)){e.next=21;break}return e.next=19,i.globalData.data.bluetooth.cmdTransmissionDataAsync(t,0,4,o,null);case 19:0===(f=e.sent).ans&&4===f.data.frame&&10===f.data.data[0]&&(r=1);case 21:if(!(r<=0&&s<=0||3===s||4===s)){e.next=34;break}return e.next=24,n.MifareTransmissionBitAsync(t,d,7);case 24:if(0!==(k=e.sent).ans||4!==k.data.frame||10!==k.data.data[0]){e.next=34;break}if(r=4,4!==s){e.next=29;break}return e.abrupt("return",r);case 29:if(!(s<=0||3===s)){e.next=34;break}return e.next=32,i.globalData.data.bluetooth.cmdTransmissionDataAsync(t,0,4,u,null);case 32:0===(y=e.sent).ans&&4===y.data.frame&&10===y.data.data[0]&&(r=3);case 34:return e.abrupt("return",r);case 35:case"end":return e.stop()}}),e,this)}))),function(e,a){return g.apply(this,arguments)})},{key:"TestDoFormatMagicTagsAsync",value:(x=t(a().mark((function e(t,s,n,r){var o,d,i,u,l,f,k,y,_;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=this,d=!0,i=new c.cardUtil,u=n.num_sectors,l=0;case 5:if(!(l<u)){e.next=38;break}if(!o.IsStop(t)){e.next=8;break}throw o.decode_message.cancel;case 8:o.UpdateFormatTag(l,o.decode_read_color.formating,3===s&&4===n.size?2:1,r),f=0,k=i.sectorToFirstBlock(l);case 11:if(!(k<i.sectorToFirstBlock(l)+i.numberOfBlocks(l))){e.next=32;break}if(!o.IsStop(t)){e.next=14;break}throw o.decode_message.cancel;case 14:if(y=!1,0!==l||0!==k){e.next=22;break}if(3!==s||4!==n.size){e.next=20;break}y=!0,e.next=22;break;case 20:return f++,e.abrupt("continue",29);case 22:return _=new Array(16),k<i.sectorToFirstBlock(l)+i.numberOfBlocks(l)-1?(_.fill(0),y&&(_[0]=170,_[1]=85,_[2]=195,_[3]=150,_[4]=170,_[5]=8,_[6]=4)):(_.fill(255),_[6]=255,_[7]=7,_[8]=128,_[9]=105),e.next=26,o.MifareCSetBlockAsync(t,d,s,k,_,r);case 26:0===e.sent.ans&&f++,d=!1;case 29:k++,e.next=11;break;case 32:if(o.UpdateFormatTag(l,f===i.numberOfBlocks(l)?o.decode_read_color.format_succ:o.decode_read_color.format_fail,3===s&&4===n.size?2:1,r),!(f<i.numberOfBlocks(l))){e.next=35;break}return e.abrupt("break",38);case 35:l++,e.next=5;break;case 38:return e.abrupt("return",n);case 39:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s){return x.apply(this,arguments)})},{key:"ReadMagicTagsAsync",value:(h=t(a().mark((function e(t,s,n,r){var o,d,i,u,l,f,k,y;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=this,d=!0,i=new c.cardUtil,u=n.num_sectors,l=0;case 5:if(!(l<u)){e.next=39;break}if(!o.IsStop(t)){e.next=8;break}throw o.decode_message.cancel;case 8:o.UpdateReadTag(l,o.decode_read_color.doing,3===s&&4===n.size?2:1,r),f=0,k=i.sectorToFirstBlock(l);case 11:if(!(k<i.sectorToFirstBlock(l)+i.numberOfBlocks(l))){e.next=27;break}if(!o.IsStop(t)){e.next=14;break}throw o.decode_message.cancel;case 14:return e.next=16,o.MifareCGetBlockAsync(t,d,s,k);case 16:if(0!==(y=e.sent).ans){e.next=22;break}n.data[l].data[f++]=y.data,k===i.sectorToFirstBlock(l)+i.numberOfBlocks(l)-1&&(n.data[l].keys[0]=y.data.slice(0,6),n.data[l].keys[1]=y.data.slice(10,16)),e.next=23;break;case 22:return e.abrupt("break",27);case 23:d=!1;case 24:k++,e.next=11;break;case 27:if(o.UpdateReadTag(l,f===i.numberOfBlocks(l)?o.decode_read_color.get:o.decode_read_color.no_read,3===s&&4===n.size?2:1,r),f!==i.numberOfBlocks(l)){e.next=33;break}n.data[l].foundKey[0]=!0,n.data[l].foundKey[1]=!0,e.next=36;break;case 33:return n.data[l].foundKey[0]=!1,n.data[l].foundKey[1]=!1,e.abrupt("break",39);case 36:l++,e.next=5;break;case 39:return e.abrupt("return",n);case 40:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s){return h.apply(this,arguments)})},{key:"MifareCGetBlockAsync",value:(p=t(a().mark((function e(t,s,n,r){var c,o,d,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=this,o={ans:-1,data:[]},d=0,!s){e.next=7;break}return e.next=6,c.MifareCIdentAsync(t,n);case 6:d=e.sent;case 7:if(s&&d!==n){e.next=12;break}return e.next=10,c.MifareTransmissionShortAsync(t,48,r);case 10:0===(i=e.sent).ans&&(o.ans=0,o.data=i.data.data.slice(0,16));case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s){return p.apply(this,arguments)})},{key:"MifareCSetBlockAsync",value:(b=t(a().mark((function e(t,s,n,r,c){var o,d,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this,d={ans:-1,data:[]},u=0,!s){e.next=7;break}return e.next=6,o.MifareCIdentAsync(t,n);case 6:u=e.sent;case 7:if(s&&u!==n){e.next=16;break}return e.next=10,o.MifareTransmissionShortAsync(t,160,r);case 10:if(0!==e.sent.ans){e.next=16;break}return e.next=14,i.globalData.data.bluetooth.cmdTransmissionDataAsync(t,0,5,c,null);case 14:l=e.sent,d.ans=l.ans;case 16:return e.abrupt("return",d);case 17:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s,n){return b.apply(this,arguments)})},{key:"MifareAuthAsync",value:(_=t(a().mark((function e(t,s,n,r,o,d){var u,l,f,k,y;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u={ans:-1,data:0},e.next=3,this.SelectMifareCardAsync(t,s,void 0);case 3:if(0!==(l=e.sent).ans){e.next=15;break}return f=new c.cardUtil,k=f.blockToSector(n),this.UpdateDecodeKeys(k,r,this.decode_key_color.doing,null,d),e.next=10,i.globalData.data.bluetooth.cmdMifareAuthAsync(t,s,n,r,o,d);case 10:y=e.sent,u.ans=y.ans,this.UpdateDecodeKeys(k,r,0===y.ans?this.decode_key_color.get:this.decode_key_color.no_found,o,d),e.next=17;break;case 15:throw u.ans=l.ans,this.decode_message.card_read_err;case 17:return e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s,n,r){return _.apply(this,arguments)})},{key:"AuthFormatMifareTagSectorAsync",value:(y=t(a().mark((function e(t,s,n,r,o){var d,u,l,f,k,y,_,b,p,h,x,g,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=this,u=new c.cardUtil,l={ans:-1,data:0},f=!0,k=0,y=u.sectorToFirstBlock(n),_=y+u.numberOfBlocks(n)-1,b=0;case 8:if(!(b<2)){e.next=57;break}if(!d.IsStop(t)){e.next=11;break}throw d.decode_message.cancel;case 11:if(!r.foundKey[1-b]){e.next=54;break}for(p=new Array(6),h=0;h<6;h++)p[h]=r.keys[1-b][h];x=0;case 15:if(!(x<u.numberOfBlocks(n))){e.next=51;break}if(!d.IsStop(t)){e.next=18;break}throw d.decode_message.cancel;case 18:if(0!==n||x!==u.numberOfBlocks(n)-1){e.next=20;break}return e.abrupt("continue",48);case 20:if(!f){e.next=25;break}return e.next=23,d.MifareAuthAsync(t,s,_-x,1-b,p,void 0);case 23:0===e.sent.ans&&(f=!1);case 25:if(f){e.next=48;break}return g=new Array(16),x>0?g.fill(0):(g.fill(255),g[6]=255,g[7]=7,g[8]=128,g[9]=105),e.next=30,i.globalData.data.bluetooth.cmdMifareWriteBlockAsync(t,_-x,g,null);case 30:if(0!==e.sent.ans){e.next=46;break}if(0!==x){e.next=43;break}p.fill(255),m=0;case 35:if(!(m<2)){e.next=43;break}return e.next=38,i.globalData.data.bluetooth.cmdMifareAuthAsync(t,s,_-x,m,p,void 0);case 38:0===e.sent.ans?r.keys[m]=p:f=!0;case 40:m++,e.next=35;break;case 43:k++,e.next=48;break;case 46:console.log("失败",n,x,b),f=!0;case 48:x++,e.next=15;break;case 51:if(k!==(0===n?u.numberOfBlocks(n)-1:u.numberOfBlocks(n))){e.next=54;break}return l.ans=0,e.abrupt("break",57);case 54:b++,e.next=8;break;case 57:return l.data=k,e.abrupt("return",l);case 59:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s,n){return y.apply(this,arguments)})},{key:"AuthReadMifareTagSectorAsync",value:(k=t(a().mark((function e(t,s,n,r,o){var d,u,l,f,k,y,_,b,p,h,x;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=this,u=new c.cardUtil,l=!0,f=0,k=u.sectorToFirstBlock(n),y=u.numberOfBlocks(n),_=new Array(y),b=0;case 8:if(!(b<2)){e.next=37;break}if(!d.IsStop(t)){e.next=11;break}throw d.decode_message.cancel;case 11:if(!r.foundKey[1-b]){e.next=34;break}p=0;case 13:if(!(p<y)){e.next=32;break}if(!d.IsStop(t)){e.next=16;break}throw d.decode_message.cancel;case 16:if(!(_[p]&&_[p].length>0)){e.next=19;break}return console.log("该块已读取"),e.abrupt("continue",29);case 19:if(!l){e.next=24;break}return e.next=22,d.MifareAuthAsync(t,s,k+p,1-b,r.keys[1-b],void 0);case 22:0===e.sent.ans&&(l=!1);case 24:if(l){e.next=29;break}return e.next=27,i.globalData.data.bluetooth.cmdMifareReadBlockAsync(t,k+p,null);case 27:if(0===(h=e.sent).ans){if(f++,_[p]=h.data,p===y-1)for(x=0;x<6;x++)_[p][x]=r.foundKey[0]?r.keys[0][x]:255,_[p][x+10]=r.foundKey[1]?r.keys[1][x]:255}else l=!0;case 29:p++,e.next=13;break;case 32:if(f!==y){e.next=34;break}return e.abrupt("break",37);case 34:b++,e.next=8;break;case 37:return e.abrupt("return",_);case 38:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s,n){return k.apply(this,arguments)})},{key:"AuthReadMifareTagBlockAsync",value:(f=t(a().mark((function e(t,s,n,r,c,o){var d,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d={ans:-1,data:[]},e.next=3,this.SelectMifareCardAsync(t,s,void 0);case 3:if(0!==(u=e.sent).ans){e.next=15;break}return e.next=7,this.MifareAuthAsync(t,s,n,r,c,void 0);case 7:if(0!==e.sent.ans){e.next=13;break}return e.next=11,i.globalData.data.bluetooth.cmdMifareReadBlockAsync(t,n,null);case 11:l=e.sent,d=l;case 13:e.next=17;break;case 15:throw d.ans=u.ans,this.decode_message.card_read_err;case 17:return e.abrupt("return",d);case 18:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s,n,r){return f.apply(this,arguments)})},{key:"MifareAuthBatchAsync",value:(l=t(a().mark((function e(t,s,n,r,o,d){var u,l,f,k,y,_,b,p,h,x;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u={ans:-1,block:s,type:n,key:[]},l=new c.cardUtil,f=l.blockToSector(s),o&&this.UpdateDecodeKeys(f,n,this.decode_key_color.doing,null,d),k=Math.floor(r.length/6),y=Math.floor((k+28)/29),_=0,b=0;case 8:if(!(b<y)){e.next=29;break}if(!this.IsStop(t)){e.next=11;break}throw this.decode_message.cancel;case 11:return p=k-_>29?29:k-_,h=r.slice(6*_,6*_+6*p),e.next=15,i.globalData.data.bluetooth.cmdMifareAuthBatchAsync(t,s,n,h,null);case 15:if(0!==(x=e.sent).ans){e.next=22;break}return u.ans=0,u.key=x.data.key,e.abrupt("break",29);case 22:if(u.ans=x.ans,x.ans!==i.globalData.data.bluetooth.ble_ans.err_readcard){e.next=25;break}return e.abrupt("break",29);case 25:_+=p;case 26:b++,e.next=8;break;case 29:return(o||0===u.ans)&&this.UpdateDecodeKeys(f,n,0===u.ans?this.decode_key_color.get:this.decode_key_color.no_found,u.key,d),e.abrupt("return",u);case 31:case"end":return e.stop()}}),e,this)}))),function(e,a,t,s,n,r){return l.apply(this,arguments)})},{key:"HasDefaultPasswordAsync",value:(u=t(a().mark((function e(t,s,n){var r,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,c=[255,255,255,255,255,255,0,0,0,0,0,0,38,18,198,222,132,202,112,123,17,252,20,129,117,204,181,156,155,237,75,121,27,234,123,204,92,143,249,153,13,162,208,26,254,235,137,10,160,161,162,163,164,165,211,247,211,247,211,247],e.next=4,r.TestKnowKeysAsync(t,s,c,n);case 4:case"end":return e.stop()}}),e,this)}))),function(e,a,t){return u.apply(this,arguments)})},{key:"UpdateDecodeKeys",value:function(e,a,t,s,n){var r={data:{sector:e,type:a,control:t,key:s}};this.SendMessage(this.decode_message.test_mf_key,r,n)}},{key:"UpdateReadTag",value:function(e,a,t,s){var n={data:{sector:e,control:a,gen:t}};this.SendMessage(this.decode_message.test_mf_read,n,s)}},{key:"UpdateFormatTag",value:function(e,a,t,s){var n={data:{sector:e,control:a,gen:t}};this.SendMessage(this.decode_message.test_mf_format,n,s)}},{key:"UpdateDecodeProgress",value:function(e,a,t){var s={data:{sector:e,type:a,control:this.decode_key_color.decoding}};this.SendMessage(this.decode_message.test_mf_decoding,s,t)}},{key:"UpdateDarksideDecodeProgress",value:function(e,a){var t={data:{sector:0,type:0,data:e}};this.SendMessage(this.decode_message.test_mf_darkside,t,a)}},{key:"UpdateAuthKeysProgress",value:function(e,a,t,s,n){var r={data:{sector:(new c.cardUtil).blockToSector(e),type:a,data:t}};this.SendMessage(s,r,n)}},{key:"UpdateNestedDecodeProgress",value:function(e,a,t,s){var n={data:{sector:(new c.cardUtil).blockToSector(e),type:a,data:t}};this.SendMessage(this.decode_message.test_mf_nested,n,s)}},{key:"UpdateHardNestedDecodeProgress",value:function(e,a,t,s){var n={data:{sector:(new c.cardUtil).blockToSector(e),type:a,data:t}};this.SendMessage(this.decode_message.test_mf_C50,n,s)}},{key:"SendMessage",value:function(e,a,t){"function"==typeof t&&t({msg:e,data:a})}},{key:"SetDecoding",value:function(e,a){this.stop_decoding.stop=!a,this.stop_decoding.state=a?1:2,this.stop_decoding.stop&&i.globalData.data.bluetooth.StopBLERecvAsync(e)}},{key:"SetDecoded",value:function(){this.stop_decoding.stop=!0,this.stop_decoding.state=0}},{key:"IsStop",value:function(e){return i.globalData.data.bluetooth.BLE.connectedDevices[e]&&i.globalData.data.bluetooth.BLE.connectedDevices[e].connectStatus?this.stop_decoding.stop:(console.log(":蓝牙断开,退出正在运行的程序"),!0)}},{key:"SupportSimulateTag",value:function(e){return e!==this.device_model.copykey_mini_se&&e!==this.device_model.copykey_mini_std}},{key:"SupportDetectionTag",value:function(e){return e!==this.device_model.copykey_mini_se&&e!==this.device_model.copykey_mini_std}},{key:"SupportWriteOffsetFreqIDTag",value:function(e){return e!==this.device_model.copykey_mini_se&&e!==this.device_model.copykey_mini_std}},{key:"SupportWriteULEV1",value:function(e){return e!==this.device_model.copykey_mini_se&&e!==this.device_model.copykey_mini_std&&e!==this.device_model.copykey_mini_plus}},{key:"SupportWriteSIDGID",value:function(e){return e!==this.device_model.copykey_mini_se&&e!==this.device_model.copykey_mini_std&&e!==this.device_model.copykey_mini_plus}},{key:"SupportWrite4KTag",value:function(e){return e!==this.device_model.copykey_mini_se&&e!==this.device_model.copykey_mini_std&&e!==this.device_model.copykey_mini_plus}},{key:"SupportWrite7BTag",value:function(e){return e!==this.device_model.copykey_mini_se&&e!==this.device_model.copykey_mini_std&&e!==this.device_model.copykey_mini_plus}},{key:"SupportCPUKKey",value:function(e){return e!==this.device_model.copykey_mini_se&&e!==this.device_model.copykey_mini_std&&e!==this.device_model.copykey_mini_plus}},{key:"SupportDetectionNested",value:function(e){return e!==this.device_model.copykey_mini_se&&e!==this.device_model.copykey_mini_std&&e!==this.device_model.copykey_mini_plus}},{key:"CanShutDown",value:function(e){return!!(e&&e.length>=6)&&256*e[0]+e[1]!=this.device_model.copykey_mini_se}},{key:"SupportNFCTag",value:function(e){return e==this.device_model.copykey_mini_pro}}]);var u,l,f,k,y,_,b,p,h,x,g,m,v,A,D,w,T,S,M,U,I,K,F,C,H,B,N,E,G,R,z,P,O,q,Y,L,V,Q,W,J,j,X,Z,$,ee,ae,te,se,ne,re,ce,oe,de}();
},{isPage:false,isComponent:false,currentFile:'utils/deviceUtil.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("utils/fileUtil.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fileUtil=void 0;var e=require("../@babel/runtime/helpers/classCallCheck"),r=require("../@babel/runtime/helpers/createClass"),t=require("./util"),i=null;exports.fileUtil=function(){return r((function r(){e(this,r),i=wx.getFileSystemManager()}),[{key:"access",value:function(e){null===i&&(i=wx.getFileSystemManager());try{return i.accessSync(e),!0}catch(e){return!1}}},{key:"mkdir",value:function(e){null===i&&(i=wx.getFileSystemManager());try{return i.mkdirSync(e,!0),!0}catch(e){return!1}}},{key:"rmdir",value:function(e,r){null===i&&(i=wx.getFileSystemManager());try{var t=i.rmdirSync(e,r);console.log(t)}catch(e){console.error(e)}}},{key:"readdir",value:function(e){null===i&&(i=wx.getFileSystemManager());try{return i.readdirSync(e)}catch(e){}return null}},{key:"stat",value:function(e,r){null===i&&(i=wx.getFileSystemManager());try{return i.statSync(e,r)}catch(e){}return null}},{key:"writeFile",value:function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex";null===i&&(i=wx.getFileSystemManager());try{i.writeFileSync(e,r.buffer,t);return!0}catch(e){return!1}}},{key:"readFile",value:function(e,r){null===i&&(i=wx.getFileSystemManager());try{return i.readFileSync(e,r)}catch(e){}return null}},{key:"removeSavedFile",value:function(e,r,t,n){null===i&&(i=wx.getFileSystemManager()),i.unlink({filePath:e,success:function(e){"function"==typeof r&&r(e)},fail:function(e){"function"==typeof t&&t(e)},complete:function(e){"function"==typeof n&&n(e)}})}},{key:"writeCardTempFile",value:function(e,r,i,n){var l=(0,t.hex2string)(e,r);if(1===i)l+=".dump";else if(3===i)l+=".ulev1";else if(0===i)l+=".ict";else if(16===i)l+=".key";else{if(32!==i)return!1;l+=".tkey"}return this.writeTempFile(l,n)}},{key:"writeTempFile",value:function(e,r){var t="".concat(wx.env.USER_DATA_PATH,"/Temp");if(this.access(t)||this.mkdir(t),this.access(t)){var i=t+"/"+e,n=new Uint8Array(r);if(this.writeFile(i,n,"hex"))return!0}return!1}},{key:"readCardTempFile",value:function(e,r,i){var n=(0,t.hex2string)(e,r);if(1===i)n+=".dump";else if(3===i)n+=".ulev1";else if(0===i)n+=".ict";else if(16===i)n+=".key";else{if(32!==i)return[];n+=".tkey"}return this.readTempFile(n)}},{key:"readTempFile",value:function(e){var r="".concat(wx.env.USER_DATA_PATH,"/Temp");if(this.access(r)){var t=r+"/"+e;if(this.access(t)){var i=this.readFile(t,"");if(i)return Array.prototype.slice.call(new Uint8Array(i))}}return[]}},{key:"removeCardTempFile",value:function(e,r,i){var n=(0,t.hex2string)(e,r);if(1===i)n+=".dump";else if(3===i)n+=".ulev1";else if(0===i)n+=".ict";else if(16===i)n+=".key";else{if(32!==i)return!1;n+=".tkey"}return this.removeTempFile(n)}},{key:"removeTempFile",value:function(e){var r="".concat(wx.env.USER_DATA_PATH,"/Temp");if(this.access(r)){var t=r+"/"+e;return this.access(t)&&this.removeSavedFile(t),!0}return!1}}])}();
},{isPage:false,isComponent:false,currentFile:'utils/fileUtil.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("utils/util.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.uuid2Mac=exports.unsignature=exports.timestamp=exports.stringIsEmpty=exports.string2byte=exports.string2HexByte=exports.string2Hex=exports.string2DecByte=exports.sleep=exports.signature=exports.requestAsync=exports.request=exports.readDownloadFile=exports.rc4=exports.num_to_bytes=exports.memcmp=exports.json2Bytes=exports.isURL=exports.isPhoneNumber=exports.isNumber=exports.isMac=exports.isLocation=exports.isEmail=exports.isAppName=exports.https_code=exports.hex2string=exports.getUUID=exports.formatTime=exports.errorMsg=exports.downloadFile=exports.crc32=exports.bytes_to_num=exports.bytes2Json=exports.byte2string=exports.byte2bits=exports.byte2HexString=exports.bits2byte=exports.ab2hex=exports.RC4_Crypt_UnLength=void 0;var e=require("../@babel/runtime/helpers/toConsumableArray"),r=require("../@babel/runtime/helpers/regeneratorRuntime"),t=require("../@babel/runtime/helpers/asyncToGenerator"),n=require("../@babel/runtime/helpers/typeof"),s=require("../miniprogram_npm/ts-md5/index"),o=require("./aes_util"),a=require("./fileUtil"),i=exports.https_code={sys_error:-1,net_error:-2,success:0,analys_err_data:10,file_path_err:11,account_error:100,password_error:101,no_data:102,has_samedata:103,account_has_be_used:104,account_no_signup:105,verify_code_error:106,verify_code_nofound:107,verify_code_timeout:108,verify_code_error_toomany:109,verify_code_error_senderror:110,analysis_error:200,database_error:201,ble_no_signup:300,ble_has_signup:301,httpGet_error:1e3,httpPost_error:1001,jsapi_ticket_regain:5e4,jsapi_ticket_error:50001,jsapi_sinature_error:50002},u=(exports.getUUID=function(){var e=new Array(8),r=new Date;return e[0]=255&r.getFullYear(),e[1]=r.getMonth()+1,e[2]=r.getDate(),e[3]=r.getHours(),e[4]=r.getMinutes(),e[5]=r.getSeconds(),e[6]=255&r.getMilliseconds(),e[7]=Math.floor(255*Math.random()),e},exports.formatTime=function(e){var r=e.getFullYear(),t=e.getMonth()+1,n=e.getDate(),s=e.getHours(),o=e.getMinutes(),a=e.getSeconds();return[r,t,n].map(f).join("/")+" "+[s,o,a].map(f).join(":")},exports.isAppName=function(e){return/^([a-z][a-zA-Z0-9_\.]+)$/.test(e)},exports.isLocation=function(e){return/^\d{1,8}\.\d{1,8}$/.test(e)},exports.isMac=function(e){return/^([0-9A-Fa-f]{2}:){5}[0-9A-Fa-f]{2}$/.test(e)},exports.isURL=function(e){return/^((http|https|ftp|sftp|file|rtsp|telnet|smb|nfs|dav|btspp):\/\/)?((([a-zA-Z0-9-.]+\.[A-Za-z]{2,})(\/[a-zA-Z0-9-_.]+)*)|(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))(:[0-9]+)?\/?(\?[\S]+)?$/.test(e)},exports.isNumber=function(e){return/^[\d\*#\x2B\x2C\x3B]*$/.test(e)},exports.isPhoneNumber=function(e){var r=/^[1][3,4,5,7,8,9][0-9]{9}$/.test(e);return r},exports.isEmail=function(e){var r=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(e);return r},exports.timestamp=function(){var e=(new Date).getTime();return e}),c=(exports.byte2bits=function(e){for(var r=new Array(8),t=0;t<8;t++)r[7-t]=e>>t&1;return r},exports.bits2byte=function(e){for(var r=0,t=0;t<e.length;t++)r|=e[t]<<e.length-t-1;return r},exports.signature=function(e){var r=JSON.stringify(e),t=u(),n=(0,o.AesEncryptECB)(r);return{data:n,time_stamp:t,signature:s.Md5.hashStr(n+t.toString())}}),p=exports.unsignature=function(e,r,t){var n=e+t;return s.Md5.hashStr(n).toUpperCase()===r.toUpperCase()?(0,o.AesDecryptECB)(e):""},f=(exports.stringIsEmpty=function(e){return null===n(e)||""===e||void 0===e||e.length<=0},exports.errorMsg=function(e,r){var t="";switch(e){case 100:case 101:t="账号/密码错误";break;case 102:t="数据不存在";break;case 103:t="数据已存在";break;case 104:t="该账号已被使用";break;case 105:t="该账号未注册";break;case 106:t="验证码错误";break;case 107:t="验证码不存在";break;case 108:case 109:t="验证码过期";break;case 110:t="验证码发送错误";break;case 200:t="数据解析错误";break;case 201:t="数据异常";break;case 202:t="数据格式错误";break;default:t=e.toString()}return t},exports.string2DecByte=function(e){for(var r=new Array,t=e.length,n=0;n<t;n++){var s=e.charAt(n),o=e.charCodeAt(n),a=0;s>="0"&&s<="9"?(a=o-48,r.push(a)):n+1===t&&" "===s&&r.push(o)}return r},exports.string2HexByte=function(e){for(var r=new Array,t=e.length,n=0;n<t;n++){var s=e.charAt(n),o=e.charCodeAt(n),a=0;(s>="0"&&s<="9"||s>="a"&&s<="f"||s>="A"&&s<="F")&&(s>="0"&&s<="9"?a=o-48:s>="a"&&s<="f"?a=o-97+10:s>="A"&&s<="F"&&(a=o-65+10),r.push(a))}return r},exports.string2Hex=function(e){for(var r=new Array,t=0,n=0,s=e.length,o=0;o<s;o++){var a=e.charAt(o),i=e.charCodeAt(o),u=0;a>="0"&&a<="9"||a>="a"&&a<="f"||a>="A"&&a<="F"?(a>="0"&&a<="9"?u=i-48:a>="a"&&a<="f"?u=i-97+10:a>="A"&&a<="F"&&(u=i-65+10),t=16*t+u,(++n>=2||o+1>=s)&&(r.push(t),n=0,t=0)):n>0&&(r.push(t),n=0,t=0)}return r},exports.byte2string=function(e){for(var r="",t=0;t<e.length&&0!==e[t];t++)r+=String.fromCharCode(e[t]);return r},exports.string2byte=function(e){for(var r=[],t=0;t<e.length;t++){var n=e[t].charCodeAt(0);r.push(n)}return r},exports.hex2string=function(e,r){for(var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n="",s=r>e.length?e.length:r,o=0;o<s;o++){var a=("00"+e[o].toString(16)).slice(-2);n+=(o>0&&t?" ":"")+a}return n.toUpperCase()},exports.byte2HexString=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n="",s=e.length,o=r>0?r:1;o*=2;for(var a=Math.ceil(s/o),i=0;i<a;i++){for(var u=!0,c=0;c<o;c++)if(i*o+c<s){e[i*o+c]>15?n+=" ":n+=(t&&c>0&&c%2==0?" ":"")+e[i*o+c].toString(16)}else u=!1;u&&a>1&&(n+="\n")}return(n=n.trim()).toUpperCase()},exports.num_to_bytes=function(e){for(var r=new Array(4),t=0;t<4;t++)r[t]=255&e,e>>=8;return r},exports.bytes_to_num=function(e){for(var r=0,t=e.length,n=0;n<t;n++)r=r<<8|e[t-n-1];return r},exports.json2Bytes=function(e){for(var r=JSON.stringify(e),t=new Uint8Array(r.length),n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t},exports.bytes2Json=function(e){for(var r="",t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return JSON.parse(r)},exports.memcmp=function(e,r,t){if(null!=e&&null!=r){var n=Math.min(t,r.length);if(e.length<n)return-1;for(var s=0;s<n;s++)if(e[s]!=r[s])return-1;return 0}return-1},function(e){var r=e.toString();return r[1]?r:"0"+r}),l=(exports.readDownloadFile=function(e,r){var t={code:i.sys_error,success:!1,errmsg:"数据异常",data:{filePath:"",dataLength:0}},n=new a.fileUtil,s=e,o=null;if(n.access(s)&&(o=n.readFile(s,"utf8"))){var u=JSON.parse(o);if(u&&u.data&&u.signature&&u.time_stamp){var c=p(u.data,u.signature,u.time_stamp);c.length>0?t=JSON.parse(c):(t.code=i.analys_err_data,t.success=!1,t.errmsg="解析数据空")}else t.code=i.analys_err_data,t.success=!1,t.errmsg="解析数据异常"}else t.code=i.file_path_err,t.success=!1,t.errmsg="下载文件异常";return t},exports.downloadFile=function(e,r,t,n,s,o){var a={code:i.sys_error,success:!1,errmsg:"数据异常",data:{filePath:"",dataLength:0}},u=c(r),p=u.data;p=(p=p.replace(/\+/g,"%2B")).replace(/\=/g,"%3D");var f=wx.downloadFile({url:"https://copykey.hyctec.cn/"+e+"?data="+p+"&time_stamp="+u.time_stamp+"&signature="+u.signature,header:{"Content-Type":"application/json"},success:function(e){200===e.statusCode?(a.code=0,a.success=!0,a.errmsg="下载成功",a.data.dataLength=e.dataLength,a.data.filePath=e.tempFilePath):(a.code=i.analys_err_data,a.success=!1,a.errmsg="下载数据失败"+e.statusCode),"function"==typeof t&&t(a)},fail:function(e){a.code=i.net_error,a.success=!1,a.errmsg=e.errMsg,"function"==typeof n&&n(a)},complete:function(e){"function"==typeof s&&s(e)}});if("function"==typeof o){f.onProgressUpdate((function(e){o(e)}))}return f},exports.requestAsync=function(){var e=t(r().mark((function e(t,n,s,o,a){var u,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u=null,e.next=4,new Promise((function(e){u=l(t,n,s,(function(r){e(r)}),(function(r){e(r)}),void 0,a),"function"==typeof o&&o(u,0)}));case 4:return c=e.sent,"function"==typeof o&&o(u,1),e.abrupt("return",c);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return"function"==typeof o&&o(void 0,-1),e.abrupt("return",{code:i.sys_error,success:!1,errmsg:"数据异常"});case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r,t,n,s,o){return e.apply(this,arguments)}}(),exports.request=function(e,r,t,n,s,o,a){var u={code:i.sys_error,success:!1,errmsg:"数据异常"},f=c(t);return wx.request({url:"https://copykey.hyctec.cn/"+r,data:f,header:{"content-type":"GET"===e?"application/json":"application/x-www-form-urlencoded"},method:e,timeout:a&&a>0?a:6e4,success:function(e){if(200===e.statusCode&&e.data&&e.data.data&&e.data.signature&&e.data.time_stamp){var r=p(e.data.data,e.data.signature,e.data.time_stamp);if(r.length>0){var t=JSON.parse(r);u=t}else u.code=i.analys_err_data,u.success=!1,u.errmsg="解析数据空"}else u.code=i.analys_err_data,u.success=!1,u.errmsg="解析数据异常"+e.statusCode;"function"==typeof n&&n(u)},fail:function(e){u.code=i.net_error,u.success=!1,u.errmsg=e.errMsg,console.log(e),"function"==typeof s&&s(u)},complete:function(e){"function"==typeof o&&o(e)}})}),g=exports.rc4=function(e,r){if(r.length<=0||e.length<=0)return null;var t=new Array(256),n=new Array(256),s=0,o=0;for(s=0;s<256;s++)t[s]=s,n[s]=r[s%r.length];for(s=o=0;s<256;s++){o=(o+t[s]+n[s])%256;var a=t[s];t[s]=t[o],t[o]=a}s=o=0;for(var i=new Array(e.length),u=0;u<e.length;u++){o=(o+t[s=(s+1)%256])%256;var c=t[s];t[s]=t[o],t[o]=c;var p=e[u]^t[(t[s]+t[o])%256];i[u]=p}return i};exports.RC4_Crypt_UnLength=function(r,t){if(t.length<=0||r.length<=0)return null;for(var n=[],s=r.length,o=0;!(o>=s);){var a=o+64>s?s-o:64,i=r.slice(o,o+a),u=g(i,t);if(null===u)break;n.push.apply(n,e(u)),o+=a}return n},exports.crc32=function(e){for(var r=[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188],t=4294967295,n=0;n<e.length;n++)t=t<<8^r[255&(t>>24^e[n])],t&=4294967295;return t},exports.ab2hex=function(e){return Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("")},exports.uuid2Mac=function(e){if(e){var r=e.slice(3,9),t=Array.prototype.map.call(new Uint8Array(r),(function(e){return("00"+e.toString(16)).slice(-2)})).join(":");return t=t.toUpperCase()}return""},exports.sleep=function(e){return new Promise((function(r){setTimeout(r,e)}))};
},{isPage:false,isComponent:false,currentFile:'utils/util.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("app.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("@babel/runtime/helpers/typeof"),a=require("@babel/runtime/helpers/objectSpread2"),e=require("./utils/bluetooth_util"),o=require("./utils/util"),i=function(t,a){if(!a&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n(a);if(e&&e.has(t))return e.get(t);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var l=i?Object.getOwnPropertyDescriptor(t,r):null;l&&(l.get||l.set)?Object.defineProperty(o,r,l):o[r]=t[r]}o.default=t,e&&e.set(t,o);return o}(require("tdesign-miniprogram/toast/index"));function n(t){if("function"!=typeof WeakMap)return null;var a=new WeakMap,e=new WeakMap;return(n=function(t){return t?e:a})(t)}App({globalData:{miniapp:{update:!1,app_version:"1.0.0.1.240926"},is_debug:!1,height:0,width:0,eLanguage:{zh_CN:1,zh_TW:2,en_US:3},tab:{list:[{value:"tab_device",label:"设备",icon:"mobile",dot:!1},{value:"tab_cardhub",label:"卡包",icon:"folder-open",dot:!1},{value:"tab_my",label:"我的",icon:"user",dot:!1}],instance:[]},data:{cardHubs:{list:[],Index:0,totalCount:0,sync:!1,init:!0},keyStore:{list:[],total:64,localName:"keystore.key"},bluetooth:new e.bluetoothUtil,devices:{deviceId:"",update:!1,in_blacklist:-1}}},onShow:function(){wx.setKeepScreenOn({keepScreenOn:!0})},onLaunch:function(){var t=this.getSystemInfo();this.globalData.height=t.windowHeight-t.bottomSafeHeight,this.globalData.width=t.windowWidth,this.loadKeyStore()},getMiniAppUpdate:function(t){var a=this,e=wx.getUpdateManager();e.onCheckForUpdate((function(o){null!=t&&(a.globalData.miniapp.update=o.hasUpdate,a.SetTabBarBadge(t,"tab_my",a.globalData.miniapp.update)),o.hasUpdate&&e.onUpdateReady((function(){wx.showModal({title:"更新提示",content:"发现新版本，是否重启应用？",confirmText:"立即重启",cancelText:"暂不重启",success:function(t){t.confirm?e.applyUpdate():t.cancel}})}))})),e.onUpdateFailed((function(t){console.error(t)}))},getSystemInfo:function(){var t=wx.getSystemInfoSync(),e=a(a({},t),{},{bottomSafeHeight:0,isIphoneX:!1,isMi:!1,isIphone:!1,isIpad:!1,isIOS:!1,isHeightPhone:!1,navbarHeight:0,tabbarHeight:0,headerHeight:0,pageWidth:0,pageHeight:0,the1rpx:0}),o=e.model,i=e.system;-1==o.search("iPhone X")&&-1==o.search("iPhone 11")||(e.isIphoneX=!0),-1!=o.search("MI")&&(e.isMi=!0),-1!=o.search("iPhone")&&(e.isIphone=!0),o.search("iPad")>-1&&(e.isIpad=!0);var n=e.screenWidth,r=e.screenHeight;n=Math.min(n,r),r=Math.max(n,r),Math.abs(r/n-1.33333)<.01&&(e.isIpad=!0),(e.isIphone||i.indexOf("iOS")>-1)&&(e.isIOS=!0),640/375*e.screenWidth/(1e3/667*e.screenHeight)<.64&&(e.isHeightPhone=!0),e.isIOS||(e.bottomSafeHeight=0);var l=wx.getMenuButtonBoundingClientRect(),s=4*(l.top-e.statusBarHeight)+l.height;e.capsuleInfo=l;var h=e.safeArea,d=Math.max(e.screenHeight,e.screenWidth),c=Math.max(h.height,h.width),u=e.statusBarHeight;h&&c&&d&&(e.bottomSafeHeight=d-c-u,e.bottomSafeHeight<0&&(e.bottomSafeHeight=0)),e.headerHeight=u+s,e.navbarHeight=s,e.pageWidth=e.windowWidth,e.pageHeight=e.windowHeight-e.bottomSafeHeight;var g=e.screenHeight-e.safeArea.bottom,b=e.pageWidth/750;return e.tabbarHeight=Number(g)+112*b,e.the1rpx=b,e},SetTabBarBadge:function(a,e,o){var i=this;"object"===t(a)&&(this.globalData.tab.list.forEach((function(t){t.value===e&&t.dot!=o&&(t.dot=o)})),this.globalData.tab.instance.forEach((function(t){null!=t&&"function"==typeof t.setData&&t.setData({list:i.globalData.tab.list})})))},loadKeyStore:function(){var t=this.globalData.data.keyStore.localName;try{var a=wx.getStorageSync(t);if(a)for(var e=0;e<a.length;e++){var i={click:!1,value:(0,o.hex2string)(a[e],6,!0)};this.globalData.data.keyStore.list.push(i)}}catch(t){console.log("读取密码库",t)}},addKeyStore:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.globalData.data.keyStore.list.length>=this.globalData.data.keyStore.total)return 2;for(var e=!1,o=0;o<this.globalData.data.keyStore.list.length;o++)if(t===this.globalData.data.keyStore.list[o].value){e=!0;break}if(!e){var i={click:!1,value:t};return this.globalData.data.keyStore.list.push(i),a&&this.updateKeyStore(),1}return 0},deleteKeyStore:function(t){for(var a in this.globalData.data.keyStore.list)if(t===this.globalData.data.keyStore.list[a].value){this.globalData.data.keyStore.list.splice(a,1);break}this.updateKeyStore()},updateKeyStore:function(){var t=this.globalData.data.keyStore.localName;try{for(var a=[],e=0;e<this.globalData.data.keyStore.list.length;e++){var i=this.globalData.data.keyStore.list[e].value,n=(0,o.string2Hex)(null!=i?i:[]);a.push(n)}wx.setStorageSync(t,a)}catch(t){console.log("更新密码库",t)}},addCardDataHub:function(){this.globalData.data.cardHubs.totalCount++,this.globalData.data.cardHubs.sync=!1},modifyCardDataHub:function(t){if(t.MD5)for(var a in this.globalData.data.cardHubs.list)if(this.globalData.data.cardHubs.list[a].MD5===t.MD5){this.globalData.data.cardHubs.list[a].Name=t.name,this.globalData.data.cardHubs.list[a].Address=t.address;break}},deleteCardDataHub:function(t){if(t.MD5)for(var a in this.globalData.data.cardHubs.list)if(this.globalData.data.cardHubs.list[a].MD5===t.MD5){this.globalData.data.cardHubs.list.splice(a,1),this.globalData.data.cardHubs.Index--,this.globalData.data.cardHubs.totalCount--;break}},showLoadingToast:function(t,a,e){(0,i.default)({context:t,selector:a,message:null!=e?e:"loading",theme:"loading",preventScrollThrough:!0,direction:"column",duration:-1})},hideToast:function(t,a){(0,i.hideToast)({context:t,selector:a})},loadConfigInfo:function(){try{var t=wx.getStorageSync("configInfo");if(t)return t}catch(t){console.log("读取配置信息",t)}return{autoShowSetCardData:!0}},updateConfigInfo:function(t){try{t?wx.setStorageSync("configInfo",t):wx.setStorageSync("configInfo",{autoShowSetCardData:!0,showUpdateInfo:!0})}catch(t){console.log("更新配置信息",t)}}});
},{isPage:false,isComponent:false,currentFile:'app.js'});require("app.js");;__wxRoute = "custom-tab-bar/index";__wxRouteBegin = true;__wxAppCurrentFile__="custom-tab-bar/index.js";define("custom-tab-bar/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";Component({properties:{},data:{value:"tab_device",list:[],urls:["/pages/device/index","/pages/cardHub/index","/pages/my/index"]},lifetimes:{attached:function(){this.setData({list:getApp().globalData.tab.list}),getApp().globalData.tab.instance.push(this)}},methods:{switchTap:function(t){var a=t.detail.value,e=0;"tab_device"==a?e=0:"tab_cardhub"==a?e=1:"tab_my"==a&&(e=2);var s=this.data.urls;wx.switchTab({url:s[e],success:function(t){var e=getCurrentPages(),s=e[e.length-1];"function"==typeof s.getTabBar&&s.getTabBar().setData({value:a})}})}}});
},{isPage:false,isComponent:true,currentFile:'custom-tab-bar/index.js'});require("custom-tab-bar/index.js");